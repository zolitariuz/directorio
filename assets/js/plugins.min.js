!function(){window.mediaCheck=function(e){var t,n,o,i,a,s,r,c,l;if(c=void 0,l=void 0,o=void 0,n=void 0,i=void 0,a=void 0!==window.matchMedia&&!!window.matchMedia("!").addListener)return l=function(e,t){return e.matches?"function"==typeof t.entry&&t.entry(e):"function"==typeof t.exit&&t.exit(e),"function"==typeof t.both?t.both(e):void 0},o=function(){return c=window.matchMedia(e.media),c.addListener(function(){return l(c,e)}),window.addEventListener("orientationchange",function(){return c=window.matchMedia(e.media),l(c,e)},!1),l(c,e)},o();t={},l=function(e,n){return e.matches?"function"!=typeof n.entry||t[n.media]!==!1&&null!=t[n.media]||n.entry(e):"function"!=typeof n.exit||t[n.media]!==!0&&null!=t[n.media]||n.exit(e),"function"==typeof n.both&&n.both(e),t[n.media]=e.matches},n=function(e){var t,n;return t=void 0,t=document.createElement("div"),t.style.width="1em",t.style.position="absolute",document.body.appendChild(t),n=e*t.offsetWidth,document.body.removeChild(t),n},i=function(e,t){var o;switch(o=void 0,t){case"em":o=n(e);break;default:o=e}return o};for(s in e)t[e.media]=null;return r=function(){var t,n,o,a,s;return o=e.media.match(/\((.*)-.*:\s*([\d\.]*)(.*)\)/),t=o[1],a=i(parseInt(o[2],10),o[3]),n={},s=window.innerWidth||document.documentElement.clientWidth,n.matches="max"===t&&a>s||"min"===t&&s>a,l(n,e)},window.addEventListener?window.addEventListener("resize",r):window.attachEvent&&window.attachEvent("onresize",r),r()}}.call(this),!function(e){function t(){}function n(e){function n(t){t.prototype.option||(t.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))})}function i(t,n){e.fn[t]=function(i){if("string"==typeof i){for(var s=o.call(arguments,1),r=0,c=this.length;c>r;r++){var l=this[r],u=e.data(l,t);if(u)if(e.isFunction(u[i])&&"_"!==i.charAt(0)){var d=u[i].apply(u,s);if(void 0!==d)return d}else a("no such method '"+i+"' for "+t+" instance");else a("cannot call methods on "+t+" prior to initialization; attempted to call '"+i+"'")}return this}return this.each(function(){var o=e.data(this,t);o?(o.option(i),o._init()):(o=new n(this,i),e.data(this,t,o))})}}if(e){var a="undefined"==typeof console?t:function(e){console.error(e)};return e.bridget=function(e,t){n(t),i(e,t)},e.bridget}}var o=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],n):n(e.jQuery)}(window),function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,o=function(){};n.addEventListener?o=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(o=function(e,n,o){e[n+o]=o.handleEvent?function(){var n=t(e);o.handleEvent.call(o,n)}:function(){var n=t(e);o.call(e,n)},e.attachEvent("on"+n,e[n+o])});var i=function(){};n.removeEventListener?i=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(i=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(o){e[t+n]=void 0}});var a={bind:o,unbind:i};"function"==typeof define&&define.amd?define("eventie/eventie",a):"object"==typeof exports?module.exports=a:e.eventie=a}(this),function(e){function t(e){"function"==typeof e&&(t.isReady?e():a.push(e))}function n(e){var n="readystatechange"===e.type&&"complete"!==i.readyState;if(!t.isReady&&!n){t.isReady=!0;for(var o=0,s=a.length;s>o;o++){var r=a[o];r()}}}function o(o){return o.bind(i,"DOMContentLoaded",n),o.bind(i,"readystatechange",n),o.bind(e,"load",n),t}var i=e.document,a=[];t.isReady=!1,"function"==typeof define&&define.amd?(t.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],o)):e.docReady=o(e.eventie)}(this),function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var o=e.prototype,i=this,a=i.EventEmitter;o.getListeners=function(e){var t,n,o=this._getEvents();if(e instanceof RegExp){t={};for(n in o)o.hasOwnProperty(n)&&e.test(n)&&(t[n]=o[n])}else t=o[e]||(o[e]=[]);return t},o.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},o.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},o.addListener=function(e,n){var o,i=this.getListenersAsObject(e),a="object"==typeof n;for(o in i)i.hasOwnProperty(o)&&-1===t(i[o],n)&&i[o].push(a?n:{listener:n,once:!1});return this},o.on=n("addListener"),o.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},o.once=n("addOnceListener"),o.defineEvent=function(e){return this.getListeners(e),this},o.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},o.removeListener=function(e,n){var o,i,a=this.getListenersAsObject(e);for(i in a)a.hasOwnProperty(i)&&(o=t(a[i],n),-1!==o&&a[i].splice(o,1));return this},o.off=n("removeListener"),o.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},o.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},o.manipulateListeners=function(e,t,n){var o,i,a=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(o=n.length;o--;)a.call(this,t,n[o]);else for(o in t)t.hasOwnProperty(o)&&(i=t[o])&&("function"==typeof i?a.call(this,o,i):s.call(this,o,i));return this},o.removeEvent=function(e){var t,n=typeof e,o=this._getEvents();if("string"===n)delete o[e];else if(e instanceof RegExp)for(t in o)o.hasOwnProperty(t)&&e.test(t)&&delete o[t];else delete this._events;return this},o.removeAllListeners=n("removeEvent"),o.emitEvent=function(e,t){var n,o,i,a,s=this.getListenersAsObject(e);for(i in s)if(s.hasOwnProperty(i))for(o=s[i].length;o--;)n=s[i][o],n.once===!0&&this.removeListener(e,n.listener),a=n.listener.apply(this,t||[]),a===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},o.trigger=n("emitEvent"),o.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},o.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},o._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},o._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return i.EventEmitter=a,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(e){function t(e){if(e){if("string"==typeof o[e])return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var t,i=0,a=n.length;a>i;i++)if(t=n[i]+e,"string"==typeof o[t])return t}}var n="Webkit Moz ms Ms O".split(" "),o=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return t}):"object"==typeof exports?module.exports=t:e.getStyleProperty=t}(window),function(e){function t(e){var t=parseFloat(e),n=-1===e.indexOf("%")&&!isNaN(t);return n&&t}function n(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0,n=s.length;n>t;t++){var o=s[t];e[o]=0}return e}function o(e){function o(e){if("string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var o=a(e);if("none"===o.display)return n();var i={};i.width=e.offsetWidth,i.height=e.offsetHeight;for(var u=i.isBorderBox=!(!l||!o[l]||"border-box"!==o[l]),d=0,p=s.length;p>d;d++){var h=s[d],f=o[h];f=r(e,f);var m=parseFloat(f);i[h]=isNaN(m)?0:m}var v=i.paddingLeft+i.paddingRight,g=i.paddingTop+i.paddingBottom,_=i.marginLeft+i.marginRight,$=i.marginTop+i.marginBottom,b=i.borderLeftWidth+i.borderRightWidth,y=i.borderTopWidth+i.borderBottomWidth,C=u&&c,w=t(o.width);w!==!1&&(i.width=w+(C?0:v+b));var T=t(o.height);return T!==!1&&(i.height=T+(C?0:g+y)),i.innerWidth=i.width-(v+b),i.innerHeight=i.height-(g+y),i.outerWidth=i.width+_,i.outerHeight=i.height+$,i}}function r(e,t){if(i||-1===t.indexOf("%"))return t;var n=e.style,o=n.left,a=e.runtimeStyle,s=a&&a.left;return s&&(a.left=e.currentStyle.left),n.left=t,t=n.pixelLeft,n.left=o,s&&(a.left=s),t}var c,l=e("boxSizing");return function(){if(l){var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style[l]="border-box";var n=document.body||document.documentElement;n.appendChild(e);var o=a(e);c=200===t(o.width),n.removeChild(e)}}(),o}var i=e.getComputedStyle,a=i?function(e){return i(e,null)}:function(e){return e.currentStyle},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],o):"object"==typeof exports?module.exports=o(require("get-style-property")):e.getSize=o(e.getStyleProperty)}(window),function(e,t){function n(e,t){return e[r](t)}function o(e){if(!e.parentNode){var t=document.createDocumentFragment();t.appendChild(e)}}function i(e,t){o(e);for(var n=e.parentNode.querySelectorAll(t),i=0,a=n.length;a>i;i++)if(n[i]===e)return!0;return!1}function a(e,t){return o(e),n(e,t)}var s,r=function(){if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0,o=e.length;o>n;n++){var i=e[n],a=i+"MatchesSelector";if(t[a])return a}}();if(r){var c=document.createElement("div"),l=n(c,"div");s=l?n:a}else s=i;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return s}):window.matchesSelector=s}(this,Element.prototype),function(e){function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e){for(var t in e)return!1;return t=null,!0}function o(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function i(e,i,a){function r(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var c=a("transition"),l=a("transform"),u=c&&l,d=!!a("perspective"),p={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[c],h=["transform","transition","transitionDuration","transitionProperty"],f=function(){for(var e={},t=0,n=h.length;n>t;t++){var o=h[t],i=a(o);i&&i!==o&&(e[o]=i)}return e}();t(r.prototype,e.prototype),r.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},r.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.prototype.getSize=function(){this.size=i(this.element)},r.prototype.css=function(e){var t=this.element.style;for(var n in e){var o=f[n]||n;t[o]=e[n]}},r.prototype.getPosition=function(){var e=s(this.element),t=this.layout.options,n=t.isOriginLeft,o=t.isOriginTop,i=parseInt(e[n?"left":"right"],10),a=parseInt(e[o?"top":"bottom"],10);i=isNaN(i)?0:i,a=isNaN(a)?0:a;var r=this.layout.size;i-=n?r.paddingLeft:r.paddingRight,a-=o?r.paddingTop:r.paddingBottom,this.position.x=i,this.position.y=a},r.prototype.layoutPosition=function(){var e=this.layout.size,t=this.layout.options,n={};t.isOriginLeft?(n.left=this.position.x+e.paddingLeft+"px",n.right=""):(n.right=this.position.x+e.paddingRight+"px",n.left=""),t.isOriginTop?(n.top=this.position.y+e.paddingTop+"px",n.bottom=""):(n.bottom=this.position.y+e.paddingBottom+"px",n.top=""),this.css(n),this.emitEvent("layout",[this])};var m=d?function(e,t){return"translate3d("+e+"px, "+t+"px, 0)"}:function(e,t){return"translate("+e+"px, "+t+"px)"};r.prototype._transitionTo=function(e,t){this.getPosition();var n=this.position.x,o=this.position.y,i=parseInt(e,10),a=parseInt(t,10),s=i===this.position.x&&a===this.position.y;if(this.setPosition(e,t),s&&!this.isTransitioning)return void this.layoutPosition();var r=e-n,c=t-o,l={},u=this.layout.options;r=u.isOriginLeft?r:-r,c=u.isOriginTop?c:-c,l.transform=m(r,c),this.transition({to:l,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},r.prototype.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},r.prototype.moveTo=u?r.prototype._transitionTo:r.prototype.goTo,r.prototype.setPosition=function(e,t){this.position.x=parseInt(e,10),this.position.y=parseInt(t,10)},r.prototype._nonTransition=function(e){this.css(e.to),e.isCleaning&&this._removeStyles(e.to);for(var t in e.onTransitionEnd)e.onTransitionEnd[t].call(this)},r.prototype._transition=function(e){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(e);var t=this._transn;for(var n in e.onTransitionEnd)t.onEnd[n]=e.onTransitionEnd[n];for(n in e.to)t.ingProperties[n]=!0,e.isCleaning&&(t.clean[n]=!0);if(e.from){this.css(e.from);var o=this.element.offsetHeight;o=null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0};var v=l&&o(l)+",opacity";r.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:v,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(p,this,!1))},r.prototype.transition=r.prototype[c?"_transition":"_nonTransition"],r.prototype.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},r.prototype.onotransitionend=function(e){this.ontransitionend(e)};var g={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};r.prototype.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,o=g[e.propertyName]||e.propertyName;if(delete t.ingProperties[o],n(t.ingProperties)&&this.disableTransition(),o in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[o]),o in t.onEnd){var i=t.onEnd[o];i.call(this),delete t.onEnd[o]}this.emitEvent("transitionEnd",[this])}},r.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(p,this,!1),this.isTransitioning=!1},r.prototype._removeStyles=function(e){var t={};for(var n in e)t[n]="";this.css(t)};var _={transitionProperty:"",transitionDuration:""};return r.prototype.removeTransitionStyles=function(){this.css(_)},r.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},r.prototype.remove=function(){if(!c||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var e=this;this.on("transitionEnd",function(){return e.removeElem(),!0}),this.hide()},r.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options;this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0})},r.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options;this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},r.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},r}var a=e.getComputedStyle,s=a?function(e){return a(e,null)}:function(e){return e.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],i):(e.Outlayer={},e.Outlayer.Item=i(e.EventEmitter,e.getSize,e.getStyleProperty))}(window),function(e){function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e){return"[object Array]"===d.call(e)}function o(e){var t=[];if(n(e))t=e;else if(e&&"number"==typeof e.length)for(var o=0,i=e.length;i>o;o++)t.push(e[o]);else t.push(e);return t}function i(e,t){var n=h(t,e);-1!==n&&t.splice(n,1)}function a(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()}function s(n,s,d,h,f,m){function v(e,n){if("string"==typeof e&&(e=r.querySelector(e)),!e||!p(e))return void(c&&c.error("Bad "+this.constructor.namespace+" element: "+e));this.element=e,this.options=t({},this.constructor.defaults),this.option(n);var o=++g;this.element.outlayerGUID=o,_[o]=this,this._create(),this.options.isInitLayout&&this.layout()}var g=0,_={};return v.namespace="outlayer",v.Item=m,v.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},t(v.prototype,d.prototype),v.prototype.option=function(e){t(this.options,e)},v.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),t(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},v.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},v.prototype._itemize=function(e){for(var t=this._filterFindItemElements(e),n=this.constructor.Item,o=[],i=0,a=t.length;a>i;i++){var s=t[i],r=new n(s,this);o.push(r)}return o},v.prototype._filterFindItemElements=function(e){e=o(e);for(var t=this.options.itemSelector,n=[],i=0,a=e.length;a>i;i++){var s=e[i];if(p(s))if(t){f(s,t)&&n.push(s);for(var r=s.querySelectorAll(t),c=0,l=r.length;l>c;c++)n.push(r[c])}else n.push(s)}return n},v.prototype.getItemElements=function(){for(var e=[],t=0,n=this.items.length;n>t;t++)e.push(this.items[t].element);return e},v.prototype.layout=function(){this._resetLayout(),this._manageStamps();var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},v.prototype._init=v.prototype.layout,v.prototype._resetLayout=function(){this.getSize()},v.prototype.getSize=function(){this.size=h(this.element)},v.prototype._getMeasurement=function(e,t){var n,o=this.options[e];o?("string"==typeof o?n=this.element.querySelector(o):p(o)&&(n=o),this[e]=n?h(n)[t]:o):this[e]=0},v.prototype.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},v.prototype._getItemsForLayout=function(e){for(var t=[],n=0,o=e.length;o>n;n++){var i=e[n];i.isIgnored||t.push(i)}return t},v.prototype._layoutItems=function(e,t){function n(){o.emitEvent("layoutComplete",[o,e])}var o=this;if(!e||!e.length)return void n();this._itemsOn(e,"layout",n);for(var i=[],a=0,s=e.length;s>a;a++){var r=e[a],c=this._getItemLayoutPosition(r);c.item=r,c.isInstant=t||r.isLayoutInstant,i.push(c)}this._processLayoutQueue(i)},v.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},v.prototype._processLayoutQueue=function(e){for(var t=0,n=e.length;n>t;t++){var o=e[t];this._positionItem(o.item,o.x,o.y,o.isInstant)}},v.prototype._positionItem=function(e,t,n,o){o?e.goTo(t,n):e.moveTo(t,n)},v.prototype._postLayout=function(){this.resizeContainer()},v.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},v.prototype._getContainerSize=u,v.prototype._setContainerMeasure=function(e,t){if(void 0!==e){var n=this.size;n.isBorderBox&&(e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},v.prototype._itemsOn=function(e,t,n){function o(){return i++,i===a&&n.call(s),!0}for(var i=0,a=e.length,s=this,r=0,c=e.length;c>r;r++){var l=e[r];l.on(t,o)}},v.prototype.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},v.prototype.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},v.prototype.stamp=function(e){if(e=this._find(e)){this.stamps=this.stamps.concat(e);for(var t=0,n=e.length;n>t;t++){var o=e[t];this.ignore(o)}}},v.prototype.unstamp=function(e){if(e=this._find(e))for(var t=0,n=e.length;n>t;t++){var o=e[t];i(o,this.stamps),this.unignore(o)}},v.prototype._find=function(e){return e?("string"==typeof e&&(e=this.element.querySelectorAll(e)),e=o(e)):void 0},v.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var e=0,t=this.stamps.length;t>e;e++){var n=this.stamps[e];this._manageStamp(n)}}},v.prototype._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},v.prototype._manageStamp=u,v.prototype._getElementOffset=function(e){var t=e.getBoundingClientRect(),n=this._boundingRect,o=h(e),i={left:t.left-n.left-o.marginLeft,top:t.top-n.top-o.marginTop,right:n.right-t.right-o.marginRight,bottom:n.bottom-t.bottom-o.marginBottom};return i},v.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},v.prototype.bindResize=function(){this.isResizeBound||(n.bind(e,"resize",this),this.isResizeBound=!0)},v.prototype.unbindResize=function(){this.isResizeBound&&n.unbind(e,"resize",this),this.isResizeBound=!1},v.prototype.onresize=function(){function e(){t.resize(),delete t.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout(e,100)},v.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},v.prototype.needsResizeLayout=function(){var e=h(this.element),t=this.size&&e;return t&&e.innerWidth!==this.size.innerWidth},v.prototype.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},v.prototype.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},v.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(n)}},v.prototype.reveal=function(e){var t=e&&e.length;if(t)for(var n=0;t>n;n++){var o=e[n];o.reveal()}},v.prototype.hide=function(e){var t=e&&e.length;if(t)for(var n=0;t>n;n++){var o=e[n];o.hide()}},v.prototype.getItem=function(e){for(var t=0,n=this.items.length;n>t;t++){var o=this.items[t];if(o.element===e)return o}},v.prototype.getItems=function(e){if(e&&e.length){for(var t=[],n=0,o=e.length;o>n;n++){var i=e[n],a=this.getItem(i);a&&t.push(a)}return t}},v.prototype.remove=function(e){e=o(e);var t=this.getItems(e);if(t&&t.length){this._itemsOn(t,"remove",function(){this.emitEvent("removeComplete",[this,t])});for(var n=0,a=t.length;a>n;n++){var s=t[n];s.remove(),i(s,this.items)}}},v.prototype.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="";for(var t=0,n=this.items.length;n>t;t++){var o=this.items[t];o.destroy()}this.unbindResize(),delete this.element.outlayerGUID,l&&l.removeData(this.element,this.constructor.namespace)},v.data=function(e){var t=e&&e.outlayerGUID;return t&&_[t]},v.create=function(e,n){function o(){v.apply(this,arguments)}return Object.create?o.prototype=Object.create(v.prototype):t(o.prototype,v.prototype),o.prototype.constructor=o,o.defaults=t({},v.defaults),t(o.defaults,n),o.prototype.settings={},o.namespace=e,o.data=v.data,o.Item=function(){m.apply(this,arguments)},o.Item.prototype=new m,s(function(){for(var t=a(e),n=r.querySelectorAll(".js-"+t),i="data-"+t+"-options",s=0,u=n.length;u>s;s++){var d,p=n[s],h=p.getAttribute(i);try{d=h&&JSON.parse(h)}catch(f){c&&c.error("Error parsing "+i+" on "+p.nodeName.toLowerCase()+(p.id?"#"+p.id:"")+": "+f);continue}var m=new o(p,d);l&&l.data(p,e,m)}}),l&&l.bridget&&l.bridget(e,o),o},v.Item=m,v}var r=e.document,c=e.console,l=e.jQuery,u=function(){},d=Object.prototype.toString,p="object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},h=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,o=e.length;o>n;n++)if(e[n]===t)return n;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],s):e.Outlayer=s(e.eventie,e.docReady,e.EventEmitter,e.getSize,e.matchesSelector,e.Outlayer.Item)}(window),function(e){function t(e,t){var o=e.create("masonry");return o.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;for(this.colYs=[];e--;)this.colYs.push(0);this.maxY=0},o.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],n=e&&e.element;this.columnWidth=n&&t(n).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},o.prototype.getContainerWidth=function(){var e=this.options.isFitWidth?this.element.parentNode:this.element,n=t(e);this.containerWidth=n&&n.innerWidth},o.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,o=t&&1>t?"round":"ceil",i=Math[o](e.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var a=this._getColGroup(i),s=Math.min.apply(Math,a),r=n(a,s),c={x:this.columnWidth*r,y:s},l=s+e.size.outerHeight,u=this.cols+1-a.length,d=0;u>d;d++)this.colYs[r+d]=l;return c},o.prototype._getColGroup=function(e){if(2>e)return this.colYs;for(var t=[],n=this.cols+1-e,o=0;n>o;o++){var i=this.colYs.slice(o,o+e);t[o]=Math.max.apply(Math,i)}return t},o.prototype._manageStamp=function(e){var n=t(e),o=this._getElementOffset(e),i=this.options.isOriginLeft?o.left:o.right,a=i+n.outerWidth,s=Math.floor(i/this.columnWidth);s=Math.max(0,s);var r=Math.floor(a/this.columnWidth);r-=a%this.columnWidth?0:1,r=Math.min(this.cols-1,r);for(var c=(this.options.isOriginTop?o.top:o.bottom)+n.outerHeight,l=s;r>=l;l++)this.colYs[l]=Math.max(c,this.colYs[l])},o.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this.options.isFitWidth&&(e.width=this._getContainerFitWidth()),e},o.prototype._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},o.prototype.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!==this.containerWidth},o}var n=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,o=e.length;o>n;n++){var i=e[n];if(i===t)return n}return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],t):e.Masonry=t(e.Outlayer,e.getSize)}(window),!function(e){"use strict";function t(e){return(e||"").toLowerCase()}var n="2.1.5";e.fn.cycle=function(n){var o;return 0!==this.length||e.isReady?this.each(function(){var o,i,a,s,r=e(this),c=e.fn.cycle.log;if(!r.data("cycle.opts")){(r.data("cycle-log")===!1||n&&n.log===!1||i&&i.log===!1)&&(c=e.noop),c("--c2 init--"),o=r.data();for(var l in o)o.hasOwnProperty(l)&&/^cycle[A-Z]+/.test(l)&&(s=o[l],a=l.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,t),c(a+":",s,"("+typeof s+")"),o[a]=s);i=e.extend({},e.fn.cycle.defaults,o,n||{}),i.timeoutId=0,i.paused=i.paused||!1,i.container=r,i._maxZ=i.maxZ,i.API=e.extend({_container:r},e.fn.cycle.API),i.API.log=c,i.API.trigger=function(e,t){return i.container.trigger(e,t),i.API},r.data("cycle.opts",i),r.data("cycle.API",i.API),i.API.trigger("cycle-bootstrap",[i,i.API]),i.API.addInitialSlides(),i.API.preInitSlideshow(),i.slides.length&&i.API.initSlideshow()}}):(o={s:this.selector,c:this.context},e.fn.cycle.log("requeuing slideshow (dom not ready)"),e(function(){e(o.s,o.c).cycle(n)}),this)},e.fn.cycle.API={opts:function(){return this._container.data("cycle.opts")},addInitialSlides:function(){var t=this.opts(),n=t.slides;t.slideCount=0,t.slides=e(),n=n.jquery?n:t.container.find(n),t.random&&n.sort(function(){return Math.random()-.5}),t.API.add(n)},preInitSlideshow:function(){var t=this.opts();t.API.trigger("cycle-pre-initialize",[t]);var n=e.fn.cycle.transitions[t.fx];n&&e.isFunction(n.preInit)&&n.preInit(t),t._preInitialized=!0},postInitSlideshow:function(){var t=this.opts();t.API.trigger("cycle-post-initialize",[t]);var n=e.fn.cycle.transitions[t.fx];n&&e.isFunction(n.postInit)&&n.postInit(t)},initSlideshow:function(){var t,n=this.opts(),o=n.container;n.API.calcFirstSlide(),"static"==n.container.css("position")&&n.container.css("position","relative"),e(n.slides[n.currSlide]).css({opacity:1,display:"block",visibility:"visible"}),n.API.stackSlides(n.slides[n.currSlide],n.slides[n.nextSlide],!n.reverse),n.pauseOnHover&&(n.pauseOnHover!==!0&&(o=e(n.pauseOnHover)),o.hover(function(){n.API.pause(!0)},function(){n.API.resume(!0)})),n.timeout&&(t=n.API.getSlideOpts(n.currSlide),n.API.queueTransition(t,t.timeout+n.delay)),n._initialized=!0,n.API.updateView(!0),n.API.trigger("cycle-initialized",[n]),n.API.postInitSlideshow()},pause:function(t){var n=this.opts(),o=n.API.getSlideOpts(),i=n.hoverPaused||n.paused;t?n.hoverPaused=!0:n.paused=!0,i||(n.container.addClass("cycle-paused"),n.API.trigger("cycle-paused",[n]).log("cycle-paused"),o.timeout&&(clearTimeout(n.timeoutId),n.timeoutId=0,n._remainingTimeout-=e.now()-n._lastQueue,(n._remainingTimeout<0||isNaN(n._remainingTimeout))&&(n._remainingTimeout=void 0)))},resume:function(e){var t=this.opts(),n=!t.hoverPaused&&!t.paused;e?t.hoverPaused=!1:t.paused=!1,n||(t.container.removeClass("cycle-paused"),0===t.slides.filter(":animated").length&&t.API.queueTransition(t.API.getSlideOpts(),t._remainingTimeout),t.API.trigger("cycle-resumed",[t,t._remainingTimeout]).log("cycle-resumed"))},add:function(t,n){var o,i=this.opts(),a=i.slideCount,s=!1;"string"==e.type(t)&&(t=e.trim(t)),e(t).each(function(){var t,o=e(this);n?i.container.prepend(o):i.container.append(o),i.slideCount++,t=i.API.buildSlideOpts(o),i.slides=n?e(o).add(i.slides):i.slides.add(o),i.API.initSlide(t,o,--i._maxZ),o.data("cycle.opts",t),i.API.trigger("cycle-slide-added",[i,t,o])}),i.API.updateView(!0),s=i._preInitialized&&2>a&&i.slideCount>=1,s&&(i._initialized?i.timeout&&(o=i.slides.length,i.nextSlide=i.reverse?o-1:1,i.timeoutId||i.API.queueTransition(i)):i.API.initSlideshow())},calcFirstSlide:function(){var e,t=this.opts();e=parseInt(t.startingSlide||0,10),(e>=t.slides.length||0>e)&&(e=0),t.currSlide=e,t.reverse?(t.nextSlide=e-1,t.nextSlide<0&&(t.nextSlide=t.slides.length-1)):(t.nextSlide=e+1,t.nextSlide==t.slides.length&&(t.nextSlide=0))},calcNextSlide:function(){var e,t=this.opts();t.reverse?(e=t.nextSlide-1<0,t.nextSlide=e?t.slideCount-1:t.nextSlide-1,t.currSlide=e?0:t.nextSlide+1):(e=t.nextSlide+1==t.slides.length,t.nextSlide=e?0:t.nextSlide+1,t.currSlide=e?t.slides.length-1:t.nextSlide-1)},calcTx:function(t,n){var o,i=t;return i._tempFx?o=e.fn.cycle.transitions[i._tempFx]:n&&i.manualFx&&(o=e.fn.cycle.transitions[i.manualFx]),o||(o=e.fn.cycle.transitions[i.fx]),i._tempFx=null,this.opts()._tempFx=null,o||(o=e.fn.cycle.transitions.fade,i.API.log('Transition "'+i.fx+'" not found.  Using fade.')),o},prepareTx:function(e,t){var n,o,i,a,s,r=this.opts();return r.slideCount<2?void(r.timeoutId=0):(!e||r.busy&&!r.manualTrump||(r.API.stopTransition(),r.busy=!1,clearTimeout(r.timeoutId),r.timeoutId=0),void(r.busy||(0!==r.timeoutId||e)&&(o=r.slides[r.currSlide],i=r.slides[r.nextSlide],a=r.API.getSlideOpts(r.nextSlide),s=r.API.calcTx(a,e),r._tx=s,e&&void 0!==a.manualSpeed&&(a.speed=a.manualSpeed),r.nextSlide!=r.currSlide&&(e||!r.paused&&!r.hoverPaused&&r.timeout)?(r.API.trigger("cycle-before",[a,o,i,t]),s.before&&s.before(a,o,i,t),n=function(){r.busy=!1,r.container.data("cycle.opts")&&(s.after&&s.after(a,o,i,t),r.API.trigger("cycle-after",[a,o,i,t]),r.API.queueTransition(a),r.API.updateView(!0))},r.busy=!0,s.transition?s.transition(a,o,i,t,n):r.API.doTransition(a,o,i,t,n),r.API.calcNextSlide(),r.API.updateView()):r.API.queueTransition(a))))},doTransition:function(t,n,o,i,a){var s=t,r=e(n),c=e(o),l=function(){c.animate(s.animIn||{opacity:1},s.speed,s.easeIn||s.easing,a)};c.css(s.cssBefore||{}),r.animate(s.animOut||{},s.speed,s.easeOut||s.easing,function(){r.css(s.cssAfter||{}),s.sync||l()
}),s.sync&&l()},queueTransition:function(t,n){var o=this.opts(),i=void 0!==n?n:t.timeout;return 0===o.nextSlide&&0===--o.loop?(o.API.log("terminating; loop=0"),o.timeout=0,i?setTimeout(function(){o.API.trigger("cycle-finished",[o])},i):o.API.trigger("cycle-finished",[o]),void(o.nextSlide=o.currSlide)):void 0!==o.continueAuto&&(o.continueAuto===!1||e.isFunction(o.continueAuto)&&o.continueAuto()===!1)?(o.API.log("terminating automatic transitions"),o.timeout=0,void(o.timeoutId&&clearTimeout(o.timeoutId))):void(i&&(o._lastQueue=e.now(),void 0===n&&(o._remainingTimeout=t.timeout),o.paused||o.hoverPaused||(o.timeoutId=setTimeout(function(){o.API.prepareTx(!1,!o.reverse)},i))))},stopTransition:function(){var e=this.opts();e.slides.filter(":animated").length&&(e.slides.stop(!1,!0),e.API.trigger("cycle-transition-stopped",[e])),e._tx&&e._tx.stopTransition&&e._tx.stopTransition(e)},advanceSlide:function(e){var t=this.opts();return clearTimeout(t.timeoutId),t.timeoutId=0,t.nextSlide=t.currSlide+e,t.nextSlide<0?t.nextSlide=t.slides.length-1:t.nextSlide>=t.slides.length&&(t.nextSlide=0),t.API.prepareTx(!0,e>=0),!1},buildSlideOpts:function(n){var o,i,a=this.opts(),s=n.data()||{};for(var r in s)s.hasOwnProperty(r)&&/^cycle[A-Z]+/.test(r)&&(o=s[r],i=r.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,t),a.API.log("["+(a.slideCount-1)+"]",i+":",o,"("+typeof o+")"),s[i]=o);s=e.extend({},e.fn.cycle.defaults,a,s),s.slideNum=a.slideCount;try{delete s.API,delete s.slideCount,delete s.currSlide,delete s.nextSlide,delete s.slides}catch(c){}return s},getSlideOpts:function(t){var n=this.opts();void 0===t&&(t=n.currSlide);var o=n.slides[t],i=e(o).data("cycle.opts");return e.extend({},n,i)},initSlide:function(t,n,o){var i=this.opts();n.css(t.slideCss||{}),o>0&&n.css("zIndex",o),isNaN(t.speed)&&(t.speed=e.fx.speeds[t.speed]||e.fx.speeds._default),t.sync||(t.speed=t.speed/2),n.addClass(i.slideClass)},updateView:function(e,t){var n=this.opts();if(n._initialized){var o=n.API.getSlideOpts(),i=n.slides[n.currSlide];!e&&t!==!0&&(n.API.trigger("cycle-update-view-before",[n,o,i]),n.updateView<0)||(n.slideActiveClass&&n.slides.removeClass(n.slideActiveClass).eq(n.currSlide).addClass(n.slideActiveClass),e&&n.hideNonActive&&n.slides.filter(":not(."+n.slideActiveClass+")").css("visibility","hidden"),0===n.updateView&&setTimeout(function(){n.API.trigger("cycle-update-view",[n,o,i,e])},o.speed/(n.sync?2:1)),0!==n.updateView&&n.API.trigger("cycle-update-view",[n,o,i,e]),e&&n.API.trigger("cycle-update-view-after",[n,o,i]))}},getComponent:function(t){var n=this.opts(),o=n[t];return"string"==typeof o?/^\s*[\>|\+|~]/.test(o)?n.container.find(o):e(o):o.jquery?o:e(o)},stackSlides:function(t,n,o){var i=this.opts();t||(t=i.slides[i.currSlide],n=i.slides[i.nextSlide],o=!i.reverse),e(t).css("zIndex",i.maxZ);var a,s=i.maxZ-2,r=i.slideCount;if(o){for(a=i.currSlide+1;r>a;a++)e(i.slides[a]).css("zIndex",s--);for(a=0;a<i.currSlide;a++)e(i.slides[a]).css("zIndex",s--)}else{for(a=i.currSlide-1;a>=0;a--)e(i.slides[a]).css("zIndex",s--);for(a=r-1;a>i.currSlide;a--)e(i.slides[a]).css("zIndex",s--)}e(n).css("zIndex",i.maxZ-1)},getSlideIndex:function(e){return this.opts().slides.index(e)}},e.fn.cycle.log=function(){window.console&&console.log&&console.log("[cycle2] "+Array.prototype.join.call(arguments," "))},e.fn.cycle.version=function(){return"Cycle2: "+n},e.fn.cycle.transitions={custom:{},none:{before:function(e,t,n,o){e.API.stackSlides(n,t,o),e.cssBefore={opacity:1,visibility:"visible",display:"block"}}},fade:{before:function(t,n,o,i){var a=t.API.getSlideOpts(t.nextSlide).slideCss||{};t.API.stackSlides(n,o,i),t.cssBefore=e.extend(a,{opacity:0,visibility:"visible",display:"block"}),t.animIn={opacity:1},t.animOut={opacity:0}}},fadeout:{before:function(t,n,o,i){var a=t.API.getSlideOpts(t.nextSlide).slideCss||{};t.API.stackSlides(n,o,i),t.cssBefore=e.extend(a,{opacity:1,visibility:"visible",display:"block"}),t.animOut={opacity:0}}},scrollHorz:{before:function(e,t,n,o){e.API.stackSlides(t,n,o);var i=e.container.css("overflow","hidden").width();e.cssBefore={left:o?i:-i,top:0,opacity:1,visibility:"visible",display:"block"},e.cssAfter={zIndex:e._maxZ-2,left:0},e.animIn={left:0},e.animOut={left:o?-i:i}}}},e.fn.cycle.defaults={allowWrap:!0,autoSelector:".cycle-slideshow[data-cycle-auto-init!=false]",delay:0,easing:null,fx:"fade",hideNonActive:!0,loop:0,manualFx:void 0,manualSpeed:void 0,manualTrump:!0,maxZ:100,pauseOnHover:!1,reverse:!1,slideActiveClass:"cycle-slide-active",slideClass:"cycle-slide",slideCss:{position:"absolute",top:0,left:0},slides:"> img",speed:500,startingSlide:0,sync:!0,timeout:4e3,updateView:0},e(document).ready(function(){e(e.fn.cycle.defaults.autoSelector).cycle()})}(jQuery),function(e){"use strict";function t(t,o){var i,a,s,r=o.autoHeight;if("container"==r)a=e(o.slides[o.currSlide]).outerHeight(),o.container.height(a);else if(o._autoHeightRatio)o.container.height(o.container.width()/o._autoHeightRatio);else if("calc"===r||"number"==e.type(r)&&r>=0){if(s="calc"===r?n(t,o):r>=o.slides.length?0:r,s==o._sentinelIndex)return;o._sentinelIndex=s,o._sentinel&&o._sentinel.remove(),i=e(o.slides[s].cloneNode(!0)),i.removeAttr("id name rel").find("[id],[name],[rel]").removeAttr("id name rel"),i.css({position:"static",visibility:"hidden",display:"block"}).prependTo(o.container).addClass("cycle-sentinel cycle-slide").removeClass("cycle-slide-active"),i.find("*").css("visibility","hidden"),o._sentinel=i}}function n(t,n){var o=0,i=-1;return n.slides.each(function(t){var n=e(this).height();n>i&&(i=n,o=t)}),o}function o(t,n,o,i){var a=e(i).outerHeight();n.container.animate({height:a},n.autoHeightSpeed,n.autoHeightEasing)}function i(n,a){a._autoHeightOnResize&&(e(window).off("resize orientationchange",a._autoHeightOnResize),a._autoHeightOnResize=null),a.container.off("cycle-slide-added cycle-slide-removed",t),a.container.off("cycle-destroyed",i),a.container.off("cycle-before",o),a._sentinel&&(a._sentinel.remove(),a._sentinel=null)}e.extend(e.fn.cycle.defaults,{autoHeight:0,autoHeightSpeed:250,autoHeightEasing:null}),e(document).on("cycle-initialized",function(n,a){function s(){t(n,a)}var r,c=a.autoHeight,l=e.type(c),u=null;("string"===l||"number"===l)&&(a.container.on("cycle-slide-added cycle-slide-removed",t),a.container.on("cycle-destroyed",i),"container"==c?a.container.on("cycle-before",o):"string"===l&&/\d+\:\d+/.test(c)&&(r=c.match(/(\d+)\:(\d+)/),r=r[1]/r[2],a._autoHeightRatio=r),"number"!==l&&(a._autoHeightOnResize=function(){clearTimeout(u),u=setTimeout(s,50)},e(window).on("resize orientationchange",a._autoHeightOnResize)),setTimeout(s,30))})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{caption:"> .cycle-caption",captionTemplate:"{{slideNum}} / {{slideCount}}",overlay:"> .cycle-overlay",overlayTemplate:"<div>{{title}}</div><div>{{desc}}</div>",captionModule:"caption"}),e(document).on("cycle-update-view",function(t,n,o,i){"caption"===n.captionModule&&e.each(["caption","overlay"],function(){var e=this,t=o[e+"Template"],a=n.API.getComponent(e);a.length&&t?(a.html(n.API.tmpl(t,o,n,i)),a.show()):a.hide()})}),e(document).on("cycle-destroyed",function(t,n){var o;e.each(["caption","overlay"],function(){var e=this,t=n[e+"Template"];n[e]&&t&&(o=n.API.getComponent("caption"),o.empty())})})}(jQuery),function(e){"use strict";var t=e.fn.cycle;e.fn.cycle=function(n){var o,i,a,s=e.makeArray(arguments);return"number"==e.type(n)?this.cycle("goto",n):"string"==e.type(n)?this.each(function(){var r;return o=n,a=e(this).data("cycle.opts"),void 0===a?void t.log('slideshow must be initialized before sending commands; "'+o+'" ignored'):(o="goto"==o?"jump":o,i=a.API[o],e.isFunction(i)?(r=e.makeArray(s),r.shift(),i.apply(a.API,r)):void t.log("unknown command: ",o))}):t.apply(this,arguments)},e.extend(e.fn.cycle,t),e.extend(t.API,{next:function(){var e=this.opts();if(!e.busy||e.manualTrump){var t=e.reverse?-1:1;e.allowWrap===!1&&e.currSlide+t>=e.slideCount||(e.API.advanceSlide(t),e.API.trigger("cycle-next",[e]).log("cycle-next"))}},prev:function(){var e=this.opts();if(!e.busy||e.manualTrump){var t=e.reverse?1:-1;e.allowWrap===!1&&e.currSlide+t<0||(e.API.advanceSlide(t),e.API.trigger("cycle-prev",[e]).log("cycle-prev"))}},destroy:function(){this.stop();var t=this.opts(),n=e.isFunction(e._data)?e._data:e.noop;clearTimeout(t.timeoutId),t.timeoutId=0,t.API.stop(),t.API.trigger("cycle-destroyed",[t]).log("cycle-destroyed"),t.container.removeData(),n(t.container[0],"parsedAttrs",!1),t.retainStylesOnDestroy||(t.container.removeAttr("style"),t.slides.removeAttr("style"),t.slides.removeClass(t.slideActiveClass)),t.slides.each(function(){e(this).removeData(),n(this,"parsedAttrs",!1)})},jump:function(e,t){var n,o=this.opts();if(!o.busy||o.manualTrump){var i=parseInt(e,10);if(isNaN(i)||0>i||i>=o.slides.length)return void o.API.log("goto: invalid slide index: "+i);if(i==o.currSlide)return void o.API.log("goto: skipping, already on slide",i);o.nextSlide=i,clearTimeout(o.timeoutId),o.timeoutId=0,o.API.log("goto: ",i," (zero-index)"),n=o.currSlide<o.nextSlide,o._tempFx=t,o.API.prepareTx(!0,n)}},stop:function(){var t=this.opts(),n=t.container;clearTimeout(t.timeoutId),t.timeoutId=0,t.API.stopTransition(),t.pauseOnHover&&(t.pauseOnHover!==!0&&(n=e(t.pauseOnHover)),n.off("mouseenter mouseleave")),t.API.trigger("cycle-stopped",[t]).log("cycle-stopped")},reinit:function(){var e=this.opts();e.API.destroy(),e.container.cycle()},remove:function(t){for(var n,o,i=this.opts(),a=[],s=1,r=0;r<i.slides.length;r++)n=i.slides[r],r==t?o=n:(a.push(n),e(n).data("cycle.opts").slideNum=s,s++);o&&(i.slides=e(a),i.slideCount--,e(o).remove(),t==i.currSlide?i.API.advanceSlide(1):t<i.currSlide?i.currSlide--:i.currSlide++,i.API.trigger("cycle-slide-removed",[i,t,o]).log("cycle-slide-removed"),i.API.updateView())}}),e(document).on("click.cycle","[data-cycle-cmd]",function(t){t.preventDefault();var n=e(this),o=n.data("cycle-cmd"),i=n.data("cycle-context")||".cycle-slideshow";e(i).cycle(o,n.data("cycle-arg"))})}(jQuery),function(e){"use strict";function t(t,n){var o;return t._hashFence?void(t._hashFence=!1):(o=window.location.hash.substring(1),void t.slides.each(function(i){if(e(this).data("cycle-hash")==o){if(n===!0)t.startingSlide=i;else{var a=t.currSlide<i;t.nextSlide=i,t.API.prepareTx(!0,a)}return!1}}))}e(document).on("cycle-pre-initialize",function(n,o){t(o,!0),o._onHashChange=function(){t(o,!1)},e(window).on("hashchange",o._onHashChange)}),e(document).on("cycle-update-view",function(e,t,n){n.hash&&"#"+n.hash!=window.location.hash&&(t._hashFence=!0,window.location.hash=n.hash)}),e(document).on("cycle-destroyed",function(t,n){n._onHashChange&&e(window).off("hashchange",n._onHashChange)})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{loader:!1}),e(document).on("cycle-bootstrap",function(t,n){function o(t,o){function a(t){var a;"wait"==n.loader?(r.push(t),0===l&&(r.sort(s),i.apply(n.API,[r,o]),n.container.removeClass("cycle-loading"))):(a=e(n.slides[n.currSlide]),i.apply(n.API,[t,o]),a.show(),n.container.removeClass("cycle-loading"))}function s(e,t){return e.data("index")-t.data("index")}var r=[];if("string"==e.type(t))t=e.trim(t);else if("array"===e.type(t))for(var c=0;c<t.length;c++)t[c]=e(t[c])[0];t=e(t);var l=t.length;l&&(t.css("visibility","hidden").appendTo("body").each(function(t){function s(){0===--c&&(--l,a(u))}var c=0,u=e(this),d=u.is("img")?u:u.find("img");return u.data("index",t),d=d.filter(":not(.cycle-loader-ignore)").filter(':not([src=""])'),d.length?(c=d.length,void d.each(function(){this.complete?s():e(this).load(function(){s()}).on("error",function(){0===--c&&(n.API.log("slide skipped; img not loaded:",this.src),0===--l&&"wait"==n.loader&&i.apply(n.API,[r,o]))})})):(--l,void r.push(u))}),l&&n.container.addClass("cycle-loading"))}var i;n.loader&&(i=n.API.add,n.API.add=o)})}(jQuery),function(e){"use strict";function t(t,n,o){var i,a=t.API.getComponent("pager");a.each(function(){var a=e(this);if(n.pagerTemplate){var s=t.API.tmpl(n.pagerTemplate,n,t,o[0]);i=e(s).appendTo(a)}else i=a.children().eq(t.slideCount-1);i.on(t.pagerEvent,function(e){t.pagerEventBubble||e.preventDefault(),t.API.page(a,e.currentTarget)})})}function n(e,t){var n=this.opts();if(!n.busy||n.manualTrump){var o=e.children().index(t),i=o,a=n.currSlide<i;n.currSlide!=i&&(n.nextSlide=i,n._tempFx=n.pagerFx,n.API.prepareTx(!0,a),n.API.trigger("cycle-pager-activated",[n,e,t]))}}e.extend(e.fn.cycle.defaults,{pager:"> .cycle-pager",pagerActiveClass:"cycle-pager-active",pagerEvent:"click.cycle",pagerEventBubble:void 0,pagerTemplate:"<span>&bull;</span>"}),e(document).on("cycle-bootstrap",function(e,n,o){o.buildPagerLink=t}),e(document).on("cycle-slide-added",function(e,t,o,i){t.pager&&(t.API.buildPagerLink(t,o,i),t.API.page=n)}),e(document).on("cycle-slide-removed",function(t,n,o){if(n.pager){var i=n.API.getComponent("pager");i.each(function(){var t=e(this);e(t.children()[o]).remove()})}}),e(document).on("cycle-update-view",function(t,n){var o;n.pager&&(o=n.API.getComponent("pager"),o.each(function(){e(this).children().removeClass(n.pagerActiveClass).eq(n.currSlide).addClass(n.pagerActiveClass)}))}),e(document).on("cycle-destroyed",function(e,t){var n=t.API.getComponent("pager");n&&(n.children().off(t.pagerEvent),t.pagerTemplate&&n.empty())})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{next:"> .cycle-next",nextEvent:"click.cycle",disabledClass:"disabled",prev:"> .cycle-prev",prevEvent:"click.cycle",swipe:!1}),e(document).on("cycle-initialized",function(e,t){if(t.API.getComponent("next").on(t.nextEvent,function(e){e.preventDefault(),t.API.next()}),t.API.getComponent("prev").on(t.prevEvent,function(e){e.preventDefault(),t.API.prev()}),t.swipe){var n=t.swipeVert?"swipeUp.cycle":"swipeLeft.cycle swipeleft.cycle",o=t.swipeVert?"swipeDown.cycle":"swipeRight.cycle swiperight.cycle";t.container.on(n,function(){t._tempFx=t.swipeFx,t.API.next()}),t.container.on(o,function(){t._tempFx=t.swipeFx,t.API.prev()})}}),e(document).on("cycle-update-view",function(e,t){if(!t.allowWrap){var n=t.disabledClass,o=t.API.getComponent("next"),i=t.API.getComponent("prev"),a=t._prevBoundry||0,s=void 0!==t._nextBoundry?t._nextBoundry:t.slideCount-1;t.currSlide==s?o.addClass(n).prop("disabled",!0):o.removeClass(n).prop("disabled",!1),t.currSlide===a?i.addClass(n).prop("disabled",!0):i.removeClass(n).prop("disabled",!1)}}),e(document).on("cycle-destroyed",function(e,t){t.API.getComponent("prev").off(t.nextEvent),t.API.getComponent("next").off(t.prevEvent),t.container.off("swipeleft.cycle swiperight.cycle swipeLeft.cycle swipeRight.cycle swipeUp.cycle swipeDown.cycle")})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{progressive:!1}),e(document).on("cycle-pre-initialize",function(t,n){if(n.progressive){var o,i,a=n.API,s=a.next,r=a.prev,c=a.prepareTx,l=e.type(n.progressive);if("array"==l)o=n.progressive;else if(e.isFunction(n.progressive))o=n.progressive(n);else if("string"==l){if(i=e(n.progressive),o=e.trim(i.html()),!o)return;if(/^(\[)/.test(o))try{o=e.parseJSON(o)}catch(u){return void a.log("error parsing progressive slides",u)}else o=o.split(new RegExp(i.data("cycle-split")||"\n")),o[o.length-1]||o.pop()}c&&(a.prepareTx=function(e,t){var i,a;return e||0===o.length?void c.apply(n.API,[e,t]):void(t&&n.currSlide==n.slideCount-1?(a=o[0],o=o.slice(1),n.container.one("cycle-slide-added",function(e,t){setTimeout(function(){t.API.advanceSlide(1)},50)}),n.API.add(a)):t||0!==n.currSlide?c.apply(n.API,[e,t]):(i=o.length-1,a=o[i],o=o.slice(0,i),n.container.one("cycle-slide-added",function(e,t){setTimeout(function(){t.currSlide=1,t.API.advanceSlide(-1)},50)}),n.API.add(a,!0)))}),s&&(a.next=function(){var e=this.opts();if(o.length&&e.currSlide==e.slideCount-1){var t=o[0];o=o.slice(1),e.container.one("cycle-slide-added",function(e,t){s.apply(t.API),t.container.removeClass("cycle-loading")}),e.container.addClass("cycle-loading"),e.API.add(t)}else s.apply(e.API)}),r&&(a.prev=function(){var e=this.opts();if(o.length&&0===e.currSlide){var t=o.length-1,n=o[t];o=o.slice(0,t),e.container.one("cycle-slide-added",function(e,t){t.currSlide=1,t.API.advanceSlide(-1),t.container.removeClass("cycle-loading")}),e.container.addClass("cycle-loading"),e.API.add(n,!0)}else r.apply(e.API)})}})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{tmplRegex:"{{((.)?.*?)}}"}),e.extend(e.fn.cycle.API,{tmpl:function(t,n){var o=new RegExp(n.tmplRegex||e.fn.cycle.defaults.tmplRegex,"g"),i=e.makeArray(arguments);return i.shift(),t.replace(o,function(t,n){var o,a,s,r,c=n.split(".");for(o=0;o<i.length;o++)if(s=i[o]){if(c.length>1)for(r=s,a=0;a<c.length;a++)s=r,r=r[c[a]]||n;else r=s[n];if(e.isFunction(r))return r.apply(s,i);if(void 0!==r&&null!==r&&r!=n)return r}return n})}})}(jQuery),function(e){e.fn.marquee=function(t){return this.each(function(){var n,o,i,a,s,r=e.extend({},e.fn.marquee.defaults,t),c=e(this),l=3,u="animation-play-state",d=!1,p=function(e,t,n){for(var o=["webkit","moz","MS","o",""],i=0;i<o.length;i++)o[i]||(t=t.toLowerCase()),e.addEventListener(o[i]+t,n,!1)},h=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+":"+e[n]);return t.push(),"{"+t.join(",")+"}"},f=function(){c.timer=setTimeout(I,r.delayBeforeStart)},m={pause:function(){d&&r.allowCss3Support?n.css(u,"paused"):e.fn.pause&&n.pause(),c.data("runningStatus","paused"),c.trigger("paused")},resume:function(){d&&r.allowCss3Support?n.css(u,"running"):e.fn.resume&&n.resume(),c.data("runningStatus","resumed"),c.trigger("resumed")},toggle:function(){m["resumed"==c.data("runningStatus")?"pause":"resume"]()},destroy:function(){clearTimeout(c.timer),c.find("*").andSelf().unbind(),c.html(c.find(".js-marquee:first").html())}};if("string"==typeof t)return e.isFunction(m[t])&&(n||(n=c.find(".js-marquee-wrapper")),c.data("css3AnimationIsSupported")===!0&&(d=!0),m[t]()),void 0;var v;e.each(r,function(e){if(v=c.attr("data-"+e),"undefined"!=typeof v){switch(v){case"true":v=!0;break;case"false":v=!1}r[e]=v}}),r.duration=r.speed||r.duration,a="up"==r.direction||"down"==r.direction,r.gap=r.duplicated?r.gap:0,c.wrapInner('<div class="js-marquee"></div>');var g=c.find(".js-marquee").css({"margin-right":r.gap,"float":"left"});if(r.duplicated&&g.clone(!0).appendTo(c),c.wrapInner('<div style="width:100000px" class="js-marquee-wrapper"></div>'),n=c.find(".js-marquee-wrapper"),a){var _=c.height();n.removeAttr("style"),c.height(_),c.find(".js-marquee").css({"float":"none","margin-bottom":r.gap,"margin-right":0}),r.duplicated&&c.find(".js-marquee:last").css({"margin-bottom":0});var $=c.find(".js-marquee:first").height()+r.gap;r.duration=(parseInt($,10)+parseInt(_,10))/parseInt(_,10)*r.duration}else s=c.find(".js-marquee:first").width()+r.gap,o=c.width(),r.duration=(parseInt(s,10)+parseInt(o,10))/parseInt(o,10)*r.duration;if(r.duplicated&&(r.duration=r.duration/2),r.allowCss3Support){var b=document.body||document.createElement("div"),y="marqueeAnimation-"+Math.floor(1e7*Math.random()),C="Webkit Moz O ms Khtml".split(" "),w="animation",T="",k="";if(b.style.animation&&(k="@keyframes "+y+" ",d=!0),d===!1)for(var x=0;x<C.length;x++)if(void 0!==b.style[C[x]+"AnimationName"]){var S="-"+C[x].toLowerCase()+"-";w=S+w,u=S+u,k="@"+S+"keyframes "+y+" ",d=!0;break}d&&(T=y+" "+r.duration/1e3+"s "+r.delayBeforeStart/1e3+"s infinite "+r.css3easing,c.data("css3AnimationIsSupported",!0))}var O=function(){n.css("margin-top","up"==r.direction?_+"px":"-"+$+"px")},M=function(){n.css("margin-left","left"==r.direction?o+"px":"-"+s+"px")};r.duplicated?(a?n.css("margin-top","up"==r.direction?_:"-"+(2*$-r.gap)+"px"):n.css("margin-left","left"==r.direction?o+"px":"-"+(2*s-r.gap)+"px"),l=1):a?O():M();var I=function(){if(r.duplicated&&(1===l?(r._originalDuration=r.duration,r.duration=a?"up"==r.direction?r.duration+_/($/r.duration):2*r.duration:"left"==r.direction?r.duration+o/(s/r.duration):2*r.duration,T&&(T=y+" "+r.duration/1e3+"s "+r.delayBeforeStart/1e3+"s "+r.css3easing),l++):2===l&&(r.duration=r._originalDuration,T&&(y+="0",k=e.trim(k)+"0 ",T=y+" "+r.duration/1e3+"s 0s infinite "+r.css3easing),l++)),a?r.duplicated?(l>2&&n.css("margin-top","up"==r.direction?0:"-"+$+"px"),i={"margin-top":"up"==r.direction?"-"+$+"px":0}):(O(),i={"margin-top":"up"==r.direction?"-"+n.height()+"px":_+"px"}):r.duplicated?(l>2&&n.css("margin-left","left"==r.direction?0:"-"+s+"px"),i={"margin-left":"left"==r.direction?"-"+s+"px":0}):(M(),i={"margin-left":"left"==r.direction?"-"+s+"px":o+"px"}),c.trigger("beforeStarting"),d){n.css(w,T);var t=k+" { 100%  "+h(i)+"}",u=e("style");0!==u.length?u.filter(":last").append(t):e("head").append("<style>"+t+"</style>"),p(n[0],"AnimationIteration",function(){c.trigger("finished")}),p(n[0],"AnimationEnd",function(){I(),c.trigger("finished")})}else n.animate(i,r.duration,r.easing,function(){c.trigger("finished"),r.pauseOnCycle?f():I()});c.data("runningStatus","resumed")};c.bind("pause",m.pause),c.bind("resume",m.resume),r.pauseOnHover&&c.bind("mouseenter mouseleave",m.toggle),d&&r.allowCss3Support?I():f()})},e.fn.marquee.defaults={allowCss3Support:!0,css3easing:"linear",easing:"linear",delayBeforeStart:1e3,direction:"left",duplicated:!1,duration:5e3,gap:20,pauseOnCycle:!1,pauseOnHover:!1}}(jQuery),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var n=e.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){n.settings.submitHandler&&(n.submitButton=t.target),e(t.target).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==e(t.target).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.submit(function(t){function o(){var o;return n.settings.submitHandler?(n.submitButton&&(o=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(e(n.submitButton).val()).appendTo(n.currentForm)),n.settings.submitHandler.call(n,n.currentForm,t),n.submitButton&&o.remove(),!1):!0}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,o()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):o():(n.focusInvalid(),!1)})),n)},valid:function(){var t,n;return e(this[0]).is("form")?t=this.validate().form():(t=!0,n=e(this[0].form).validate(),this.each(function(){t=n.element(this)&&t})),t},removeAttrs:function(t){var n={},o=this;return e.each(t.split(/\s/),function(e,t){n[t]=o.attr(t),o.removeAttr(t)}),n},rules:function(t,n){var o,i,a,s,r,c,l=this[0];if(t)switch(o=e.data(l.form,"validator").settings,i=o.rules,a=e.validator.staticRules(l),t){case"add":e.extend(a,e.validator.normalizeRule(n)),delete a.messages,i[l.name]=a,n.messages&&(o.messages[l.name]=e.extend(o.messages[l.name],n.messages));break;case"remove":return n?(c={},e.each(n.split(/\s/),function(t,n){c[n]=a[n],delete a[n],"required"===n&&e(l).removeAttr("aria-required")}),c):(delete i[l.name],a)}return s=e.validator.normalizeRules(e.extend({},e.validator.classRules(l),e.validator.attributeRules(l),e.validator.dataRules(l),e.validator.staticRules(l)),l),s.required&&(r=s.required,delete s.required,s=e.extend({required:r},s),e(l).attr("aria-required","true")),s.remote&&(r=s.remote,delete s.remote,s=e.extend(s,{remote:r})),s}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return 1===arguments.length?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return n})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){(9!==t.which||""!==this.elementValue(e))&&(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,o){"radio"===t.type?this.findByName(t.name).addClass(n).removeClass(o):e(t).addClass(n).removeClass(o)},unhighlight:function(t,n,o){"radio"===t.type?this.findByName(t.name).removeClass(n).addClass(o):e(t).removeClass(n).addClass(o)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var n=e.data(this[0].form,"validator"),o="on"+t.type.replace(/^validate/,""),i=n.settings;i[o]&&!this.is(i.ignore)&&i[o].call(n,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,o=this.groups={};e.each(this.settings.groups,function(t,n){"string"==typeof n&&(n=n.split(/\s/)),e.each(n,function(e,n){o[n]=t})}),n=this.settings.rules,e.each(n,function(t,o){n[t]=e.validator.normalizeRule(o)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",t).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",t),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var n=this.clean(t),o=this.validationTargetFor(n),i=!0;return this.lastElement=o,void 0===o?delete this.invalid[n.name]:(this.prepareElement(o),this.currentElements=e(o),i=this.check(o)!==!1,i?delete this.invalid[o.name]:this.invalid[o.name]=!0),e(t).attr("aria-invalid",!i),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var n in t)this.errorList.push({message:t[n],element:this.findByName(n)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,n=0;for(t in e)n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in n||!t.objectLength(e(this).rules())?!1:(n[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var n,o=e(t),i=t.type;return"radio"===i||"checkbox"===i?e("input[name='"+t.name+"']:checked").val():"number"===i&&"undefined"!=typeof t.validity?t.validity.badInput?!1:o.val():(n=o.val(),"string"==typeof n?n.replace(/\r/g,""):n)},check:function(t){t=this.validationTargetFor(this.clean(t));var n,o,i,a=e(t).rules(),s=e.map(a,function(e,t){return t}).length,r=!1,c=this.elementValue(t);for(o in a){i={method:o,parameters:a[o]};try{if(n=e.validator.methods[o].call(this,c,t,i.parameters),"dependency-mismatch"===n&&1===s){r=!0;continue}if(r=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!n)return this.formatAndAdd(t,i),!1}catch(l){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+i.method+"' method.",l),l}}return r?void 0:(this.objectLength(a)&&this.successList.push(t),!0)},customDataMessage:function(t,n){return e(t).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e];return void 0},defaultMessage:function(t,n){return this.findDefined(this.customMessage(t.name,n),this.customDataMessage(t,n),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[n],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,n){var o=this.defaultMessage(t,n.method),i=/\$?\{(\d+)\}/g;"function"==typeof o?o=o.call(this,n.parameters,t):i.test(o)&&(o=e.validator.format(o.replace(i,"{$1}"),n.parameters)),this.errorList.push({message:o,element:t,method:n.method}),this.errorMap[t.name]=o,this.submitted[t.name]=o
},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,n;for(e=0;this.errorList[e];e++)n=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var o,i,a,s=this.errorsFor(t),r=this.idOrName(t),c=e(t).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(n)):(s=e("<"+this.settings.errorElement+">").attr("id",r+"-error").addClass(this.settings.errorClass).html(n||""),o=s,this.settings.wrapper&&(o=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(o):this.settings.errorPlacement?this.settings.errorPlacement(o,e(t)):o.insertAfter(t),s.is("label")?s.attr("for",r):0===s.parents("label[for='"+r+"']").length&&(a=s.attr("id"),c?c.match(new RegExp("\b"+a+"\b"))||(c+=" "+a):c=a,e(t).attr("aria-describedby",c),i=this.groups[t.name],i&&e.each(this.groups,function(t,n){n===i&&e("[name='"+t+"']",this.currentForm).attr("aria-describedby",s.attr("id"))}))),!n&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,t)),this.toShow=this.toShow.add(s)},errorsFor:function(t){var n=this.idOrName(t),o=e(t).attr("aria-describedby"),i="label[for='"+n+"'], label[for='"+n+"'] *";return o&&(i=i+", #"+o.replace(/\s+/g,", #")),this.errors().filter(i)},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(t,n){return!!e(t,n.form).length},"function":function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},o=e(t).attr("class");return o&&e.each(o.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])}),n},attributeRules:function(t){var n,o,i={},a=e(t),s=t.getAttribute("type");for(n in e.validator.methods)"required"===n?(o=t.getAttribute(n),""===o&&(o=!0),o=!!o):o=a.attr(n),/min|max/.test(n)&&(null===s||/number|range|text/.test(s))&&(o=Number(o)),o||0===o?i[n]=o:s===n&&"range"!==s&&(i[n]=!0);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(t){var n,o,i={},a=e(t);for(n in e.validator.methods)o=a.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()),void 0!==o&&(i[n]=o);return i},staticRules:function(t){var n={},o=e.data(t.form,"validator");return o.settings.rules&&(n=e.validator.normalizeRule(o.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,function(o,i){if(i===!1)return void delete t[o];if(i.param||i.depends){var a=!0;switch(typeof i.depends){case"string":a=!!e(i.depends,n.form).length;break;case"function":a=i.depends.call(n,n)}a?t[o]=void 0!==i.param?i.param:!0:delete t[o]}}),e.each(t,function(o,i){t[o]=e.isFunction(i)?i(n):i}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var n;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(n=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(n[0]),Number(n[1])]))}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var n={};e.each(t.split(/\s/),function(){n[this]=!0}),t=n}return t},addMethod:function(t,n,o){e.validator.methods[t]=n,e.validator.messages[t]=void 0!==o?o:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,o){if(!this.depend(o,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var i=e(n).val();return i&&i.length>0}return this.checkable(n)?this.getLength(t,n)>0:e.trim(t).length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var n,o,i=0,a=0,s=!1;if(e=e.replace(/\D/g,""),e.length<13||e.length>19)return!1;for(n=e.length-1;n>=0;n--)o=e.charAt(n),a=parseInt(o,10),s&&(a*=2)>9&&(a-=9),i+=a,s=!s;return 0===i%10},minlength:function(t,n,o){var i=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||i>=o},maxlength:function(t,n,o){var i=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||o>=i},rangelength:function(t,n,o){var i=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||i>=o[0]&&i<=o[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||n>=e},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},equalTo:function(t,n,o){var i=e(o);return this.settings.onfocusout&&i.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(n).valid()}),t===i.val()},remote:function(t,n,o){if(this.optional(n))return"dependency-mismatch";var i,a,s=this.previousValue(n);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),s.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=s.message,o="string"==typeof o&&{url:o}||o,s.old===t?s.valid:(s.old=t,i=this,this.startRequest(n),a={},a[n.name]=t,e.ajax(e.extend(!0,{url:o,mode:"abort",port:"validate"+n.name,dataType:"json",data:a,context:i.currentForm,success:function(o){var a,r,c,l=o===!0||"true"===o;i.settings.messages[n.name].remote=s.originalMessage,l?(c=i.formSubmitted,i.prepareElement(n),i.formSubmitted=c,i.successList.push(n),delete i.invalid[n.name],i.showErrors()):(a={},r=o||i.defaultMessage(n,"remote"),a[n.name]=s.message=e.isFunction(r)?r(t):r,i.invalid[n.name]=!0,i.showErrors(a)),s.valid=l,i.stopRequest(n,l)}},o)),"pending")}}}),e.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var t,n={};e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,o){var i=e.port;"abort"===e.mode&&(n[i]&&n[i].abort(),n[i]=o)}):(t=e.ajax,e.ajax=function(o){var i=("mode"in o?o:e.ajaxSettings).mode,a=("port"in o?o:e.ajaxSettings).port;return"abort"===i?(n[a]&&n[a].abort(),n[a]=t.apply(this,arguments),n[a]):t.apply(this,arguments)}),e.extend(e.fn,{validateDelegate:function(t,n,o){return this.bind(n,function(n){var i=e(n.target);return i.is(t)?o.apply(i,arguments):void 0})}})}),$.extend($.validator.messages,{required:"Este campo es obligatorio.",remote:"Por favor, rellena este campo.",email:"Por favor, escribe una dirección de correo válida.",url:"Por favor, escribe una URL válida.",date:"Por favor, escribe una fecha válida.",dateISO:"Por favor, escribe una fecha (ISO) válida.",number:"Por favor, escribe un número válido.",digits:"Por favor, escribe sólo dígitos.",creditcard:"Por favor, escribe un número de tarjeta válido.",equalTo:"Por favor, escribe el mismo valor de nuevo.",extension:"Por favor, escribe un valor con una extensión aceptada.",maxlength:$.validator.format("Por favor, no escribas más de {0} caracteres."),minlength:$.validator.format("Por favor, no escribas menos de {0} caracteres."),rangelength:$.validator.format("Por favor, escribe un valor entre {0} y {1} caracteres."),range:$.validator.format("Por favor, escribe un valor entre {0} y {1}."),max:$.validator.format("Por favor, escribe un valor menor o igual a {0}."),min:$.validator.format("Por favor, escribe un valor mayor o igual a {0}."),nifES:"Por favor, escribe un NIF válido.",nieES:"Por favor, escribe un NIE válido.",cifES:"Por favor, escribe un CIF válido."}),function(){"use strict";var e=this,t=e.Chart,n=function(e){return this.canvas=e.canvas,this.ctx=e,this.width=e.canvas.width,this.height=e.canvas.height,this.aspectRatio=this.width/this.height,o.retinaScale(this),this};n.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},n.types={};var o=n.helpers={},i=o.each=function(e,t,n){var o=Array.prototype.slice.call(arguments,3);if(e)if(e.length===+e.length){var i;for(i=0;i<e.length;i++)t.apply(n,[e[i],i].concat(o))}else for(var a in e)t.apply(n,[e[a],a].concat(o))},a=o.clone=function(e){var t={};return i(e,function(n,o){e.hasOwnProperty(o)&&(t[o]=n)}),t},s=o.extend=function(e){return i(Array.prototype.slice.call(arguments,1),function(t){i(t,function(n,o){t.hasOwnProperty(o)&&(e[o]=n)})}),e},r=o.merge=function(){var e=Array.prototype.slice.call(arguments,0);return e.unshift({}),s.apply(null,e)},c=o.indexOf=function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},l=o.inherits=function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},o=function(){this.constructor=n};return o.prototype=t.prototype,n.prototype=new o,n.extend=l,e&&s(n.prototype,e),n.__super__=t.prototype,n},u=o.noop=function(){},d=o.uid=function(){var e=0;return function(){return"chart-"+e++}}(),p=o.warn=function(e){window.console&&"function"==typeof window.console.warn&&console.warn(e)},h=o.amd="function"==typeof e.define&&e.define.amd,f=o.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},m=o.max=function(e){return Math.max.apply(Math,e)},v=o.min=function(e){return Math.min.apply(Math,e)},g=(o.cap=function(e,t,n){if(f(t)){if(e>t)return t}else if(f(n)&&n>e)return n;return e},o.getDecimalPlaces=function(e){return 0!==e%1&&f(e)?e.toString().split(".")[1].length:0}),_=o.radians=function(e){return e*(Math.PI/180)},$=(o.getAngleFromPoint=function(e,t){var n=t.x-e.x,o=t.y-e.y,i=Math.sqrt(n*n+o*o),a=2*Math.PI+Math.atan2(o,n);return 0>n&&0>o&&(a+=2*Math.PI),{angle:a,distance:i}},o.aliasPixel=function(e){return 0===e%2?0:.5}),b=(o.splineCurve=function(e,t,n,o){var i=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),a=Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)),s=o*i/(i+a),r=o*a/(i+a);return{inner:{x:t.x-s*(n.x-e.x),y:t.y-s*(n.y-e.y)},outer:{x:t.x+r*(n.x-e.x),y:t.y+r*(n.y-e.y)}}},o.calculateOrderOfMagnitude=function(e){return Math.floor(Math.log(e)/Math.LN10)}),y=(o.calculateScaleRange=function(e,t,n,o,i){var a=2,s=Math.floor(t/(1.5*n)),r=a>=s,c=m(e),l=v(e);c===l&&(c+=.5,l>=.5&&!o?l-=.5:c+=.5);for(var u=Math.abs(c-l),d=b(u),p=Math.ceil(c/(1*Math.pow(10,d)))*Math.pow(10,d),h=o?0:Math.floor(l/(1*Math.pow(10,d)))*Math.pow(10,d),f=p-h,g=Math.pow(10,d),_=Math.round(f/g);(_>s||s>2*_)&&!r;)if(_>s)g*=2,_=Math.round(f/g),0!==_%1&&(r=!0);else if(i&&d>=0){if(0!==g/2%1)break;g/=2,_=Math.round(f/g)}else g/=2,_=Math.round(f/g);return r&&(_=a,g=f/_),{steps:_,stepValue:g,min:h,max:h+_*g}},o.template=function(e,t){function n(e,t){var n=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):o[e]=o[e];return t?n(t):n}if(e instanceof Function)return e(t);var o={};return n(e,t)}),C=(o.generateLabels=function(e,t,n,o){var a=new Array(t);return labelTemplateString&&i(a,function(t,i){a[i]=y(e,{value:n+o*(i+1)})}),a},o.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(-Math.pow(2,-10*e/1)+1)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,o=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),o<Math.abs(1)?(o=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/o),-(o*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n)))},easeOutElastic:function(e){var t=1.70158,n=0,o=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),o<Math.abs(1)?(o=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/o),o*Math.pow(2,-10*e)*Math.sin(2*(1*e-t)*Math.PI/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,o=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.3*1.5),o<Math.abs(1)?(o=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/o),1>e?-.5*o*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n):.5*o*Math.pow(2,-10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n)+1)},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:function(e){return 1-C.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e:2/2.75>e?1*(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return.5>e?.5*C.easeInBounce(2*e):.5*C.easeOutBounce(2*e-1)+.5}}),w=o.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),T=(o.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e,1e3/60)}}(),o.animationLoop=function(e,t,n,o,i,a){var s=0,r=C[n]||C.linear,c=function(){s++;var n=s/t,l=r(n);e.call(a,l,n,s),o.call(a,l,n),t>s?a.animationFrame=w(c):i.apply(a)};w(c)},o.getRelativePosition=function(e){var t,n,o=e.originalEvent||e,i=e.currentTarget||e.srcElement,a=i.getBoundingClientRect();return o.touches?(t=o.touches[0].clientX-a.left,n=o.touches[0].clientY-a.top):(t=o.clientX-a.left,n=o.clientY-a.top),{x:t,y:n}},o.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}),k=o.removeEvent=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=u},x=(o.bindEvents=function(e,t,n){e.events||(e.events={}),i(t,function(t){e.events[t]=function(){n.apply(e,arguments)},T(e.chart.canvas,t,e.events[t])})},o.unbindEvents=function(e,t){i(t,function(t,n){k(e.chart.canvas,n,t)})}),S=o.getMaximumWidth=function(e){var t=e.parentNode;return t.clientWidth},O=o.getMaximumHeight=function(e){var t=e.parentNode;return t.clientHeight},M=(o.getMaximumSize=o.getMaximumWidth,o.retinaScale=function(e){var t=e.ctx,n=e.canvas.width,o=e.canvas.height;window.devicePixelRatio&&(t.canvas.style.width=n+"px",t.canvas.style.height=o+"px",t.canvas.height=o*window.devicePixelRatio,t.canvas.width=n*window.devicePixelRatio,t.scale(window.devicePixelRatio,window.devicePixelRatio))}),I=o.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},L=o.fontString=function(e,t,n){return t+" "+e+"px "+n},D=o.longestText=function(e,t,n){e.font=t;var o=0;return i(n,function(t){var n=e.measureText(t).width;o=n>o?n:o}),o},A=o.drawRoundedRectangle=function(e,t,n,o,i,a){e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+o-a,n),e.quadraticCurveTo(t+o,n,t+o,n+a),e.lineTo(t+o,n+i-a),e.quadraticCurveTo(t+o,n+i,t+o-a,n+i),e.lineTo(t+a,n+i),e.quadraticCurveTo(t,n+i,t,n+i-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+a,n),e.closePath()};n.instances={},n.Type=function(e,t,o){this.options=t,this.chart=o,this.id=d(),n.instances[this.id]=this,t.responsive&&this.resize(),this.initialize.call(this,e)},s(n.Type.prototype,{initialize:function(){return this},clear:function(){return I(this.chart),this},stop:function(){return o.cancelAnimFrame.call(e,this.animationFrame),this},resize:function(e){this.stop();var t=this.chart.canvas,n=S(this.chart.canvas),o=this.options.maintainAspectRatio?n/this.chart.aspectRatio:O(this.chart.canvas);return t.width=this.chart.width=n,t.height=this.chart.height=o,M(this.chart),"function"==typeof e&&e.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:u,render:function(e){return e&&this.reflow(),this.options.animation&&!e?o.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return y(this.options.legendTemplate,this)},destroy:function(){this.clear(),x(this,this.events),delete n.instances[this.id]},showTooltip:function(e,t){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var a=function(e){var t=!1;return e.length!==this.activeElements.length?t=!0:(i(e,function(e,n){e!==this.activeElements[n]&&(t=!0)},this),t)}.call(this,e);if(a||t){if(this.activeElements=e,this.draw(),e.length>0)if(this.datasets&&this.datasets.length>1){for(var s,r,l=this.datasets.length-1;l>=0&&(s=this.datasets[l].points||this.datasets[l].bars||this.datasets[l].segments,r=c(s,e[0]),-1===r);l--);var u=[],d=[],p=function(){var e,t,n,i,a,s=[],c=[],l=[];return o.each(this.datasets,function(t){e=t.points||t.bars||t.segments,e[r]&&s.push(e[r])}),o.each(s,function(e){c.push(e.x),l.push(e.y),u.push(o.template(this.options.multiTooltipTemplate,e)),d.push({fill:e._saved.fillColor||e.fillColor,stroke:e._saved.strokeColor||e.strokeColor})},this),a=v(l),n=m(l),i=v(c),t=m(c),{x:i>this.chart.width/2?i:t,y:(a+n)/2}}.call(this,r);new n.MultiTooltip({x:p.x,y:p.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:u,legendColors:d,legendColorBackground:this.options.multiTooltipKeyBackground,title:e[0].label,chart:this.chart,ctx:this.chart.ctx}).draw()}else i(e,function(e){var t=e.tooltipPosition();new n.Tooltip({x:Math.round(t.x),y:Math.round(t.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:y(this.options.tooltipTemplate,e),chart:this.chart}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),n.Type.extend=function(e){var t=this,o=function(){return t.apply(this,arguments)};if(o.prototype=a(t.prototype),s(o.prototype,e),o.extend=n.Type.extend,e.name||t.prototype.name){var i=e.name||t.prototype.name,c=n.defaults[t.prototype.name]?a(n.defaults[t.prototype.name]):{};n.defaults[i]=s(c,e.defaults),n.types[i]=o,n.prototype[i]=function(e,t){var a=r(n.defaults.global,n.defaults[i],t||{});return new o(e,a,this)}}else p("Name not provided for this chart, so it hasn't been registered");return t},n.Element=function(e){s(this,e),this.initialize.apply(this,arguments),this.save()},s(n.Element.prototype,{initialize:function(){},restore:function(e){return e?i(e,function(e){this[e]=this._saved[e]},this):s(this,this._saved),this},save:function(){return this._saved=a(this),delete this._saved._saved,this},update:function(e){return i(e,function(e,t){this._saved[t]=this[t],this[t]=e},this),this},transition:function(e,t){return i(e,function(e,n){this[n]=(e-this._saved[n])*t+this._saved[n]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}}}),n.Element.extend=l,n.Point=n.Element.extend({display:!0,inRange:function(e,t){var n=this.hitDetectionRadius+this.radius;return Math.pow(e-this.x,2)+Math.pow(t-this.y,2)<Math.pow(n,2)},draw:function(){if(this.display){var e=this.ctx;e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI),e.closePath(),e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.fillStyle=this.fillColor,e.fill(),e.stroke()}}}),n.Arc=n.Element.extend({inRange:function(e,t){var n=o.getAngleFromPoint(this,{x:e,y:t}),i=n.angle>=this.startAngle&&n.angle<=this.endAngle,a=n.distance>=this.innerRadius&&n.distance<=this.outerRadius;return i&&a},tooltipPosition:function(){var e=this.startAngle+(this.endAngle-this.startAngle)/2,t=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(e)*t,y:this.y+Math.sin(e)*t}},draw:function(){var e=this.ctx;e.beginPath(),e.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),e.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),e.closePath(),e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.fillStyle=this.fillColor,e.fill(),e.lineJoin="bevel",this.showStroke&&e.stroke()}}),n.Rectangle=n.Element.extend({draw:function(){var e=this.ctx,t=this.width/2,n=this.x-t,o=this.x+t,i=this.base-(this.base-this.y),a=this.strokeWidth/2;this.showStroke&&(n+=a,o-=a,i+=a),e.beginPath(),e.fillStyle=this.fillColor,e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.moveTo(n,this.base),e.lineTo(n,i),e.lineTo(o,i),e.lineTo(o,this.base),e.fill(),this.showStroke&&e.stroke()},height:function(){return this.base-this.y},inRange:function(e,t){return e>=this.x-this.width/2&&e<=this.x+this.width/2&&t>=this.y&&t<=this.base}}),n.Tooltip=n.Element.extend({draw:function(){var e=this.chart.ctx;e.font=L(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var t=2,n=e.measureText(this.text).width+2*this.xPadding,o=this.fontSize+2*this.yPadding,i=o+this.caretHeight+t;this.x+n/2>this.chart.width?this.xAlign="left":this.x-n/2<0&&(this.xAlign="right"),this.y-i<0&&(this.yAlign="below");var a=this.x-n/2,s=this.y-i;switch(e.fillStyle=this.fillColor,this.yAlign){case"above":e.beginPath(),e.moveTo(this.x,this.y-t),e.lineTo(this.x+this.caretHeight,this.y-(t+this.caretHeight)),e.lineTo(this.x-this.caretHeight,this.y-(t+this.caretHeight)),e.closePath(),e.fill();break;case"below":s=this.y+t+this.caretHeight,e.beginPath(),e.moveTo(this.x,this.y+t),e.lineTo(this.x+this.caretHeight,this.y+t+this.caretHeight),e.lineTo(this.x-this.caretHeight,this.y+t+this.caretHeight),e.closePath(),e.fill()}switch(this.xAlign){case"left":a=this.x-n+(this.cornerRadius+this.caretHeight);break;case"right":a=this.x-(this.cornerRadius+this.caretHeight)}A(e,a,s,n,o,this.cornerRadius),e.fill(),e.fillStyle=this.textColor,e.textAlign="center",e.textBaseline="middle",e.fillText(this.text,a+n/2,s+o/2)}}),n.MultiTooltip=n.Element.extend({initialize:function(){this.font=L(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=L(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var e=this.ctx.measureText(this.title).width,t=D(this.ctx,this.font,this.labels)+this.fontSize+3,n=m([t,e]);this.width=n+2*this.xPadding;var o=this.height/2;this.y-o<0?this.y=o:this.y+o>this.chart.height&&(this.y=this.chart.height-o),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(e){var t=this.y-this.height/2+this.yPadding,n=e-1;return 0===e?t+this.titleFontSize/2:t+(1.5*this.fontSize*n+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){A(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var e=this.ctx;e.fillStyle=this.fillColor,e.fill(),e.closePath(),e.textAlign="left",e.textBaseline="middle",e.fillStyle=this.titleTextColor,e.font=this.titleFont,e.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),e.font=this.font,o.each(this.labels,function(t,n){e.fillStyle=this.textColor,e.fillText(t,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(n+1)),e.fillStyle=this.legendColorBackground,e.fillRect(this.x+this.xPadding,this.getLineHeight(n+1)-this.fontSize/2,this.fontSize,this.fontSize),e.fillStyle=this.legendColors[n].fill,e.fillRect(this.x+this.xPadding,this.getLineHeight(n+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}),n.Scale=n.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var e=g(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(y(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}));this.yLabelWidth=this.display&&this.showLabels?D(this.ctx,this.font,this.yLabels):0},addXLabel:function(e){this.xLabels.push(e),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var e,t=this.endPoint-this.startPoint;for(this.calculateYRange(t),this.buildYLabels(),this.calculateXLabelRotation();t>this.endPoint-this.startPoint;)t=this.endPoint-this.startPoint,e=this.yLabelWidth,this.calculateYRange(t),this.buildYLabels(),e<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var e,t,n=this.ctx.measureText(this.xLabels[0]).width,o=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=o/2+3,this.xScalePaddingLeft=n/2>this.yLabelWidth+10?n/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var i,a=D(this.ctx,this.font,this.xLabels);this.xLabelWidth=a;for(var s=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>s&&0===this.xLabelRotation||this.xLabelWidth>s&&this.xLabelRotation<=90&&this.xLabelRotation>0;)i=Math.cos(_(this.xLabelRotation)),e=i*n,t=i*o,e+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=e+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=i*a;
this.xLabelRotation>0&&(this.endPoint-=Math.sin(_(this.xLabelRotation))*a+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:u,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(e){var t=this.drawingArea()/(this.min-this.max);return this.endPoint-t*(e-this.min)},calculateX:function(e){var t=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),n=t/(this.valuesCount-(this.offsetGridLines?0:1)),o=n*e+this.xScalePaddingLeft;return this.offsetGridLines&&(o+=n/2),Math.round(o)},update:function(e){o.extend(this,e),this.fit()},draw:function(){var e=this.ctx,t=(this.endPoint-this.startPoint)/this.steps,n=Math.round(this.xScalePaddingLeft);this.display&&(e.fillStyle=this.textColor,e.font=this.font,i(this.yLabels,function(i,a){var s=this.endPoint-t*a,r=Math.round(s);e.textAlign="right",e.textBaseline="middle",this.showLabels&&e.fillText(i,n-10,s),e.beginPath(),a>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),r+=o.aliasPixel(e.lineWidth),e.moveTo(n,r),e.lineTo(this.width,r),e.stroke(),e.closePath(),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(n-5,r),e.lineTo(n,r),e.stroke(),e.closePath()},this),i(this.xLabels,function(t,n){var o=this.calculateX(n)+$(this.lineWidth),i=this.calculateX(n-(this.offsetGridLines?.5:0))+$(this.lineWidth),a=this.xLabelRotation>0;e.beginPath(),n>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),e.moveTo(i,this.endPoint),e.lineTo(i,this.startPoint-3),e.stroke(),e.closePath(),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(i,this.endPoint),e.lineTo(i,this.endPoint+5),e.stroke(),e.closePath(),e.save(),e.translate(o,a?this.endPoint+12:this.endPoint+8),e.rotate(-1*_(this.xLabelRotation)),e.font=this.font,e.textAlign=a?"right":"center",e.textBaseline=a?"middle":"top",e.fillText(t,0,0),e.restore()},this))}}),n.RadialScale=n.Element.extend({initialize:function(){this.size=v([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(e){var t=this.drawingArea/(this.max-this.min);return(e-this.min)*t},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var e=g(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(y(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var e,t,n,o,i,a,s,r,c,l,u,d,p=v([this.height/2-this.pointLabelFontSize-5,this.width/2]),h=this.width,m=0;for(this.ctx.font=L(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t=0;t<this.valuesCount;t++)e=this.getPointPosition(t,p),n=this.ctx.measureText(y(this.templateString,{value:this.labels[t]})).width+5,0===t||t===this.valuesCount/2?(o=n/2,e.x+o>h&&(h=e.x+o,i=t),e.x-o<m&&(m=e.x-o,s=t)):t<this.valuesCount/2?e.x+n>h&&(h=e.x+n,i=t):t>this.valuesCount/2&&e.x-n<m&&(m=e.x-n,s=t);c=m,l=Math.ceil(h-this.width),a=this.getIndexAngle(i),r=this.getIndexAngle(s),u=l/Math.sin(a+Math.PI/2),d=c/Math.sin(r+Math.PI/2),u=f(u)?u:0,d=f(d)?d:0,this.drawingArea=p-(d+u)/2,this.setCenterPoint(d,u)},setCenterPoint:function(e,t){var n=this.width-t-this.drawingArea,o=e+this.drawingArea;this.xCenter=(o+n)/2,this.yCenter=this.height/2},getIndexAngle:function(e){var t=2*Math.PI/this.valuesCount;return e*t-Math.PI/2},getPointPosition:function(e,t){var n=this.getIndexAngle(e);return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter}},draw:function(){if(this.display){var e=this.ctx;if(i(this.yLabels,function(t,n){if(n>0){var o,i=n*(this.drawingArea/this.steps),a=this.yCenter-i;if(this.lineWidth>0)if(e.strokeStyle=this.lineColor,e.lineWidth=this.lineWidth,this.lineArc)e.beginPath(),e.arc(this.xCenter,this.yCenter,i,0,2*Math.PI),e.closePath(),e.stroke();else{e.beginPath();for(var s=0;s<this.valuesCount;s++)o=this.getPointPosition(s,this.calculateCenterOffset(this.min+n*this.stepValue)),0===s?e.moveTo(o.x,o.y):e.lineTo(o.x,o.y);e.closePath(),e.stroke()}if(this.showLabels){if(e.font=L(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var r=e.measureText(t).width;e.fillStyle=this.backdropColor,e.fillRect(this.xCenter-r/2-this.backdropPaddingX,a-this.fontSize/2-this.backdropPaddingY,r+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.fontColor,e.fillText(t,this.xCenter,a)}}},this),!this.lineArc){e.lineWidth=this.angleLineWidth,e.strokeStyle=this.angleLineColor;for(var t=this.valuesCount-1;t>=0;t--){if(this.angleLineWidth>0){var n=this.getPointPosition(t,this.calculateCenterOffset(this.max));e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(n.x,n.y),e.stroke(),e.closePath()}var o=this.getPointPosition(t,this.calculateCenterOffset(this.max)+5);e.font=L(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),e.fillStyle=this.pointLabelFontColor;var a=this.labels.length,s=this.labels.length/2,r=s/2,c=r>t||t>a-r,l=t===r||t===a-r;e.textAlign=0===t?"center":t===s?"center":s>t?"left":"right",e.textBaseline=l?"middle":c?"bottom":"top",e.fillText(this.labels[t],o.x,o.y)}}}}}),o.addEvent(window,"resize",function(){var e;return function(){clearTimeout(e),e=setTimeout(function(){i(n.instances,function(e){e.options.responsive&&e.resize(e.render,!0)})},50)}}()),h?define(function(){return n}):"object"==typeof module&&module.exports&&(module.exports=n),e.Chart=n,n.noConflict=function(){return e.Chart=t,n}}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,o={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Bar",defaults:o,initialize:function(e){var o=this.options;this.ScaleClass=t.Scale.extend({offsetGridLines:!0,calculateBarX:function(e,t,n){var i=this.calculateBaseWidth(),a=this.calculateX(n)-i/2,s=this.calculateBarWidth(e);return a+s*t+t*o.barDatasetSpacing+s/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*o.barValueSpacing},calculateBarWidth:function(e){var t=this.calculateBaseWidth()-(e-1)*o.barDatasetSpacing;return t/e}}),this.datasets=[],this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getBarsAtEvent(e):[];this.eachBars(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),this.BarClass=t.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),n.each(e.datasets,function(t){var o={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,bars:[]};this.datasets.push(o),n.each(t.data,function(i,a){n.isNumber(i)&&o.bars.push(new this.BarClass({value:i,label:e.labels[a],datasetLabel:t.label,strokeColor:t.strokeColor,fillColor:t.fillColor,highlightFill:t.highlightFill||t.fillColor,highlightStroke:t.highlightStroke||t.strokeColor}))},this)},this),this.buildScale(e.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(e,t,o){n.extend(e,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,o,t),y:this.scale.endPoint}),e.save()},this),this.render()},update:function(){this.scale.update(),n.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachBars(function(e){e.save()}),this.render()},eachBars:function(e){n.each(this.datasets,function(t,o){n.each(t.bars,e,this,o)},this)},getBarsAtEvent:function(e){for(var t,o=[],i=n.getRelativePosition(e),a=function(e){o.push(e.bars[t])},s=0;s<this.datasets.length;s++)for(t=0;t<this.datasets[s].bars.length;t++)if(this.datasets[s].bars[t].inRange(i.x,i.y))return n.each(this.datasets,a),o;return o},buildScale:function(e){var t=this,o=function(){var e=[];return t.eachBars(function(t){e.push(t.value)}),e},i={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t=n.calculateScaleRange(o(),e,this.fontSize,this.beginAtZero,this.integersOnly);n.extend(this,t)},xLabels:e,font:n.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&n.extend(i,{calculateYRange:n.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(i)},addData:function(e,t){n.each(e,function(e,o){n.isNumber(e)&&this.datasets[o].bars.push(new this.BarClass({value:e,label:t,x:this.scale.calculateBarX(this.datasets.length,o,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[o].strokeColor,fillColor:this.datasets[o].fillColor}))},this),this.scale.addXLabel(t),this.update()},removeData:function(){this.scale.removeXLabel(),n.each(this.datasets,function(e){e.bars.shift()},this),this.update()},reflow:function(){n.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var e=n.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var t=e||1;this.clear(),this.chart.ctx,this.scale.draw(t),n.each(this.datasets,function(e,o){n.each(e.bars,function(e,n){e.base=this.scale.endPoint,e.transition({x:this.scale.calculateBarX(this.datasets.length,o,n),y:this.scale.calculateY(e.value),width:this.scale.calculateBarWidth(this.datasets.length)},t).draw()},this)},this)}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,o={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Doughnut",defaults:o,initialize:function(e){this.segments=[],this.outerRadius=(n.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=t.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];n.each(this.segments,function(e){e.restore(["fillColor"])}),n.each(t,function(e){e.fillColor=e.highlightColor}),this.showTooltip(t)}),this.calculateTotal(e),n.each(e,function(e,t){this.addData(e,t,!0)},this),this.render()},getSegmentsAtEvent:function(e){var t=[],o=n.getRelativePosition(e);return n.each(this.segments,function(e){e.inRange(o.x,o.y)&&t.push(e)},this),t},addData:function(e,t,n){var o=t||this.segments.length;this.segments.splice(o,0,new this.SegmentArc({value:e.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:e.color,highlightColor:e.highlight||e.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(e.value),label:e.label})),n||(this.reflow(),this.update())},calculateCircumference:function(e){return 2*Math.PI*(e/this.total)},calculateTotal:function(e){this.total=0,n.each(e,function(e){this.total+=e.value},this)},update:function(){this.calculateTotal(this.segments),n.each(this.activeElements,function(e){e.restore(["fillColor"])}),n.each(this.segments,function(e){e.save()}),this.render()},removeData:function(e){var t=n.isNumber(e)?e:this.segments.length-1;this.segments.splice(t,1),this.reflow(),this.update()},reflow:function(){n.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(n.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,n.each(this.segments,function(e){e.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(e){var t=e?e:1;this.clear(),n.each(this.segments,function(e,n){e.transition({circumference:this.calculateCircumference(e.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},t),e.endAngle=e.startAngle+e.circumference,e.draw(),0===n&&(e.startAngle=1.5*Math.PI),n<this.segments.length-1&&(this.segments[n+1].startAngle=e.endAngle)},this)}}),t.types.Doughnut.extend({name:"Pie",defaults:n.merge(o,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,o={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Line",defaults:o,initialize:function(e){this.PointClass=t.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(e){return Math.pow(e-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),n.each(e.datasets,function(t){var o={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,points:[]};this.datasets.push(o),n.each(t.data,function(i,a){n.isNumber(i)&&o.points.push(new this.PointClass({value:i,label:e.labels[a],datasetLabel:t.label,strokeColor:t.pointStrokeColor,fillColor:t.pointColor,highlightFill:t.pointHighlightFill||t.pointColor,highlightStroke:t.pointHighlightStroke||t.pointStrokeColor}))},this),this.buildScale(e.labels),this.eachPoints(function(e,t){n.extend(e,{x:this.scale.calculateX(t),y:this.scale.endPoint}),e.save()},this)},this),this.render()},update:function(){this.scale.update(),n.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachPoints(function(e){e.save()}),this.render()},eachPoints:function(e){n.each(this.datasets,function(t){n.each(t.points,e,this)},this)},getPointsAtEvent:function(e){var t=[],o=n.getRelativePosition(e);return n.each(this.datasets,function(e){n.each(e.points,function(e){e.inRange(o.x,o.y)&&t.push(e)})},this),t},buildScale:function(e){var o=this,i=function(){var e=[];return o.eachPoints(function(t){e.push(t.value)}),e},a={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t=n.calculateScaleRange(i(),e,this.fontSize,this.beginAtZero,this.integersOnly);n.extend(this,t)},xLabels:e,font:n.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&n.extend(a,{calculateYRange:n.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new t.Scale(a)},addData:function(e,t){n.each(e,function(e,o){n.isNumber(e)&&this.datasets[o].points.push(new this.PointClass({value:e,label:t,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[o].pointStrokeColor,fillColor:this.datasets[o].pointColor}))},this),this.scale.addXLabel(t),this.update()},removeData:function(){this.scale.removeXLabel(),n.each(this.datasets,function(e){e.points.shift()},this),this.update()},reflow:function(){var e=n.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var t=e||1;this.clear();var o=this.chart.ctx;this.scale.draw(t),n.each(this.datasets,function(e){n.each(e.points,function(e,n){e.transition({y:this.scale.calculateY(e.value),x:this.scale.calculateX(n)},t)},this),this.options.bezierCurve&&n.each(e.points,function(t,o){t.controlPoints=0===o?n.splineCurve(t,t,e.points[o+1],0):o>=e.points.length-1?n.splineCurve(e.points[o-1],t,t,0):n.splineCurve(e.points[o-1],t,e.points[o+1],this.options.bezierCurveTension)},this),o.lineWidth=this.options.datasetStrokeWidth,o.strokeStyle=e.strokeColor,o.beginPath(),n.each(e.points,function(t,n){n>0?this.options.bezierCurve?o.bezierCurveTo(e.points[n-1].controlPoints.outer.x,e.points[n-1].controlPoints.outer.y,t.controlPoints.inner.x,t.controlPoints.inner.y,t.x,t.y):o.lineTo(t.x,t.y):o.moveTo(t.x,t.y)},this),o.stroke(),this.options.datasetFill&&(o.lineTo(e.points[e.points.length-1].x,this.scale.endPoint),o.lineTo(this.scale.calculateX(0),this.scale.endPoint),o.fillStyle=e.fillColor,o.closePath(),o.fill()),n.each(e.points,function(e){e.draw()})},this)}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,o={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"PolarArea",defaults:o,initialize:function(e){this.segments=[],this.SegmentArc=t.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:e.length}),this.updateScaleRange(e),this.scale.update(),n.each(e,function(e,t){this.addData(e,t,!0)},this),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];n.each(this.segments,function(e){e.restore(["fillColor"])}),n.each(t,function(e){e.fillColor=e.highlightColor}),this.showTooltip(t)}),this.render()},getSegmentsAtEvent:function(e){var t=[],o=n.getRelativePosition(e);return n.each(this.segments,function(e){e.inRange(o.x,o.y)&&t.push(e)},this),t},addData:function(e,t,n){var o=t||this.segments.length;this.segments.splice(o,0,new this.SegmentArc({fillColor:e.color,highlightColor:e.highlight||e.color,label:e.label,value:e.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(e.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),n||(this.reflow(),this.update())},removeData:function(e){var t=n.isNumber(e)?e:this.segments.length-1;this.segments.splice(t,1),this.reflow(),this.update()},calculateTotal:function(e){this.total=0,n.each(e,function(e){this.total+=e.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(e){var t=[];n.each(e,function(e){t.push(e.value)});var o=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:n.calculateScaleRange(t,n.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);n.extend(this.scale,o,{size:n.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),n.each(this.segments,function(e){e.save()}),this.render()},reflow:function(){n.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),n.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),n.each(this.segments,function(e){e.update({outerRadius:this.scale.calculateCenterOffset(e.value)})},this)},draw:function(e){var t=e||1;this.clear(),n.each(this.segments,function(e,n){e.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(e.value)},t),e.endAngle=e.startAngle+e.circumference,0===n&&(e.startAngle=1.5*Math.PI),n<this.segments.length-1&&(this.segments[n+1].startAngle=e.endAngle),e.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers;t.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(e){this.PointClass=t.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(e),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),n.each(e.datasets,function(t){var o={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,points:[]};this.datasets.push(o),n.each(t.data,function(i,a){if(n.isNumber(i)){var s;this.scale.animation||(s=this.scale.getPointPosition(a,this.scale.calculateCenterOffset(i))),o.points.push(new this.PointClass({value:i,label:e.labels[a],datasetLabel:t.label,x:this.options.animation?this.scale.xCenter:s.x,y:this.options.animation?this.scale.yCenter:s.y,strokeColor:t.pointStrokeColor,fillColor:t.pointColor,highlightFill:t.pointHighlightFill||t.pointColor,highlightStroke:t.pointHighlightStroke||t.pointStrokeColor}))}},this)},this),this.render()},eachPoints:function(e){n.each(this.datasets,function(t){n.each(t.points,e,this)},this)},getPointsAtEvent:function(e){var t=n.getRelativePosition(e),o=n.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},t),i=2*Math.PI/this.scale.valuesCount,a=Math.round((o.angle-1.5*Math.PI)/i),s=[];return(a>=this.scale.valuesCount||0>a)&&(a=0),o.distance<=this.scale.drawingArea&&n.each(this.datasets,function(e){s.push(e.points[a])}),s},buildScale:function(e){this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:e.labels,valuesCount:e.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(e.datasets),this.scale.buildYLabels()},updateScaleRange:function(e){var t=function(){var t=[];return n.each(e,function(e){e.data?t=t.concat(e.data):n.each(e.points,function(e){t.push(e.value)})}),t}(),o=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:n.calculateScaleRange(t,n.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);n.extend(this.scale,o)},addData:function(e,t){this.scale.valuesCount++,n.each(e,function(e,o){if(n.isNumber(e)){var i=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(e));this.datasets[o].points.push(new this.PointClass({value:e,label:t,x:i.x,y:i.y,strokeColor:this.datasets[o].pointStrokeColor,fillColor:this.datasets[o].pointColor}))}},this),this.scale.labels.push(t),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),n.each(this.datasets,function(e){e.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(e){e.save()}),this.reflow(),this.render()},reflow:function(){n.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:n.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(e){var t=e||1,o=this.chart.ctx;this.clear(),this.scale.draw(),n.each(this.datasets,function(e){n.each(e.points,function(e,n){e.transition(this.scale.getPointPosition(n,this.scale.calculateCenterOffset(e.value)),t)},this),o.lineWidth=this.options.datasetStrokeWidth,o.strokeStyle=e.strokeColor,o.beginPath(),n.each(e.points,function(e,t){0===t?o.moveTo(e.x,e.y):o.lineTo(e.x,e.y)},this),o.closePath(),o.stroke(),o.fillStyle=e.fillColor,o.fill(),n.each(e.points,function(e){e.draw()})},this)}})}.call(this);