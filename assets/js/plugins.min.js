!function(){window.mediaCheck=function(e){var t,a,o,i,n,s,r,c,l;if(c=void 0,l=void 0,o=void 0,a=void 0,i=void 0,n=void 0!==window.matchMedia&&!!window.matchMedia("!").addListener)return l=function(e,t){return e.matches?"function"==typeof t.entry&&t.entry(e):"function"==typeof t.exit&&t.exit(e),"function"==typeof t.both?t.both(e):void 0},o=function(){return c=window.matchMedia(e.media),c.addListener(function(){return l(c,e)}),window.addEventListener("orientationchange",function(){return c=window.matchMedia(e.media),l(c,e)},!1),l(c,e)},o();t={},l=function(e,a){return e.matches?"function"!=typeof a.entry||t[a.media]!==!1&&null!=t[a.media]||a.entry(e):"function"!=typeof a.exit||t[a.media]!==!0&&null!=t[a.media]||a.exit(e),"function"==typeof a.both&&a.both(e),t[a.media]=e.matches},a=function(e){var t,a;return t=void 0,t=document.createElement("div"),t.style.width="1em",t.style.position="absolute",document.body.appendChild(t),a=e*t.offsetWidth,document.body.removeChild(t),a},i=function(e,t){var o;switch(o=void 0,t){case"em":o=a(e);break;default:o=e}return o};for(s in e)t[e.media]=null;return r=function(){var t,a,o,n,s;return o=e.media.match(/\((.*)-.*:\s*([\d\.]*)(.*)\)/),t=o[1],n=i(parseInt(o[2],10),o[3]),a={},s=window.innerWidth||document.documentElement.clientWidth,a.matches="max"===t&&n>s||"min"===t&&s>n,l(a,e)},window.addEventListener?window.addEventListener("resize",r):window.attachEvent&&window.attachEvent("onresize",r),r()}}.call(this),!function(e){function t(){}function a(e){function a(t){t.prototype.option||(t.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))})}function i(t,a){e.fn[t]=function(i){if("string"==typeof i){for(var s=o.call(arguments,1),r=0,c=this.length;c>r;r++){var l=this[r],u=e.data(l,t);if(u)if(e.isFunction(u[i])&&"_"!==i.charAt(0)){var d=u[i].apply(u,s);if(void 0!==d)return d}else n("no such method '"+i+"' for "+t+" instance");else n("cannot call methods on "+t+" prior to initialization; attempted to call '"+i+"'")}return this}return this.each(function(){var o=e.data(this,t);o?(o.option(i),o._init()):(o=new a(this,i),e.data(this,t,o))})}}if(e){var n="undefined"==typeof console?t:function(e){console.error(e)};return e.bridget=function(e,t){a(t),i(e,t)},e.bridget}}var o=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],a):a(e.jQuery)}(window),function(e){function t(t){var a=e.event;return a.target=a.target||a.srcElement||t,a}var a=document.documentElement,o=function(){};a.addEventListener?o=function(e,t,a){e.addEventListener(t,a,!1)}:a.attachEvent&&(o=function(e,a,o){e[a+o]=o.handleEvent?function(){var a=t(e);o.handleEvent.call(o,a)}:function(){var a=t(e);o.call(e,a)},e.attachEvent("on"+a,e[a+o])});var i=function(){};a.removeEventListener?i=function(e,t,a){e.removeEventListener(t,a,!1)}:a.detachEvent&&(i=function(e,t,a){e.detachEvent("on"+t,e[t+a]);try{delete e[t+a]}catch(o){e[t+a]=void 0}});var n={bind:o,unbind:i};"function"==typeof define&&define.amd?define("eventie/eventie",n):"object"==typeof exports?module.exports=n:e.eventie=n}(this),function(e){function t(e){"function"==typeof e&&(t.isReady?e():n.push(e))}function a(e){var a="readystatechange"===e.type&&"complete"!==i.readyState;if(!t.isReady&&!a){t.isReady=!0;for(var o=0,s=n.length;s>o;o++){var r=n[o];r()}}}function o(o){return o.bind(i,"DOMContentLoaded",a),o.bind(i,"readystatechange",a),o.bind(e,"load",a),t}var i=e.document,n=[];t.isReady=!1,"function"==typeof define&&define.amd?(t.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],o)):e.docReady=o(e.eventie)}(this),function(){function e(){}function t(e,t){for(var a=e.length;a--;)if(e[a].listener===t)return a;return-1}function a(e){return function(){return this[e].apply(this,arguments)}}var o=e.prototype,i=this,n=i.EventEmitter;o.getListeners=function(e){var t,a,o=this._getEvents();if(e instanceof RegExp){t={};for(a in o)o.hasOwnProperty(a)&&e.test(a)&&(t[a]=o[a])}else t=o[e]||(o[e]=[]);return t},o.flattenListeners=function(e){var t,a=[];for(t=0;t<e.length;t+=1)a.push(e[t].listener);return a},o.getListenersAsObject=function(e){var t,a=this.getListeners(e);return a instanceof Array&&(t={},t[e]=a),t||a},o.addListener=function(e,a){var o,i=this.getListenersAsObject(e),n="object"==typeof a;for(o in i)i.hasOwnProperty(o)&&-1===t(i[o],a)&&i[o].push(n?a:{listener:a,once:!1});return this},o.on=a("addListener"),o.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},o.once=a("addOnceListener"),o.defineEvent=function(e){return this.getListeners(e),this},o.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},o.removeListener=function(e,a){var o,i,n=this.getListenersAsObject(e);for(i in n)n.hasOwnProperty(i)&&(o=t(n[i],a),-1!==o&&n[i].splice(o,1));return this},o.off=a("removeListener"),o.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},o.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},o.manipulateListeners=function(e,t,a){var o,i,n=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(o=a.length;o--;)n.call(this,t,a[o]);else for(o in t)t.hasOwnProperty(o)&&(i=t[o])&&("function"==typeof i?n.call(this,o,i):s.call(this,o,i));return this},o.removeEvent=function(e){var t,a=typeof e,o=this._getEvents();if("string"===a)delete o[e];else if(e instanceof RegExp)for(t in o)o.hasOwnProperty(t)&&e.test(t)&&delete o[t];else delete this._events;return this},o.removeAllListeners=a("removeEvent"),o.emitEvent=function(e,t){var a,o,i,n,s=this.getListenersAsObject(e);for(i in s)if(s.hasOwnProperty(i))for(o=s[i].length;o--;)a=s[i][o],a.once===!0&&this.removeListener(e,a.listener),n=a.listener.apply(this,t||[]),n===this._getOnceReturnValue()&&this.removeListener(e,a.listener);return this},o.trigger=a("emitEvent"),o.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},o.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},o._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},o._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return i.EventEmitter=n,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(e){function t(e){if(e){if("string"==typeof o[e])return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var t,i=0,n=a.length;n>i;i++)if(t=a[i]+e,"string"==typeof o[t])return t}}var a="Webkit Moz ms Ms O".split(" "),o=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return t}):"object"==typeof exports?module.exports=t:e.getStyleProperty=t}(window),function(e){function t(e){var t=parseFloat(e),a=-1===e.indexOf("%")&&!isNaN(t);return a&&t}function a(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0,a=s.length;a>t;t++){var o=s[t];e[o]=0}return e}function o(e){function o(e){if("string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var o=n(e);if("none"===o.display)return a();var i={};i.width=e.offsetWidth,i.height=e.offsetHeight;for(var u=i.isBorderBox=!(!l||!o[l]||"border-box"!==o[l]),d=0,p=s.length;p>d;d++){var h=s[d],m=o[h];m=r(e,m);var f=parseFloat(m);i[h]=isNaN(f)?0:f}var v=i.paddingLeft+i.paddingRight,g=i.paddingTop+i.paddingBottom,$=i.marginLeft+i.marginRight,b=i.marginTop+i.marginBottom,_=i.borderLeftWidth+i.borderRightWidth,C=i.borderTopWidth+i.borderBottomWidth,y=u&&c,S=t(o.width);S!==!1&&(i.width=S+(y?0:v+_));var k=t(o.height);return k!==!1&&(i.height=k+(y?0:g+C)),i.innerWidth=i.width-(v+_),i.innerHeight=i.height-(g+C),i.outerWidth=i.width+$,i.outerHeight=i.height+b,i}}function r(e,t){if(i||-1===t.indexOf("%"))return t;var a=e.style,o=a.left,n=e.runtimeStyle,s=n&&n.left;return s&&(n.left=e.currentStyle.left),a.left=t,t=a.pixelLeft,a.left=o,s&&(n.left=s),t}var c,l=e("boxSizing");return function(){if(l){var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style[l]="border-box";var a=document.body||document.documentElement;a.appendChild(e);var o=n(e);c=200===t(o.width),a.removeChild(e)}}(),o}var i=e.getComputedStyle,n=i?function(e){return i(e,null)}:function(e){return e.currentStyle},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],o):"object"==typeof exports?module.exports=o(require("get-style-property")):e.getSize=o(e.getStyleProperty)}(window),function(e,t){function a(e,t){return e[r](t)}function o(e){if(!e.parentNode){var t=document.createDocumentFragment();t.appendChild(e)}}function i(e,t){o(e);for(var a=e.parentNode.querySelectorAll(t),i=0,n=a.length;n>i;i++)if(a[i]===e)return!0;return!1}function n(e,t){return o(e),a(e,t)}var s,r=function(){if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],a=0,o=e.length;o>a;a++){var i=e[a],n=i+"MatchesSelector";if(t[n])return n}}();if(r){var c=document.createElement("div"),l=a(c,"div");s=l?a:n}else s=i;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return s}):window.matchesSelector=s}(this,Element.prototype),function(e){function t(e,t){for(var a in t)e[a]=t[a];return e}function a(e){for(var t in e)return!1;return t=null,!0}function o(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function i(e,i,n){function r(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var c=n("transition"),l=n("transform"),u=c&&l,d=!!n("perspective"),p={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[c],h=["transform","transition","transitionDuration","transitionProperty"],m=function(){for(var e={},t=0,a=h.length;a>t;t++){var o=h[t],i=n(o);i&&i!==o&&(e[o]=i)}return e}();t(r.prototype,e.prototype),r.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},r.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.prototype.getSize=function(){this.size=i(this.element)},r.prototype.css=function(e){var t=this.element.style;for(var a in e){var o=m[a]||a;t[o]=e[a]}},r.prototype.getPosition=function(){var e=s(this.element),t=this.layout.options,a=t.isOriginLeft,o=t.isOriginTop,i=parseInt(e[a?"left":"right"],10),n=parseInt(e[o?"top":"bottom"],10);i=isNaN(i)?0:i,n=isNaN(n)?0:n;var r=this.layout.size;i-=a?r.paddingLeft:r.paddingRight,n-=o?r.paddingTop:r.paddingBottom,this.position.x=i,this.position.y=n},r.prototype.layoutPosition=function(){var e=this.layout.size,t=this.layout.options,a={};t.isOriginLeft?(a.left=this.position.x+e.paddingLeft+"px",a.right=""):(a.right=this.position.x+e.paddingRight+"px",a.left=""),t.isOriginTop?(a.top=this.position.y+e.paddingTop+"px",a.bottom=""):(a.bottom=this.position.y+e.paddingBottom+"px",a.top=""),this.css(a),this.emitEvent("layout",[this])};var f=d?function(e,t){return"translate3d("+e+"px, "+t+"px, 0)"}:function(e,t){return"translate("+e+"px, "+t+"px)"};r.prototype._transitionTo=function(e,t){this.getPosition();var a=this.position.x,o=this.position.y,i=parseInt(e,10),n=parseInt(t,10),s=i===this.position.x&&n===this.position.y;if(this.setPosition(e,t),s&&!this.isTransitioning)return void this.layoutPosition();var r=e-a,c=t-o,l={},u=this.layout.options;r=u.isOriginLeft?r:-r,c=u.isOriginTop?c:-c,l.transform=f(r,c),this.transition({to:l,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},r.prototype.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},r.prototype.moveTo=u?r.prototype._transitionTo:r.prototype.goTo,r.prototype.setPosition=function(e,t){this.position.x=parseInt(e,10),this.position.y=parseInt(t,10)},r.prototype._nonTransition=function(e){this.css(e.to),e.isCleaning&&this._removeStyles(e.to);for(var t in e.onTransitionEnd)e.onTransitionEnd[t].call(this)},r.prototype._transition=function(e){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(e);var t=this._transn;for(var a in e.onTransitionEnd)t.onEnd[a]=e.onTransitionEnd[a];for(a in e.to)t.ingProperties[a]=!0,e.isCleaning&&(t.clean[a]=!0);if(e.from){this.css(e.from);var o=this.element.offsetHeight;o=null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0};var v=l&&o(l)+",opacity";r.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:v,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(p,this,!1))},r.prototype.transition=r.prototype[c?"_transition":"_nonTransition"],r.prototype.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},r.prototype.onotransitionend=function(e){this.ontransitionend(e)};var g={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};r.prototype.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,o=g[e.propertyName]||e.propertyName;if(delete t.ingProperties[o],a(t.ingProperties)&&this.disableTransition(),o in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[o]),o in t.onEnd){var i=t.onEnd[o];i.call(this),delete t.onEnd[o]}this.emitEvent("transitionEnd",[this])}},r.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(p,this,!1),this.isTransitioning=!1},r.prototype._removeStyles=function(e){var t={};for(var a in e)t[a]="";this.css(t)};var $={transitionProperty:"",transitionDuration:""};return r.prototype.removeTransitionStyles=function(){this.css($)},r.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},r.prototype.remove=function(){if(!c||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var e=this;this.on("transitionEnd",function(){return e.removeElem(),!0}),this.hide()},r.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options;this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0})},r.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options;this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},r.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},r}var n=e.getComputedStyle,s=n?function(e){return n(e,null)}:function(e){return e.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],i):(e.Outlayer={},e.Outlayer.Item=i(e.EventEmitter,e.getSize,e.getStyleProperty))}(window),function(e){function t(e,t){for(var a in t)e[a]=t[a];return e}function a(e){return"[object Array]"===d.call(e)}function o(e){var t=[];if(a(e))t=e;else if(e&&"number"==typeof e.length)for(var o=0,i=e.length;i>o;o++)t.push(e[o]);else t.push(e);return t}function i(e,t){var a=h(t,e);-1!==a&&t.splice(a,1)}function n(e){return e.replace(/(.)([A-Z])/g,function(e,t,a){return t+"-"+a}).toLowerCase()}function s(a,s,d,h,m,f){function v(e,a){if("string"==typeof e&&(e=r.querySelector(e)),!e||!p(e))return void(c&&c.error("Bad "+this.constructor.namespace+" element: "+e));this.element=e,this.options=t({},this.constructor.defaults),this.option(a);var o=++g;this.element.outlayerGUID=o,$[o]=this,this._create(),this.options.isInitLayout&&this.layout()}var g=0,$={};return v.namespace="outlayer",v.Item=f,v.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},t(v.prototype,d.prototype),v.prototype.option=function(e){t(this.options,e)},v.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),t(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},v.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},v.prototype._itemize=function(e){for(var t=this._filterFindItemElements(e),a=this.constructor.Item,o=[],i=0,n=t.length;n>i;i++){var s=t[i],r=new a(s,this);o.push(r)}return o},v.prototype._filterFindItemElements=function(e){e=o(e);for(var t=this.options.itemSelector,a=[],i=0,n=e.length;n>i;i++){var s=e[i];if(p(s))if(t){m(s,t)&&a.push(s);for(var r=s.querySelectorAll(t),c=0,l=r.length;l>c;c++)a.push(r[c])}else a.push(s)}return a},v.prototype.getItemElements=function(){for(var e=[],t=0,a=this.items.length;a>t;t++)e.push(this.items[t].element);return e},v.prototype.layout=function(){this._resetLayout(),this._manageStamps();var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},v.prototype._init=v.prototype.layout,v.prototype._resetLayout=function(){this.getSize()},v.prototype.getSize=function(){this.size=h(this.element)},v.prototype._getMeasurement=function(e,t){var a,o=this.options[e];o?("string"==typeof o?a=this.element.querySelector(o):p(o)&&(a=o),this[e]=a?h(a)[t]:o):this[e]=0},v.prototype.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},v.prototype._getItemsForLayout=function(e){for(var t=[],a=0,o=e.length;o>a;a++){var i=e[a];i.isIgnored||t.push(i)}return t},v.prototype._layoutItems=function(e,t){function a(){o.emitEvent("layoutComplete",[o,e])}var o=this;if(!e||!e.length)return void a();this._itemsOn(e,"layout",a);for(var i=[],n=0,s=e.length;s>n;n++){var r=e[n],c=this._getItemLayoutPosition(r);c.item=r,c.isInstant=t||r.isLayoutInstant,i.push(c)}this._processLayoutQueue(i)},v.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},v.prototype._processLayoutQueue=function(e){for(var t=0,a=e.length;a>t;t++){var o=e[t];this._positionItem(o.item,o.x,o.y,o.isInstant)}},v.prototype._positionItem=function(e,t,a,o){o?e.goTo(t,a):e.moveTo(t,a)},v.prototype._postLayout=function(){this.resizeContainer()},v.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},v.prototype._getContainerSize=u,v.prototype._setContainerMeasure=function(e,t){if(void 0!==e){var a=this.size;a.isBorderBox&&(e+=t?a.paddingLeft+a.paddingRight+a.borderLeftWidth+a.borderRightWidth:a.paddingBottom+a.paddingTop+a.borderTopWidth+a.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},v.prototype._itemsOn=function(e,t,a){function o(){return i++,i===n&&a.call(s),!0}for(var i=0,n=e.length,s=this,r=0,c=e.length;c>r;r++){var l=e[r];l.on(t,o)}},v.prototype.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},v.prototype.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},v.prototype.stamp=function(e){if(e=this._find(e)){this.stamps=this.stamps.concat(e);for(var t=0,a=e.length;a>t;t++){var o=e[t];this.ignore(o)}}},v.prototype.unstamp=function(e){if(e=this._find(e))for(var t=0,a=e.length;a>t;t++){var o=e[t];i(o,this.stamps),this.unignore(o)}},v.prototype._find=function(e){return e?("string"==typeof e&&(e=this.element.querySelectorAll(e)),e=o(e)):void 0},v.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var e=0,t=this.stamps.length;t>e;e++){var a=this.stamps[e];this._manageStamp(a)}}},v.prototype._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},v.prototype._manageStamp=u,v.prototype._getElementOffset=function(e){var t=e.getBoundingClientRect(),a=this._boundingRect,o=h(e),i={left:t.left-a.left-o.marginLeft,top:t.top-a.top-o.marginTop,right:a.right-t.right-o.marginRight,bottom:a.bottom-t.bottom-o.marginBottom};return i},v.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},v.prototype.bindResize=function(){this.isResizeBound||(a.bind(e,"resize",this),this.isResizeBound=!0)},v.prototype.unbindResize=function(){this.isResizeBound&&a.unbind(e,"resize",this),this.isResizeBound=!1},v.prototype.onresize=function(){function e(){t.resize(),delete t.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout(e,100)},v.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},v.prototype.needsResizeLayout=function(){var e=h(this.element),t=this.size&&e;return t&&e.innerWidth!==this.size.innerWidth},v.prototype.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},v.prototype.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},v.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){var a=this.items.slice(0);this.items=t.concat(a),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(a)}},v.prototype.reveal=function(e){var t=e&&e.length;if(t)for(var a=0;t>a;a++){var o=e[a];o.reveal()}},v.prototype.hide=function(e){var t=e&&e.length;if(t)for(var a=0;t>a;a++){var o=e[a];o.hide()}},v.prototype.getItem=function(e){for(var t=0,a=this.items.length;a>t;t++){var o=this.items[t];if(o.element===e)return o}},v.prototype.getItems=function(e){if(e&&e.length){for(var t=[],a=0,o=e.length;o>a;a++){var i=e[a],n=this.getItem(i);n&&t.push(n)}return t}},v.prototype.remove=function(e){e=o(e);var t=this.getItems(e);if(t&&t.length){this._itemsOn(t,"remove",function(){this.emitEvent("removeComplete",[this,t])});for(var a=0,n=t.length;n>a;a++){var s=t[a];s.remove(),i(s,this.items)}}},v.prototype.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="";for(var t=0,a=this.items.length;a>t;t++){var o=this.items[t];o.destroy()}this.unbindResize(),delete this.element.outlayerGUID,l&&l.removeData(this.element,this.constructor.namespace)},v.data=function(e){var t=e&&e.outlayerGUID;return t&&$[t]},v.create=function(e,a){function o(){v.apply(this,arguments)}return Object.create?o.prototype=Object.create(v.prototype):t(o.prototype,v.prototype),o.prototype.constructor=o,o.defaults=t({},v.defaults),t(o.defaults,a),o.prototype.settings={},o.namespace=e,o.data=v.data,o.Item=function(){f.apply(this,arguments)},o.Item.prototype=new f,s(function(){for(var t=n(e),a=r.querySelectorAll(".js-"+t),i="data-"+t+"-options",s=0,u=a.length;u>s;s++){var d,p=a[s],h=p.getAttribute(i);try{d=h&&JSON.parse(h)}catch(m){c&&c.error("Error parsing "+i+" on "+p.nodeName.toLowerCase()+(p.id?"#"+p.id:"")+": "+m);continue}var f=new o(p,d);l&&l.data(p,e,f)}}),l&&l.bridget&&l.bridget(e,o),o},v.Item=f,v}var r=e.document,c=e.console,l=e.jQuery,u=function(){},d=Object.prototype.toString,p="object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},h=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var a=0,o=e.length;o>a;a++)if(e[a]===t)return a;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],s):e.Outlayer=s(e.eventie,e.docReady,e.EventEmitter,e.getSize,e.matchesSelector,e.Outlayer.Item)}(window),function(e){function t(e,t){var o=e.create("masonry");return o.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;for(this.colYs=[];e--;)this.colYs.push(0);this.maxY=0},o.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],a=e&&e.element;this.columnWidth=a&&t(a).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},o.prototype.getContainerWidth=function(){var e=this.options.isFitWidth?this.element.parentNode:this.element,a=t(e);this.containerWidth=a&&a.innerWidth},o.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,o=t&&1>t?"round":"ceil",i=Math[o](e.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var n=this._getColGroup(i),s=Math.min.apply(Math,n),r=a(n,s),c={x:this.columnWidth*r,y:s},l=s+e.size.outerHeight,u=this.cols+1-n.length,d=0;u>d;d++)this.colYs[r+d]=l;return c},o.prototype._getColGroup=function(e){if(2>e)return this.colYs;for(var t=[],a=this.cols+1-e,o=0;a>o;o++){var i=this.colYs.slice(o,o+e);t[o]=Math.max.apply(Math,i)}return t},o.prototype._manageStamp=function(e){var a=t(e),o=this._getElementOffset(e),i=this.options.isOriginLeft?o.left:o.right,n=i+a.outerWidth,s=Math.floor(i/this.columnWidth);s=Math.max(0,s);var r=Math.floor(n/this.columnWidth);r-=n%this.columnWidth?0:1,r=Math.min(this.cols-1,r);for(var c=(this.options.isOriginTop?o.top:o.bottom)+a.outerHeight,l=s;r>=l;l++)this.colYs[l]=Math.max(c,this.colYs[l])},o.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this.options.isFitWidth&&(e.width=this._getContainerFitWidth()),e},o.prototype._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},o.prototype.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!==this.containerWidth},o}var a=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var a=0,o=e.length;o>a;a++){var i=e[a];if(i===t)return a}return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],t):e.Masonry=t(e.Outlayer,e.getSize)}(window),!function(e){"use strict";function t(e){return(e||"").toLowerCase()}var a="2.1.5";e.fn.cycle=function(a){var o;return 0!==this.length||e.isReady?this.each(function(){var o,i,n,s,r=e(this),c=e.fn.cycle.log;if(!r.data("cycle.opts")){(r.data("cycle-log")===!1||a&&a.log===!1||i&&i.log===!1)&&(c=e.noop),c("--c2 init--"),o=r.data();for(var l in o)o.hasOwnProperty(l)&&/^cycle[A-Z]+/.test(l)&&(s=o[l],n=l.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,t),c(n+":",s,"("+typeof s+")"),o[n]=s);i=e.extend({},e.fn.cycle.defaults,o,a||{}),i.timeoutId=0,i.paused=i.paused||!1,i.container=r,i._maxZ=i.maxZ,i.API=e.extend({_container:r},e.fn.cycle.API),i.API.log=c,i.API.trigger=function(e,t){return i.container.trigger(e,t),i.API},r.data("cycle.opts",i),r.data("cycle.API",i.API),i.API.trigger("cycle-bootstrap",[i,i.API]),i.API.addInitialSlides(),i.API.preInitSlideshow(),i.slides.length&&i.API.initSlideshow()}}):(o={s:this.selector,c:this.context},e.fn.cycle.log("requeuing slideshow (dom not ready)"),e(function(){e(o.s,o.c).cycle(a)}),this)},e.fn.cycle.API={opts:function(){return this._container.data("cycle.opts")},addInitialSlides:function(){var t=this.opts(),a=t.slides;t.slideCount=0,t.slides=e(),a=a.jquery?a:t.container.find(a),t.random&&a.sort(function(){return Math.random()-.5}),t.API.add(a)},preInitSlideshow:function(){var t=this.opts();t.API.trigger("cycle-pre-initialize",[t]);var a=e.fn.cycle.transitions[t.fx];a&&e.isFunction(a.preInit)&&a.preInit(t),t._preInitialized=!0},postInitSlideshow:function(){var t=this.opts();t.API.trigger("cycle-post-initialize",[t]);var a=e.fn.cycle.transitions[t.fx];a&&e.isFunction(a.postInit)&&a.postInit(t)},initSlideshow:function(){var t,a=this.opts(),o=a.container;a.API.calcFirstSlide(),"static"==a.container.css("position")&&a.container.css("position","relative"),e(a.slides[a.currSlide]).css({opacity:1,display:"block",visibility:"visible"}),a.API.stackSlides(a.slides[a.currSlide],a.slides[a.nextSlide],!a.reverse),a.pauseOnHover&&(a.pauseOnHover!==!0&&(o=e(a.pauseOnHover)),o.hover(function(){a.API.pause(!0)},function(){a.API.resume(!0)})),a.timeout&&(t=a.API.getSlideOpts(a.currSlide),a.API.queueTransition(t,t.timeout+a.delay)),a._initialized=!0,a.API.updateView(!0),a.API.trigger("cycle-initialized",[a]),a.API.postInitSlideshow()},pause:function(t){var a=this.opts(),o=a.API.getSlideOpts(),i=a.hoverPaused||a.paused;t?a.hoverPaused=!0:a.paused=!0,i||(a.container.addClass("cycle-paused"),a.API.trigger("cycle-paused",[a]).log("cycle-paused"),o.timeout&&(clearTimeout(a.timeoutId),a.timeoutId=0,a._remainingTimeout-=e.now()-a._lastQueue,(a._remainingTimeout<0||isNaN(a._remainingTimeout))&&(a._remainingTimeout=void 0)))},resume:function(e){var t=this.opts(),a=!t.hoverPaused&&!t.paused;e?t.hoverPaused=!1:t.paused=!1,a||(t.container.removeClass("cycle-paused"),0===t.slides.filter(":animated").length&&t.API.queueTransition(t.API.getSlideOpts(),t._remainingTimeout),t.API.trigger("cycle-resumed",[t,t._remainingTimeout]).log("cycle-resumed"))},add:function(t,a){var o,i=this.opts(),n=i.slideCount,s=!1;"string"==e.type(t)&&(t=e.trim(t)),e(t).each(function(){var t,o=e(this);a?i.container.prepend(o):i.container.append(o),i.slideCount++,t=i.API.buildSlideOpts(o),i.slides=a?e(o).add(i.slides):i.slides.add(o),i.API.initSlide(t,o,--i._maxZ),o.data("cycle.opts",t),i.API.trigger("cycle-slide-added",[i,t,o])}),i.API.updateView(!0),s=i._preInitialized&&2>n&&i.slideCount>=1,s&&(i._initialized?i.timeout&&(o=i.slides.length,i.nextSlide=i.reverse?o-1:1,i.timeoutId||i.API.queueTransition(i)):i.API.initSlideshow())},calcFirstSlide:function(){var e,t=this.opts();e=parseInt(t.startingSlide||0,10),(e>=t.slides.length||0>e)&&(e=0),t.currSlide=e,t.reverse?(t.nextSlide=e-1,t.nextSlide<0&&(t.nextSlide=t.slides.length-1)):(t.nextSlide=e+1,t.nextSlide==t.slides.length&&(t.nextSlide=0))},calcNextSlide:function(){var e,t=this.opts();t.reverse?(e=t.nextSlide-1<0,t.nextSlide=e?t.slideCount-1:t.nextSlide-1,t.currSlide=e?0:t.nextSlide+1):(e=t.nextSlide+1==t.slides.length,t.nextSlide=e?0:t.nextSlide+1,t.currSlide=e?t.slides.length-1:t.nextSlide-1)},calcTx:function(t,a){var o,i=t;return i._tempFx?o=e.fn.cycle.transitions[i._tempFx]:a&&i.manualFx&&(o=e.fn.cycle.transitions[i.manualFx]),o||(o=e.fn.cycle.transitions[i.fx]),i._tempFx=null,this.opts()._tempFx=null,o||(o=e.fn.cycle.transitions.fade,i.API.log('Transition "'+i.fx+'" not found.  Using fade.')),o},prepareTx:function(e,t){var a,o,i,n,s,r=this.opts();return r.slideCount<2?void(r.timeoutId=0):(!e||r.busy&&!r.manualTrump||(r.API.stopTransition(),r.busy=!1,clearTimeout(r.timeoutId),r.timeoutId=0),void(r.busy||(0!==r.timeoutId||e)&&(o=r.slides[r.currSlide],i=r.slides[r.nextSlide],n=r.API.getSlideOpts(r.nextSlide),s=r.API.calcTx(n,e),r._tx=s,e&&void 0!==n.manualSpeed&&(n.speed=n.manualSpeed),r.nextSlide!=r.currSlide&&(e||!r.paused&&!r.hoverPaused&&r.timeout)?(r.API.trigger("cycle-before",[n,o,i,t]),s.before&&s.before(n,o,i,t),a=function(){r.busy=!1,r.container.data("cycle.opts")&&(s.after&&s.after(n,o,i,t),r.API.trigger("cycle-after",[n,o,i,t]),r.API.queueTransition(n),r.API.updateView(!0))},r.busy=!0,s.transition?s.transition(n,o,i,t,a):r.API.doTransition(n,o,i,t,a),r.API.calcNextSlide(),r.API.updateView()):r.API.queueTransition(n))))},doTransition:function(t,a,o,i,n){var s=t,r=e(a),c=e(o),l=function(){c.animate(s.animIn||{opacity:1},s.speed,s.easeIn||s.easing,n)};c.css(s.cssBefore||{}),r.animate(s.animOut||{},s.speed,s.easeOut||s.easing,function(){r.css(s.cssAfter||{}),s.sync||l()
}),s.sync&&l()},queueTransition:function(t,a){var o=this.opts(),i=void 0!==a?a:t.timeout;return 0===o.nextSlide&&0===--o.loop?(o.API.log("terminating; loop=0"),o.timeout=0,i?setTimeout(function(){o.API.trigger("cycle-finished",[o])},i):o.API.trigger("cycle-finished",[o]),void(o.nextSlide=o.currSlide)):void 0!==o.continueAuto&&(o.continueAuto===!1||e.isFunction(o.continueAuto)&&o.continueAuto()===!1)?(o.API.log("terminating automatic transitions"),o.timeout=0,void(o.timeoutId&&clearTimeout(o.timeoutId))):void(i&&(o._lastQueue=e.now(),void 0===a&&(o._remainingTimeout=t.timeout),o.paused||o.hoverPaused||(o.timeoutId=setTimeout(function(){o.API.prepareTx(!1,!o.reverse)},i))))},stopTransition:function(){var e=this.opts();e.slides.filter(":animated").length&&(e.slides.stop(!1,!0),e.API.trigger("cycle-transition-stopped",[e])),e._tx&&e._tx.stopTransition&&e._tx.stopTransition(e)},advanceSlide:function(e){var t=this.opts();return clearTimeout(t.timeoutId),t.timeoutId=0,t.nextSlide=t.currSlide+e,t.nextSlide<0?t.nextSlide=t.slides.length-1:t.nextSlide>=t.slides.length&&(t.nextSlide=0),t.API.prepareTx(!0,e>=0),!1},buildSlideOpts:function(a){var o,i,n=this.opts(),s=a.data()||{};for(var r in s)s.hasOwnProperty(r)&&/^cycle[A-Z]+/.test(r)&&(o=s[r],i=r.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,t),n.API.log("["+(n.slideCount-1)+"]",i+":",o,"("+typeof o+")"),s[i]=o);s=e.extend({},e.fn.cycle.defaults,n,s),s.slideNum=n.slideCount;try{delete s.API,delete s.slideCount,delete s.currSlide,delete s.nextSlide,delete s.slides}catch(c){}return s},getSlideOpts:function(t){var a=this.opts();void 0===t&&(t=a.currSlide);var o=a.slides[t],i=e(o).data("cycle.opts");return e.extend({},a,i)},initSlide:function(t,a,o){var i=this.opts();a.css(t.slideCss||{}),o>0&&a.css("zIndex",o),isNaN(t.speed)&&(t.speed=e.fx.speeds[t.speed]||e.fx.speeds._default),t.sync||(t.speed=t.speed/2),a.addClass(i.slideClass)},updateView:function(e,t){var a=this.opts();if(a._initialized){var o=a.API.getSlideOpts(),i=a.slides[a.currSlide];!e&&t!==!0&&(a.API.trigger("cycle-update-view-before",[a,o,i]),a.updateView<0)||(a.slideActiveClass&&a.slides.removeClass(a.slideActiveClass).eq(a.currSlide).addClass(a.slideActiveClass),e&&a.hideNonActive&&a.slides.filter(":not(."+a.slideActiveClass+")").css("visibility","hidden"),0===a.updateView&&setTimeout(function(){a.API.trigger("cycle-update-view",[a,o,i,e])},o.speed/(a.sync?2:1)),0!==a.updateView&&a.API.trigger("cycle-update-view",[a,o,i,e]),e&&a.API.trigger("cycle-update-view-after",[a,o,i]))}},getComponent:function(t){var a=this.opts(),o=a[t];return"string"==typeof o?/^\s*[\>|\+|~]/.test(o)?a.container.find(o):e(o):o.jquery?o:e(o)},stackSlides:function(t,a,o){var i=this.opts();t||(t=i.slides[i.currSlide],a=i.slides[i.nextSlide],o=!i.reverse),e(t).css("zIndex",i.maxZ);var n,s=i.maxZ-2,r=i.slideCount;if(o){for(n=i.currSlide+1;r>n;n++)e(i.slides[n]).css("zIndex",s--);for(n=0;n<i.currSlide;n++)e(i.slides[n]).css("zIndex",s--)}else{for(n=i.currSlide-1;n>=0;n--)e(i.slides[n]).css("zIndex",s--);for(n=r-1;n>i.currSlide;n--)e(i.slides[n]).css("zIndex",s--)}e(a).css("zIndex",i.maxZ-1)},getSlideIndex:function(e){return this.opts().slides.index(e)}},e.fn.cycle.log=function(){window.console&&console.log&&console.log("[cycle2] "+Array.prototype.join.call(arguments," "))},e.fn.cycle.version=function(){return"Cycle2: "+a},e.fn.cycle.transitions={custom:{},none:{before:function(e,t,a,o){e.API.stackSlides(a,t,o),e.cssBefore={opacity:1,visibility:"visible",display:"block"}}},fade:{before:function(t,a,o,i){var n=t.API.getSlideOpts(t.nextSlide).slideCss||{};t.API.stackSlides(a,o,i),t.cssBefore=e.extend(n,{opacity:0,visibility:"visible",display:"block"}),t.animIn={opacity:1},t.animOut={opacity:0}}},fadeout:{before:function(t,a,o,i){var n=t.API.getSlideOpts(t.nextSlide).slideCss||{};t.API.stackSlides(a,o,i),t.cssBefore=e.extend(n,{opacity:1,visibility:"visible",display:"block"}),t.animOut={opacity:0}}},scrollHorz:{before:function(e,t,a,o){e.API.stackSlides(t,a,o);var i=e.container.css("overflow","hidden").width();e.cssBefore={left:o?i:-i,top:0,opacity:1,visibility:"visible",display:"block"},e.cssAfter={zIndex:e._maxZ-2,left:0},e.animIn={left:0},e.animOut={left:o?-i:i}}}},e.fn.cycle.defaults={allowWrap:!0,autoSelector:".cycle-slideshow[data-cycle-auto-init!=false]",delay:0,easing:null,fx:"fade",hideNonActive:!0,loop:0,manualFx:void 0,manualSpeed:void 0,manualTrump:!0,maxZ:100,pauseOnHover:!1,reverse:!1,slideActiveClass:"cycle-slide-active",slideClass:"cycle-slide",slideCss:{position:"absolute",top:0,left:0},slides:"> img",speed:500,startingSlide:0,sync:!0,timeout:4e3,updateView:0},e(document).ready(function(){e(e.fn.cycle.defaults.autoSelector).cycle()})}(jQuery),function(e){"use strict";function t(t,o){var i,n,s,r=o.autoHeight;if("container"==r)n=e(o.slides[o.currSlide]).outerHeight(),o.container.height(n);else if(o._autoHeightRatio)o.container.height(o.container.width()/o._autoHeightRatio);else if("calc"===r||"number"==e.type(r)&&r>=0){if(s="calc"===r?a(t,o):r>=o.slides.length?0:r,s==o._sentinelIndex)return;o._sentinelIndex=s,o._sentinel&&o._sentinel.remove(),i=e(o.slides[s].cloneNode(!0)),i.removeAttr("id name rel").find("[id],[name],[rel]").removeAttr("id name rel"),i.css({position:"static",visibility:"hidden",display:"block"}).prependTo(o.container).addClass("cycle-sentinel cycle-slide").removeClass("cycle-slide-active"),i.find("*").css("visibility","hidden"),o._sentinel=i}}function a(t,a){var o=0,i=-1;return a.slides.each(function(t){var a=e(this).height();a>i&&(i=a,o=t)}),o}function o(t,a,o,i){var n=e(i).outerHeight();a.container.animate({height:n},a.autoHeightSpeed,a.autoHeightEasing)}function i(a,n){n._autoHeightOnResize&&(e(window).off("resize orientationchange",n._autoHeightOnResize),n._autoHeightOnResize=null),n.container.off("cycle-slide-added cycle-slide-removed",t),n.container.off("cycle-destroyed",i),n.container.off("cycle-before",o),n._sentinel&&(n._sentinel.remove(),n._sentinel=null)}e.extend(e.fn.cycle.defaults,{autoHeight:0,autoHeightSpeed:250,autoHeightEasing:null}),e(document).on("cycle-initialized",function(a,n){function s(){t(a,n)}var r,c=n.autoHeight,l=e.type(c),u=null;("string"===l||"number"===l)&&(n.container.on("cycle-slide-added cycle-slide-removed",t),n.container.on("cycle-destroyed",i),"container"==c?n.container.on("cycle-before",o):"string"===l&&/\d+\:\d+/.test(c)&&(r=c.match(/(\d+)\:(\d+)/),r=r[1]/r[2],n._autoHeightRatio=r),"number"!==l&&(n._autoHeightOnResize=function(){clearTimeout(u),u=setTimeout(s,50)},e(window).on("resize orientationchange",n._autoHeightOnResize)),setTimeout(s,30))})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{caption:"> .cycle-caption",captionTemplate:"{{slideNum}} / {{slideCount}}",overlay:"> .cycle-overlay",overlayTemplate:"<div>{{title}}</div><div>{{desc}}</div>",captionModule:"caption"}),e(document).on("cycle-update-view",function(t,a,o,i){"caption"===a.captionModule&&e.each(["caption","overlay"],function(){var e=this,t=o[e+"Template"],n=a.API.getComponent(e);n.length&&t?(n.html(a.API.tmpl(t,o,a,i)),n.show()):n.hide()})}),e(document).on("cycle-destroyed",function(t,a){var o;e.each(["caption","overlay"],function(){var e=this,t=a[e+"Template"];a[e]&&t&&(o=a.API.getComponent("caption"),o.empty())})})}(jQuery),function(e){"use strict";var t=e.fn.cycle;e.fn.cycle=function(a){var o,i,n,s=e.makeArray(arguments);return"number"==e.type(a)?this.cycle("goto",a):"string"==e.type(a)?this.each(function(){var r;return o=a,n=e(this).data("cycle.opts"),void 0===n?void t.log('slideshow must be initialized before sending commands; "'+o+'" ignored'):(o="goto"==o?"jump":o,i=n.API[o],e.isFunction(i)?(r=e.makeArray(s),r.shift(),i.apply(n.API,r)):void t.log("unknown command: ",o))}):t.apply(this,arguments)},e.extend(e.fn.cycle,t),e.extend(t.API,{next:function(){var e=this.opts();if(!e.busy||e.manualTrump){var t=e.reverse?-1:1;e.allowWrap===!1&&e.currSlide+t>=e.slideCount||(e.API.advanceSlide(t),e.API.trigger("cycle-next",[e]).log("cycle-next"))}},prev:function(){var e=this.opts();if(!e.busy||e.manualTrump){var t=e.reverse?1:-1;e.allowWrap===!1&&e.currSlide+t<0||(e.API.advanceSlide(t),e.API.trigger("cycle-prev",[e]).log("cycle-prev"))}},destroy:function(){this.stop();var t=this.opts(),a=e.isFunction(e._data)?e._data:e.noop;clearTimeout(t.timeoutId),t.timeoutId=0,t.API.stop(),t.API.trigger("cycle-destroyed",[t]).log("cycle-destroyed"),t.container.removeData(),a(t.container[0],"parsedAttrs",!1),t.retainStylesOnDestroy||(t.container.removeAttr("style"),t.slides.removeAttr("style"),t.slides.removeClass(t.slideActiveClass)),t.slides.each(function(){e(this).removeData(),a(this,"parsedAttrs",!1)})},jump:function(e,t){var a,o=this.opts();if(!o.busy||o.manualTrump){var i=parseInt(e,10);if(isNaN(i)||0>i||i>=o.slides.length)return void o.API.log("goto: invalid slide index: "+i);if(i==o.currSlide)return void o.API.log("goto: skipping, already on slide",i);o.nextSlide=i,clearTimeout(o.timeoutId),o.timeoutId=0,o.API.log("goto: ",i," (zero-index)"),a=o.currSlide<o.nextSlide,o._tempFx=t,o.API.prepareTx(!0,a)}},stop:function(){var t=this.opts(),a=t.container;clearTimeout(t.timeoutId),t.timeoutId=0,t.API.stopTransition(),t.pauseOnHover&&(t.pauseOnHover!==!0&&(a=e(t.pauseOnHover)),a.off("mouseenter mouseleave")),t.API.trigger("cycle-stopped",[t]).log("cycle-stopped")},reinit:function(){var e=this.opts();e.API.destroy(),e.container.cycle()},remove:function(t){for(var a,o,i=this.opts(),n=[],s=1,r=0;r<i.slides.length;r++)a=i.slides[r],r==t?o=a:(n.push(a),e(a).data("cycle.opts").slideNum=s,s++);o&&(i.slides=e(n),i.slideCount--,e(o).remove(),t==i.currSlide?i.API.advanceSlide(1):t<i.currSlide?i.currSlide--:i.currSlide++,i.API.trigger("cycle-slide-removed",[i,t,o]).log("cycle-slide-removed"),i.API.updateView())}}),e(document).on("click.cycle","[data-cycle-cmd]",function(t){t.preventDefault();var a=e(this),o=a.data("cycle-cmd"),i=a.data("cycle-context")||".cycle-slideshow";e(i).cycle(o,a.data("cycle-arg"))})}(jQuery),function(e){"use strict";function t(t,a){var o;return t._hashFence?void(t._hashFence=!1):(o=window.location.hash.substring(1),void t.slides.each(function(i){if(e(this).data("cycle-hash")==o){if(a===!0)t.startingSlide=i;else{var n=t.currSlide<i;t.nextSlide=i,t.API.prepareTx(!0,n)}return!1}}))}e(document).on("cycle-pre-initialize",function(a,o){t(o,!0),o._onHashChange=function(){t(o,!1)},e(window).on("hashchange",o._onHashChange)}),e(document).on("cycle-update-view",function(e,t,a){a.hash&&"#"+a.hash!=window.location.hash&&(t._hashFence=!0,window.location.hash=a.hash)}),e(document).on("cycle-destroyed",function(t,a){a._onHashChange&&e(window).off("hashchange",a._onHashChange)})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{loader:!1}),e(document).on("cycle-bootstrap",function(t,a){function o(t,o){function n(t){var n;"wait"==a.loader?(r.push(t),0===l&&(r.sort(s),i.apply(a.API,[r,o]),a.container.removeClass("cycle-loading"))):(n=e(a.slides[a.currSlide]),i.apply(a.API,[t,o]),n.show(),a.container.removeClass("cycle-loading"))}function s(e,t){return e.data("index")-t.data("index")}var r=[];if("string"==e.type(t))t=e.trim(t);else if("array"===e.type(t))for(var c=0;c<t.length;c++)t[c]=e(t[c])[0];t=e(t);var l=t.length;l&&(t.css("visibility","hidden").appendTo("body").each(function(t){function s(){0===--c&&(--l,n(u))}var c=0,u=e(this),d=u.is("img")?u:u.find("img");return u.data("index",t),d=d.filter(":not(.cycle-loader-ignore)").filter(':not([src=""])'),d.length?(c=d.length,void d.each(function(){this.complete?s():e(this).load(function(){s()}).on("error",function(){0===--c&&(a.API.log("slide skipped; img not loaded:",this.src),0===--l&&"wait"==a.loader&&i.apply(a.API,[r,o]))})})):(--l,void r.push(u))}),l&&a.container.addClass("cycle-loading"))}var i;a.loader&&(i=a.API.add,a.API.add=o)})}(jQuery),function(e){"use strict";function t(t,a,o){var i,n=t.API.getComponent("pager");n.each(function(){var n=e(this);if(a.pagerTemplate){var s=t.API.tmpl(a.pagerTemplate,a,t,o[0]);i=e(s).appendTo(n)}else i=n.children().eq(t.slideCount-1);i.on(t.pagerEvent,function(e){t.pagerEventBubble||e.preventDefault(),t.API.page(n,e.currentTarget)})})}function a(e,t){var a=this.opts();if(!a.busy||a.manualTrump){var o=e.children().index(t),i=o,n=a.currSlide<i;a.currSlide!=i&&(a.nextSlide=i,a._tempFx=a.pagerFx,a.API.prepareTx(!0,n),a.API.trigger("cycle-pager-activated",[a,e,t]))}}e.extend(e.fn.cycle.defaults,{pager:"> .cycle-pager",pagerActiveClass:"cycle-pager-active",pagerEvent:"click.cycle",pagerEventBubble:void 0,pagerTemplate:"<span>&bull;</span>"}),e(document).on("cycle-bootstrap",function(e,a,o){o.buildPagerLink=t}),e(document).on("cycle-slide-added",function(e,t,o,i){t.pager&&(t.API.buildPagerLink(t,o,i),t.API.page=a)}),e(document).on("cycle-slide-removed",function(t,a,o){if(a.pager){var i=a.API.getComponent("pager");i.each(function(){var t=e(this);e(t.children()[o]).remove()})}}),e(document).on("cycle-update-view",function(t,a){var o;a.pager&&(o=a.API.getComponent("pager"),o.each(function(){e(this).children().removeClass(a.pagerActiveClass).eq(a.currSlide).addClass(a.pagerActiveClass)}))}),e(document).on("cycle-destroyed",function(e,t){var a=t.API.getComponent("pager");a&&(a.children().off(t.pagerEvent),t.pagerTemplate&&a.empty())})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{next:"> .cycle-next",nextEvent:"click.cycle",disabledClass:"disabled",prev:"> .cycle-prev",prevEvent:"click.cycle",swipe:!1}),e(document).on("cycle-initialized",function(e,t){if(t.API.getComponent("next").on(t.nextEvent,function(e){e.preventDefault(),t.API.next()}),t.API.getComponent("prev").on(t.prevEvent,function(e){e.preventDefault(),t.API.prev()}),t.swipe){var a=t.swipeVert?"swipeUp.cycle":"swipeLeft.cycle swipeleft.cycle",o=t.swipeVert?"swipeDown.cycle":"swipeRight.cycle swiperight.cycle";t.container.on(a,function(){t._tempFx=t.swipeFx,t.API.next()}),t.container.on(o,function(){t._tempFx=t.swipeFx,t.API.prev()})}}),e(document).on("cycle-update-view",function(e,t){if(!t.allowWrap){var a=t.disabledClass,o=t.API.getComponent("next"),i=t.API.getComponent("prev"),n=t._prevBoundry||0,s=void 0!==t._nextBoundry?t._nextBoundry:t.slideCount-1;t.currSlide==s?o.addClass(a).prop("disabled",!0):o.removeClass(a).prop("disabled",!1),t.currSlide===n?i.addClass(a).prop("disabled",!0):i.removeClass(a).prop("disabled",!1)}}),e(document).on("cycle-destroyed",function(e,t){t.API.getComponent("prev").off(t.nextEvent),t.API.getComponent("next").off(t.prevEvent),t.container.off("swipeleft.cycle swiperight.cycle swipeLeft.cycle swipeRight.cycle swipeUp.cycle swipeDown.cycle")})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{progressive:!1}),e(document).on("cycle-pre-initialize",function(t,a){if(a.progressive){var o,i,n=a.API,s=n.next,r=n.prev,c=n.prepareTx,l=e.type(a.progressive);if("array"==l)o=a.progressive;else if(e.isFunction(a.progressive))o=a.progressive(a);else if("string"==l){if(i=e(a.progressive),o=e.trim(i.html()),!o)return;if(/^(\[)/.test(o))try{o=e.parseJSON(o)}catch(u){return void n.log("error parsing progressive slides",u)}else o=o.split(new RegExp(i.data("cycle-split")||"\n")),o[o.length-1]||o.pop()}c&&(n.prepareTx=function(e,t){var i,n;return e||0===o.length?void c.apply(a.API,[e,t]):void(t&&a.currSlide==a.slideCount-1?(n=o[0],o=o.slice(1),a.container.one("cycle-slide-added",function(e,t){setTimeout(function(){t.API.advanceSlide(1)},50)}),a.API.add(n)):t||0!==a.currSlide?c.apply(a.API,[e,t]):(i=o.length-1,n=o[i],o=o.slice(0,i),a.container.one("cycle-slide-added",function(e,t){setTimeout(function(){t.currSlide=1,t.API.advanceSlide(-1)},50)}),a.API.add(n,!0)))}),s&&(n.next=function(){var e=this.opts();if(o.length&&e.currSlide==e.slideCount-1){var t=o[0];o=o.slice(1),e.container.one("cycle-slide-added",function(e,t){s.apply(t.API),t.container.removeClass("cycle-loading")}),e.container.addClass("cycle-loading"),e.API.add(t)}else s.apply(e.API)}),r&&(n.prev=function(){var e=this.opts();if(o.length&&0===e.currSlide){var t=o.length-1,a=o[t];o=o.slice(0,t),e.container.one("cycle-slide-added",function(e,t){t.currSlide=1,t.API.advanceSlide(-1),t.container.removeClass("cycle-loading")}),e.container.addClass("cycle-loading"),e.API.add(a,!0)}else r.apply(e.API)})}})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{tmplRegex:"{{((.)?.*?)}}"}),e.extend(e.fn.cycle.API,{tmpl:function(t,a){var o=new RegExp(a.tmplRegex||e.fn.cycle.defaults.tmplRegex,"g"),i=e.makeArray(arguments);return i.shift(),t.replace(o,function(t,a){var o,n,s,r,c=a.split(".");for(o=0;o<i.length;o++)if(s=i[o]){if(c.length>1)for(r=s,n=0;n<c.length;n++)s=r,r=r[c[n]]||a;else r=s[a];if(e.isFunction(r))return r.apply(s,i);if(void 0!==r&&null!==r&&r!=a)return r}return a})}})}(jQuery),function(e){e.fn.marquee=function(t){return this.each(function(){var a,o,i,n,s,r=e.extend({},e.fn.marquee.defaults,t),c=e(this),l=3,u="animation-play-state",d=!1,p=function(e,t,a){for(var o=["webkit","moz","MS","o",""],i=0;i<o.length;i++)o[i]||(t=t.toLowerCase()),e.addEventListener(o[i]+t,a,!1)},h=function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(a+":"+e[a]);return t.push(),"{"+t.join(",")+"}"},m=function(){c.timer=setTimeout(N,r.delayBeforeStart)},f={pause:function(){d&&r.allowCss3Support?a.css(u,"paused"):e.fn.pause&&a.pause(),c.data("runningStatus","paused"),c.trigger("paused")},resume:function(){d&&r.allowCss3Support?a.css(u,"running"):e.fn.resume&&a.resume(),c.data("runningStatus","resumed"),c.trigger("resumed")},toggle:function(){f["resumed"==c.data("runningStatus")?"pause":"resume"]()},destroy:function(){clearTimeout(c.timer),c.find("*").andSelf().unbind(),c.html(c.find(".js-marquee:first").html())}};if("string"==typeof t)return e.isFunction(f[t])&&(a||(a=c.find(".js-marquee-wrapper")),c.data("css3AnimationIsSupported")===!0&&(d=!0),f[t]()),void 0;var v;e.each(r,function(e){if(v=c.attr("data-"+e),"undefined"!=typeof v){switch(v){case"true":v=!0;break;case"false":v=!1}r[e]=v}}),r.duration=r.speed||r.duration,n="up"==r.direction||"down"==r.direction,r.gap=r.duplicated?r.gap:0,c.wrapInner('<div class="js-marquee"></div>');var g=c.find(".js-marquee").css({"margin-right":r.gap,"float":"left"});if(r.duplicated&&g.clone(!0).appendTo(c),c.wrapInner('<div style="width:100000px" class="js-marquee-wrapper"></div>'),a=c.find(".js-marquee-wrapper"),n){var $=c.height();a.removeAttr("style"),c.height($),c.find(".js-marquee").css({"float":"none","margin-bottom":r.gap,"margin-right":0}),r.duplicated&&c.find(".js-marquee:last").css({"margin-bottom":0});var b=c.find(".js-marquee:first").height()+r.gap;r.duration=(parseInt(b,10)+parseInt($,10))/parseInt($,10)*r.duration}else s=c.find(".js-marquee:first").width()+r.gap,o=c.width(),r.duration=(parseInt(s,10)+parseInt(o,10))/parseInt(o,10)*r.duration;if(r.duplicated&&(r.duration=r.duration/2),r.allowCss3Support){var _=document.body||document.createElement("div"),C="marqueeAnimation-"+Math.floor(1e7*Math.random()),y="Webkit Moz O ms Khtml".split(" "),S="animation",k="",x="";if(_.style.animation&&(x="@keyframes "+C+" ",d=!0),d===!1)for(var T=0;T<y.length;T++)if(void 0!==_.style[y[T]+"AnimationName"]){var w="-"+y[T].toLowerCase()+"-";S=w+S,u=w+u,x="@"+w+"keyframes "+C+" ",d=!0;break}d&&(k=C+" "+r.duration/1e3+"s "+r.delayBeforeStart/1e3+"s infinite "+r.css3easing,c.data("css3AnimationIsSupported",!0))}var M=function(){a.css("margin-top","up"==r.direction?$+"px":"-"+b+"px")},O=function(){a.css("margin-left","left"==r.direction?o+"px":"-"+s+"px")};r.duplicated?(n?a.css("margin-top","up"==r.direction?$:"-"+(2*b-r.gap)+"px"):a.css("margin-left","left"==r.direction?o+"px":"-"+(2*s-r.gap)+"px"),l=1):n?M():O();var N=function(){if(r.duplicated&&(1===l?(r._originalDuration=r.duration,r.duration=n?"up"==r.direction?r.duration+$/(b/r.duration):2*r.duration:"left"==r.direction?r.duration+o/(s/r.duration):2*r.duration,k&&(k=C+" "+r.duration/1e3+"s "+r.delayBeforeStart/1e3+"s "+r.css3easing),l++):2===l&&(r.duration=r._originalDuration,k&&(C+="0",x=e.trim(x)+"0 ",k=C+" "+r.duration/1e3+"s 0s infinite "+r.css3easing),l++)),n?r.duplicated?(l>2&&a.css("margin-top","up"==r.direction?0:"-"+b+"px"),i={"margin-top":"up"==r.direction?"-"+b+"px":0}):(M(),i={"margin-top":"up"==r.direction?"-"+a.height()+"px":$+"px"}):r.duplicated?(l>2&&a.css("margin-left","left"==r.direction?0:"-"+s+"px"),i={"margin-left":"left"==r.direction?"-"+s+"px":0}):(O(),i={"margin-left":"left"==r.direction?"-"+s+"px":o+"px"}),c.trigger("beforeStarting"),d){a.css(S,k);var t=x+" { 100%  "+h(i)+"}",u=e("style");0!==u.length?u.filter(":last").append(t):e("head").append("<style>"+t+"</style>"),p(a[0],"AnimationIteration",function(){c.trigger("finished")}),p(a[0],"AnimationEnd",function(){N(),c.trigger("finished")})}else a.animate(i,r.duration,r.easing,function(){c.trigger("finished"),r.pauseOnCycle?m():N()});c.data("runningStatus","resumed")};c.bind("pause",f.pause),c.bind("resume",f.resume),r.pauseOnHover&&c.bind("mouseenter mouseleave",f.toggle),d&&r.allowCss3Support?N():m()})},e.fn.marquee.defaults={allowCss3Support:!0,css3easing:"linear",easing:"linear",delayBeforeStart:1e3,direction:"left",duplicated:!1,duration:5e3,gap:20,pauseOnCycle:!1,pauseOnHover:!1}}(jQuery),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var a=e.data(this[0],"validator");return a?a:(this.attr("novalidate","novalidate"),a=new e.validator(t,this[0]),e.data(this[0],"validator",a),a.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){a.settings.submitHandler&&(a.submitButton=t.target),e(t.target).hasClass("cancel")&&(a.cancelSubmit=!0),void 0!==e(t.target).attr("formnovalidate")&&(a.cancelSubmit=!0)}),this.submit(function(t){function o(){var o;return a.settings.submitHandler?(a.submitButton&&(o=e("<input type='hidden'/>").attr("name",a.submitButton.name).val(e(a.submitButton).val()).appendTo(a.currentForm)),a.settings.submitHandler.call(a,a.currentForm,t),a.submitButton&&o.remove(),!1):!0}return a.settings.debug&&t.preventDefault(),a.cancelSubmit?(a.cancelSubmit=!1,o()):a.form()?a.pendingRequest?(a.formSubmitted=!0,!1):o():(a.focusInvalid(),!1)})),a)},valid:function(){var t,a;return e(this[0]).is("form")?t=this.validate().form():(t=!0,a=e(this[0].form).validate(),this.each(function(){t=a.element(this)&&t})),t},removeAttrs:function(t){var a={},o=this;return e.each(t.split(/\s/),function(e,t){a[t]=o.attr(t),o.removeAttr(t)}),a},rules:function(t,a){var o,i,n,s,r,c,l=this[0];if(t)switch(o=e.data(l.form,"validator").settings,i=o.rules,n=e.validator.staticRules(l),t){case"add":e.extend(n,e.validator.normalizeRule(a)),delete n.messages,i[l.name]=n,a.messages&&(o.messages[l.name]=e.extend(o.messages[l.name],a.messages));break;case"remove":return a?(c={},e.each(a.split(/\s/),function(t,a){c[a]=n[a],delete n[a],"required"===a&&e(l).removeAttr("aria-required")}),c):(delete i[l.name],n)}return s=e.validator.normalizeRules(e.extend({},e.validator.classRules(l),e.validator.attributeRules(l),e.validator.dataRules(l),e.validator.staticRules(l)),l),s.required&&(r=s.required,delete s.required,s=e.extend({required:r},s),e(l).attr("aria-required","true")),s.remote&&(r=s.remote,delete s.remote,s=e.extend(s,{remote:r})),s}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,a){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=a,this.init()},e.validator.format=function(t,a){return 1===arguments.length?function(){var a=e.makeArray(arguments);return a.unshift(t),e.validator.format.apply(this,a)}:(arguments.length>2&&a.constructor!==Array&&(a=e.makeArray(arguments).slice(1)),a.constructor!==Array&&(a=[a]),e.each(a,function(e,a){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return a})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){(9!==t.which||""!==this.elementValue(e))&&(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,a,o){"radio"===t.type?this.findByName(t.name).addClass(a).removeClass(o):e(t).addClass(a).removeClass(o)},unhighlight:function(t,a,o){"radio"===t.type?this.findByName(t.name).removeClass(a).addClass(o):e(t).removeClass(a).addClass(o)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var a=e.data(this[0].form,"validator"),o="on"+t.type.replace(/^validate/,""),i=a.settings;i[o]&&!this.is(i.ignore)&&i[o].call(a,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var a,o=this.groups={};e.each(this.settings.groups,function(t,a){"string"==typeof a&&(a=a.split(/\s/)),e.each(a,function(e,a){o[a]=t})}),a=this.settings.rules,e.each(a,function(t,o){a[t]=e.validator.normalizeRule(o)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",t).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",t),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var a=this.clean(t),o=this.validationTargetFor(a),i=!0;return this.lastElement=o,void 0===o?delete this.invalid[a.name]:(this.prepareElement(o),this.currentElements=e(o),i=this.check(o)!==!1,i?delete this.invalid[o.name]:this.invalid[o.name]=!0),e(t).attr("aria-invalid",!i),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var a in t)this.errorList.push({message:t[a],element:this.findByName(a)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,a=0;for(t in e)a++;return a},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,a={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in a||!t.objectLength(e(this).rules())?!1:(a[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var a,o=e(t),i=t.type;return"radio"===i||"checkbox"===i?e("input[name='"+t.name+"']:checked").val():"number"===i&&"undefined"!=typeof t.validity?t.validity.badInput?!1:o.val():(a=o.val(),"string"==typeof a?a.replace(/\r/g,""):a)},check:function(t){t=this.validationTargetFor(this.clean(t));var a,o,i,n=e(t).rules(),s=e.map(n,function(e,t){return t}).length,r=!1,c=this.elementValue(t);for(o in n){i={method:o,parameters:n[o]};try{if(a=e.validator.methods[o].call(this,c,t,i.parameters),"dependency-mismatch"===a&&1===s){r=!0;continue}if(r=!1,"pending"===a)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!a)return this.formatAndAdd(t,i),!1}catch(l){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+i.method+"' method.",l),l}}return r?void 0:(this.objectLength(n)&&this.successList.push(t),!0)},customDataMessage:function(t,a){return e(t).data("msg"+a.charAt(0).toUpperCase()+a.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var a=this.settings.messages[e];return a&&(a.constructor===String?a:a[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e];return void 0},defaultMessage:function(t,a){return this.findDefined(this.customMessage(t.name,a),this.customDataMessage(t,a),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[a],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,a){var o=this.defaultMessage(t,a.method),i=/\$?\{(\d+)\}/g;"function"==typeof o?o=o.call(this,a.parameters,t):i.test(o)&&(o=e.validator.format(o.replace(i,"{$1}"),a.parameters)),this.errorList.push({message:o,element:t,method:a.method}),this.errorMap[t.name]=o,this.submitted[t.name]=o
},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,a;for(e=0;this.errorList[e];e++)a=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,a.element,this.settings.errorClass,this.settings.validClass),this.showLabel(a.element,a.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,a){var o,i,n,s=this.errorsFor(t),r=this.idOrName(t),c=e(t).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(a)):(s=e("<"+this.settings.errorElement+">").attr("id",r+"-error").addClass(this.settings.errorClass).html(a||""),o=s,this.settings.wrapper&&(o=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(o):this.settings.errorPlacement?this.settings.errorPlacement(o,e(t)):o.insertAfter(t),s.is("label")?s.attr("for",r):0===s.parents("label[for='"+r+"']").length&&(n=s.attr("id"),c?c.match(new RegExp("\b"+n+"\b"))||(c+=" "+n):c=n,e(t).attr("aria-describedby",c),i=this.groups[t.name],i&&e.each(this.groups,function(t,a){a===i&&e("[name='"+t+"']",this.currentForm).attr("aria-describedby",s.attr("id"))}))),!a&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,t)),this.toShow=this.toShow.add(s)},errorsFor:function(t){var a=this.idOrName(t),o=e(t).attr("aria-describedby"),i="label[for='"+a+"'], label[for='"+a+"'] *";return o&&(i=i+", #"+o.replace(/\s+/g,", #")),this.errors().filter(i)},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,a){switch(a.nodeName.toLowerCase()){case"select":return e("option:selected",a).length;case"input":if(this.checkable(a))return this.findByName(a.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(t,a){return!!e(t,a.form).length},"function":function(e,t){return e(t)}},optional:function(t){var a=this.elementValue(t);return!e.validator.methods.required.call(this,a,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,a){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],a&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!a&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,a){t.constructor===String?this.classRuleSettings[t]=a:e.extend(this.classRuleSettings,t)},classRules:function(t){var a={},o=e(t).attr("class");return o&&e.each(o.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(a,e.validator.classRuleSettings[this])}),a},attributeRules:function(t){var a,o,i={},n=e(t),s=t.getAttribute("type");for(a in e.validator.methods)"required"===a?(o=t.getAttribute(a),""===o&&(o=!0),o=!!o):o=n.attr(a),/min|max/.test(a)&&(null===s||/number|range|text/.test(s))&&(o=Number(o)),o||0===o?i[a]=o:s===a&&"range"!==s&&(i[a]=!0);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(t){var a,o,i={},n=e(t);for(a in e.validator.methods)o=n.data("rule"+a.charAt(0).toUpperCase()+a.substring(1).toLowerCase()),void 0!==o&&(i[a]=o);return i},staticRules:function(t){var a={},o=e.data(t.form,"validator");return o.settings.rules&&(a=e.validator.normalizeRule(o.settings.rules[t.name])||{}),a},normalizeRules:function(t,a){return e.each(t,function(o,i){if(i===!1)return void delete t[o];if(i.param||i.depends){var n=!0;switch(typeof i.depends){case"string":n=!!e(i.depends,a.form).length;break;case"function":n=i.depends.call(a,a)}n?t[o]=void 0!==i.param?i.param:!0:delete t[o]}}),e.each(t,function(o,i){t[o]=e.isFunction(i)?i(a):i}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var a;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(a=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(a[0]),Number(a[1])]))}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var a={};e.each(t.split(/\s/),function(){a[this]=!0}),t=a}return t},addMethod:function(t,a,o){e.validator.methods[t]=a,e.validator.messages[t]=void 0!==o?o:e.validator.messages[t],a.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,a,o){if(!this.depend(o,a))return"dependency-mismatch";if("select"===a.nodeName.toLowerCase()){var i=e(a).val();return i&&i.length>0}return this.checkable(a)?this.getLength(t,a)>0:e.trim(t).length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var a,o,i=0,n=0,s=!1;if(e=e.replace(/\D/g,""),e.length<13||e.length>19)return!1;for(a=e.length-1;a>=0;a--)o=e.charAt(a),n=parseInt(o,10),s&&(n*=2)>9&&(n-=9),i+=n,s=!s;return 0===i%10},minlength:function(t,a,o){var i=e.isArray(t)?t.length:this.getLength(e.trim(t),a);return this.optional(a)||i>=o},maxlength:function(t,a,o){var i=e.isArray(t)?t.length:this.getLength(e.trim(t),a);return this.optional(a)||o>=i},rangelength:function(t,a,o){var i=e.isArray(t)?t.length:this.getLength(e.trim(t),a);return this.optional(a)||i>=o[0]&&i<=o[1]},min:function(e,t,a){return this.optional(t)||e>=a},max:function(e,t,a){return this.optional(t)||a>=e},range:function(e,t,a){return this.optional(t)||e>=a[0]&&e<=a[1]},equalTo:function(t,a,o){var i=e(o);return this.settings.onfocusout&&i.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(a).valid()}),t===i.val()},remote:function(t,a,o){if(this.optional(a))return"dependency-mismatch";var i,n,s=this.previousValue(a);return this.settings.messages[a.name]||(this.settings.messages[a.name]={}),s.originalMessage=this.settings.messages[a.name].remote,this.settings.messages[a.name].remote=s.message,o="string"==typeof o&&{url:o}||o,s.old===t?s.valid:(s.old=t,i=this,this.startRequest(a),n={},n[a.name]=t,e.ajax(e.extend(!0,{url:o,mode:"abort",port:"validate"+a.name,dataType:"json",data:n,context:i.currentForm,success:function(o){var n,r,c,l=o===!0||"true"===o;i.settings.messages[a.name].remote=s.originalMessage,l?(c=i.formSubmitted,i.prepareElement(a),i.formSubmitted=c,i.successList.push(a),delete i.invalid[a.name],i.showErrors()):(n={},r=o||i.defaultMessage(a,"remote"),n[a.name]=s.message=e.isFunction(r)?r(t):r,i.invalid[a.name]=!0,i.showErrors(n)),s.valid=l,i.stopRequest(a,l)}},o)),"pending")}}}),e.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var t,a={};e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,o){var i=e.port;"abort"===e.mode&&(a[i]&&a[i].abort(),a[i]=o)}):(t=e.ajax,e.ajax=function(o){var i=("mode"in o?o:e.ajaxSettings).mode,n=("port"in o?o:e.ajaxSettings).port;return"abort"===i?(a[n]&&a[n].abort(),a[n]=t.apply(this,arguments),a[n]):t.apply(this,arguments)}),e.extend(e.fn,{validateDelegate:function(t,a,o){return this.bind(a,function(a){var i=e(a.target);return i.is(t)?o.apply(i,arguments):void 0})}})}),$.extend($.validator.messages,{required:"Este campo es obligatorio.",remote:"Por favor, rellena este campo.",email:"Por favor, escribe una direccin de correo vlida.",url:"Por favor, escribe una URL vlida.",date:"Por favor, escribe una fecha vlida.",dateISO:"Por favor, escribe una fecha (ISO) vlida.",number:"Por favor, escribe un nmero vlido.",digits:"Por favor, escribe slo dgitos.",creditcard:"Por favor, escribe un nmero de tarjeta vlido.",equalTo:"Por favor, escribe el mismo valor de nuevo.",extension:"Por favor, escribe un valor con una extensin aceptada.",maxlength:$.validator.format("Por favor, no escribas ms de {0} caracteres."),minlength:$.validator.format("Por favor, no escribas menos de {0} caracteres."),rangelength:$.validator.format("Por favor, escribe un valor entre {0} y {1} caracteres."),range:$.validator.format("Por favor, escribe un valor entre {0} y {1}."),max:$.validator.format("Por favor, escribe un valor menor o igual a {0}."),min:$.validator.format("Por favor, escribe un valor mayor o igual a {0}."),nifES:"Por favor, escribe un NIF vlido.",nieES:"Por favor, escribe un NIE vlido.",cifES:"Por favor, escribe un CIF vlido."}),function(){"use strict";var e=this,t=e.Chart,a=function(e){return this.canvas=e.canvas,this.ctx=e,this.width=e.canvas.width,this.height=e.canvas.height,this.aspectRatio=this.width/this.height,o.retinaScale(this),this};a.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},a.types={};var o=a.helpers={},i=o.each=function(e,t,a){var o=Array.prototype.slice.call(arguments,3);if(e)if(e.length===+e.length){var i;for(i=0;i<e.length;i++)t.apply(a,[e[i],i].concat(o))}else for(var n in e)t.apply(a,[e[n],n].concat(o))},n=o.clone=function(e){var t={};return i(e,function(a,o){e.hasOwnProperty(o)&&(t[o]=a)}),t},s=o.extend=function(e){return i(Array.prototype.slice.call(arguments,1),function(t){i(t,function(a,o){t.hasOwnProperty(o)&&(e[o]=a)})}),e},r=o.merge=function(){var e=Array.prototype.slice.call(arguments,0);return e.unshift({}),s.apply(null,e)},c=o.indexOf=function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var a=0;a<e.length;a++)if(e[a]===t)return a;return-1},l=o.inherits=function(e){var t=this,a=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},o=function(){this.constructor=a};return o.prototype=t.prototype,a.prototype=new o,a.extend=l,e&&s(a.prototype,e),a.__super__=t.prototype,a},u=o.noop=function(){},d=o.uid=function(){var e=0;return function(){return"chart-"+e++}}(),p=o.warn=function(e){window.console&&"function"==typeof window.console.warn&&console.warn(e)},h=o.amd="function"==typeof e.define&&e.define.amd,m=o.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},f=o.max=function(e){return Math.max.apply(Math,e)},v=o.min=function(e){return Math.min.apply(Math,e)},g=(o.cap=function(e,t,a){if(m(t)){if(e>t)return t}else if(m(a)&&a>e)return a;return e},o.getDecimalPlaces=function(e){return 0!==e%1&&m(e)?e.toString().split(".")[1].length:0}),$=o.radians=function(e){return e*(Math.PI/180)},b=(o.getAngleFromPoint=function(e,t){var a=t.x-e.x,o=t.y-e.y,i=Math.sqrt(a*a+o*o),n=2*Math.PI+Math.atan2(o,a);return 0>a&&0>o&&(n+=2*Math.PI),{angle:n,distance:i}},o.aliasPixel=function(e){return 0===e%2?0:.5}),_=(o.splineCurve=function(e,t,a,o){var i=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),n=Math.sqrt(Math.pow(a.x-t.x,2)+Math.pow(a.y-t.y,2)),s=o*i/(i+n),r=o*n/(i+n);return{inner:{x:t.x-s*(a.x-e.x),y:t.y-s*(a.y-e.y)},outer:{x:t.x+r*(a.x-e.x),y:t.y+r*(a.y-e.y)}}},o.calculateOrderOfMagnitude=function(e){return Math.floor(Math.log(e)/Math.LN10)}),C=(o.calculateScaleRange=function(e,t,a,o,i){var n=2,s=Math.floor(t/(1.5*a)),r=n>=s,c=f(e),l=v(e);c===l&&(c+=.5,l>=.5&&!o?l-=.5:c+=.5);for(var u=Math.abs(c-l),d=_(u),p=Math.ceil(c/(1*Math.pow(10,d)))*Math.pow(10,d),h=o?0:Math.floor(l/(1*Math.pow(10,d)))*Math.pow(10,d),m=p-h,g=Math.pow(10,d),$=Math.round(m/g);($>s||s>2*$)&&!r;)if($>s)g*=2,$=Math.round(m/g),0!==$%1&&(r=!0);else if(i&&d>=0){if(0!==g/2%1)break;g/=2,$=Math.round(m/g)}else g/=2,$=Math.round(m/g);return r&&($=n,g=m/$),{steps:$,stepValue:g,min:h,max:h+$*g}},o.template=function(e,t){function a(e,t){var a=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):o[e]=o[e];return t?a(t):a}if(e instanceof Function)return e(t);var o={};return a(e,t)}),y=(o.generateLabels=function(e,t,a,o){var n=new Array(t);return labelTemplateString&&i(n,function(t,i){n[i]=C(e,{value:a+o*(i+1)})}),n},o.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(-Math.pow(2,-10*e/1)+1)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,a=0,o=1;return 0===e?0:1==(e/=1)?1:(a||(a=.3),o<Math.abs(1)?(o=1,t=a/4):t=a/(2*Math.PI)*Math.asin(1/o),-(o*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/a)))},easeOutElastic:function(e){var t=1.70158,a=0,o=1;return 0===e?0:1==(e/=1)?1:(a||(a=.3),o<Math.abs(1)?(o=1,t=a/4):t=a/(2*Math.PI)*Math.asin(1/o),o*Math.pow(2,-10*e)*Math.sin(2*(1*e-t)*Math.PI/a)+1)},easeInOutElastic:function(e){var t=1.70158,a=0,o=1;return 0===e?0:2==(e/=.5)?1:(a||(a=.3*1.5),o<Math.abs(1)?(o=1,t=a/4):t=a/(2*Math.PI)*Math.asin(1/o),1>e?-.5*o*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/a):.5*o*Math.pow(2,-10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/a)+1)},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:function(e){return 1-y.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e:2/2.75>e?1*(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return.5>e?.5*y.easeInBounce(2*e):.5*y.easeOutBounce(2*e-1)+.5}}),S=o.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),k=(o.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e,1e3/60)}}(),o.animationLoop=function(e,t,a,o,i,n){var s=0,r=y[a]||y.linear,c=function(){s++;var a=s/t,l=r(a);e.call(n,l,a,s),o.call(n,l,a),t>s?n.animationFrame=S(c):i.apply(n)};S(c)},o.getRelativePosition=function(e){var t,a,o=e.originalEvent||e,i=e.currentTarget||e.srcElement,n=i.getBoundingClientRect();return o.touches?(t=o.touches[0].clientX-n.left,a=o.touches[0].clientY-n.top):(t=o.clientX-n.left,a=o.clientY-n.top),{x:t,y:a}},o.addEvent=function(e,t,a){e.addEventListener?e.addEventListener(t,a):e.attachEvent?e.attachEvent("on"+t,a):e["on"+t]=a}),x=o.removeEvent=function(e,t,a){e.removeEventListener?e.removeEventListener(t,a,!1):e.detachEvent?e.detachEvent("on"+t,a):e["on"+t]=u},T=(o.bindEvents=function(e,t,a){e.events||(e.events={}),i(t,function(t){e.events[t]=function(){a.apply(e,arguments)},k(e.chart.canvas,t,e.events[t])})},o.unbindEvents=function(e,t){i(t,function(t,a){x(e.chart.canvas,a,t)})}),w=o.getMaximumWidth=function(e){var t=e.parentNode;return t.clientWidth},M=o.getMaximumHeight=function(e){var t=e.parentNode;return t.clientHeight},O=(o.getMaximumSize=o.getMaximumWidth,o.retinaScale=function(e){var t=e.ctx,a=e.canvas.width,o=e.canvas.height;window.devicePixelRatio&&(t.canvas.style.width=a+"px",t.canvas.style.height=o+"px",t.canvas.height=o*window.devicePixelRatio,t.canvas.width=a*window.devicePixelRatio,t.scale(window.devicePixelRatio,window.devicePixelRatio))}),N=o.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},D=o.fontString=function(e,t,a){return t+" "+e+"px "+a},J=o.longestText=function(e,t,a){e.font=t;var o=0;return i(a,function(t){var a=e.measureText(t).width;o=a>o?a:o}),o},A=o.drawRoundedRectangle=function(e,t,a,o,i,n){e.beginPath(),e.moveTo(t+n,a),e.lineTo(t+o-n,a),e.quadraticCurveTo(t+o,a,t+o,a+n),e.lineTo(t+o,a+i-n),e.quadraticCurveTo(t+o,a+i,t+o-n,a+i),e.lineTo(t+n,a+i),e.quadraticCurveTo(t,a+i,t,a+i-n),e.lineTo(t,a+n),e.quadraticCurveTo(t,a,t+n,a),e.closePath()};a.instances={},a.Type=function(e,t,o){this.options=t,this.chart=o,this.id=d(),a.instances[this.id]=this,t.responsive&&this.resize(),this.initialize.call(this,e)},s(a.Type.prototype,{initialize:function(){return this},clear:function(){return N(this.chart),this},stop:function(){return o.cancelAnimFrame.call(e,this.animationFrame),this},resize:function(e){this.stop();var t=this.chart.canvas,a=w(this.chart.canvas),o=this.options.maintainAspectRatio?a/this.chart.aspectRatio:M(this.chart.canvas);return t.width=this.chart.width=a,t.height=this.chart.height=o,O(this.chart),"function"==typeof e&&e.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:u,render:function(e){return e&&this.reflow(),this.options.animation&&!e?o.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return C(this.options.legendTemplate,this)},destroy:function(){this.clear(),T(this,this.events),delete a.instances[this.id]},showTooltip:function(e,t){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var n=function(e){var t=!1;return e.length!==this.activeElements.length?t=!0:(i(e,function(e,a){e!==this.activeElements[a]&&(t=!0)},this),t)}.call(this,e);if(n||t){if(this.activeElements=e,this.draw(),e.length>0)if(this.datasets&&this.datasets.length>1){for(var s,r,l=this.datasets.length-1;l>=0&&(s=this.datasets[l].points||this.datasets[l].bars||this.datasets[l].segments,r=c(s,e[0]),-1===r);l--);var u=[],d=[],p=function(){var e,t,a,i,n,s=[],c=[],l=[];return o.each(this.datasets,function(t){e=t.points||t.bars||t.segments,e[r]&&s.push(e[r])}),o.each(s,function(e){c.push(e.x),l.push(e.y),u.push(o.template(this.options.multiTooltipTemplate,e)),d.push({fill:e._saved.fillColor||e.fillColor,stroke:e._saved.strokeColor||e.strokeColor})},this),n=v(l),a=f(l),i=v(c),t=f(c),{x:i>this.chart.width/2?i:t,y:(n+a)/2}}.call(this,r);new a.MultiTooltip({x:p.x,y:p.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:u,legendColors:d,legendColorBackground:this.options.multiTooltipKeyBackground,title:e[0].label,chart:this.chart,ctx:this.chart.ctx}).draw()}else i(e,function(e){var t=e.tooltipPosition();new a.Tooltip({x:Math.round(t.x),y:Math.round(t.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:C(this.options.tooltipTemplate,e),chart:this.chart}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),a.Type.extend=function(e){var t=this,o=function(){return t.apply(this,arguments)};if(o.prototype=n(t.prototype),s(o.prototype,e),o.extend=a.Type.extend,e.name||t.prototype.name){var i=e.name||t.prototype.name,c=a.defaults[t.prototype.name]?n(a.defaults[t.prototype.name]):{};a.defaults[i]=s(c,e.defaults),a.types[i]=o,a.prototype[i]=function(e,t){var n=r(a.defaults.global,a.defaults[i],t||{});return new o(e,n,this)}}else p("Name not provided for this chart, so it hasn't been registered");return t},a.Element=function(e){s(this,e),this.initialize.apply(this,arguments),this.save()},s(a.Element.prototype,{initialize:function(){},restore:function(e){return e?i(e,function(e){this[e]=this._saved[e]},this):s(this,this._saved),this},save:function(){return this._saved=n(this),delete this._saved._saved,this},update:function(e){return i(e,function(e,t){this._saved[t]=this[t],this[t]=e},this),this},transition:function(e,t){return i(e,function(e,a){this[a]=(e-this._saved[a])*t+this._saved[a]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}}}),a.Element.extend=l,a.Point=a.Element.extend({display:!0,inRange:function(e,t){var a=this.hitDetectionRadius+this.radius;return Math.pow(e-this.x,2)+Math.pow(t-this.y,2)<Math.pow(a,2)},draw:function(){if(this.display){var e=this.ctx;e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI),e.closePath(),e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.fillStyle=this.fillColor,e.fill(),e.stroke()}}}),a.Arc=a.Element.extend({inRange:function(e,t){var a=o.getAngleFromPoint(this,{x:e,y:t}),i=a.angle>=this.startAngle&&a.angle<=this.endAngle,n=a.distance>=this.innerRadius&&a.distance<=this.outerRadius;return i&&n},tooltipPosition:function(){var e=this.startAngle+(this.endAngle-this.startAngle)/2,t=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(e)*t,y:this.y+Math.sin(e)*t}},draw:function(){var e=this.ctx;e.beginPath(),e.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),e.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),e.closePath(),e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.fillStyle=this.fillColor,e.fill(),e.lineJoin="bevel",this.showStroke&&e.stroke()}}),a.Rectangle=a.Element.extend({draw:function(){var e=this.ctx,t=this.width/2,a=this.x-t,o=this.x+t,i=this.base-(this.base-this.y),n=this.strokeWidth/2;this.showStroke&&(a+=n,o-=n,i+=n),e.beginPath(),e.fillStyle=this.fillColor,e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.moveTo(a,this.base),e.lineTo(a,i),e.lineTo(o,i),e.lineTo(o,this.base),e.fill(),this.showStroke&&e.stroke()},height:function(){return this.base-this.y},inRange:function(e,t){return e>=this.x-this.width/2&&e<=this.x+this.width/2&&t>=this.y&&t<=this.base}}),a.Tooltip=a.Element.extend({draw:function(){var e=this.chart.ctx;e.font=D(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var t=2,a=e.measureText(this.text).width+2*this.xPadding,o=this.fontSize+2*this.yPadding,i=o+this.caretHeight+t;this.x+a/2>this.chart.width?this.xAlign="left":this.x-a/2<0&&(this.xAlign="right"),this.y-i<0&&(this.yAlign="below");var n=this.x-a/2,s=this.y-i;switch(e.fillStyle=this.fillColor,this.yAlign){case"above":e.beginPath(),e.moveTo(this.x,this.y-t),e.lineTo(this.x+this.caretHeight,this.y-(t+this.caretHeight)),e.lineTo(this.x-this.caretHeight,this.y-(t+this.caretHeight)),e.closePath(),e.fill();break;case"below":s=this.y+t+this.caretHeight,e.beginPath(),e.moveTo(this.x,this.y+t),e.lineTo(this.x+this.caretHeight,this.y+t+this.caretHeight),e.lineTo(this.x-this.caretHeight,this.y+t+this.caretHeight),e.closePath(),e.fill()}switch(this.xAlign){case"left":n=this.x-a+(this.cornerRadius+this.caretHeight);break;case"right":n=this.x-(this.cornerRadius+this.caretHeight)}A(e,n,s,a,o,this.cornerRadius),e.fill(),e.fillStyle=this.textColor,e.textAlign="center",e.textBaseline="middle",e.fillText(this.text,n+a/2,s+o/2)}}),a.MultiTooltip=a.Element.extend({initialize:function(){this.font=D(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=D(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var e=this.ctx.measureText(this.title).width,t=J(this.ctx,this.font,this.labels)+this.fontSize+3,a=f([t,e]);this.width=a+2*this.xPadding;var o=this.height/2;this.y-o<0?this.y=o:this.y+o>this.chart.height&&(this.y=this.chart.height-o),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(e){var t=this.y-this.height/2+this.yPadding,a=e-1;return 0===e?t+this.titleFontSize/2:t+(1.5*this.fontSize*a+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){A(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var e=this.ctx;e.fillStyle=this.fillColor,e.fill(),e.closePath(),e.textAlign="left",e.textBaseline="middle",e.fillStyle=this.titleTextColor,e.font=this.titleFont,e.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),e.font=this.font,o.each(this.labels,function(t,a){e.fillStyle=this.textColor,e.fillText(t,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(a+1)),e.fillStyle=this.legendColorBackground,e.fillRect(this.x+this.xPadding,this.getLineHeight(a+1)-this.fontSize/2,this.fontSize,this.fontSize),e.fillStyle=this.legendColors[a].fill,e.fillRect(this.x+this.xPadding,this.getLineHeight(a+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}),a.Scale=a.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var e=g(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(C(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}));this.yLabelWidth=this.display&&this.showLabels?J(this.ctx,this.font,this.yLabels):0},addXLabel:function(e){this.xLabels.push(e),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var e,t=this.endPoint-this.startPoint;for(this.calculateYRange(t),this.buildYLabels(),this.calculateXLabelRotation();t>this.endPoint-this.startPoint;)t=this.endPoint-this.startPoint,e=this.yLabelWidth,this.calculateYRange(t),this.buildYLabels(),e<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var e,t,a=this.ctx.measureText(this.xLabels[0]).width,o=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=o/2+3,this.xScalePaddingLeft=a/2>this.yLabelWidth+10?a/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var i,n=J(this.ctx,this.font,this.xLabels);this.xLabelWidth=n;for(var s=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>s&&0===this.xLabelRotation||this.xLabelWidth>s&&this.xLabelRotation<=90&&this.xLabelRotation>0;)i=Math.cos($(this.xLabelRotation)),e=i*a,t=i*o,e+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=e+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=i*n;
this.xLabelRotation>0&&(this.endPoint-=Math.sin($(this.xLabelRotation))*n+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:u,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(e){var t=this.drawingArea()/(this.min-this.max);return this.endPoint-t*(e-this.min)},calculateX:function(e){var t=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),a=t/(this.valuesCount-(this.offsetGridLines?0:1)),o=a*e+this.xScalePaddingLeft;return this.offsetGridLines&&(o+=a/2),Math.round(o)},update:function(e){o.extend(this,e),this.fit()},draw:function(){var e=this.ctx,t=(this.endPoint-this.startPoint)/this.steps,a=Math.round(this.xScalePaddingLeft);this.display&&(e.fillStyle=this.textColor,e.font=this.font,i(this.yLabels,function(i,n){var s=this.endPoint-t*n,r=Math.round(s);e.textAlign="right",e.textBaseline="middle",this.showLabels&&e.fillText(i,a-10,s),e.beginPath(),n>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),r+=o.aliasPixel(e.lineWidth),e.moveTo(a,r),e.lineTo(this.width,r),e.stroke(),e.closePath(),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(a-5,r),e.lineTo(a,r),e.stroke(),e.closePath()},this),i(this.xLabels,function(t,a){var o=this.calculateX(a)+b(this.lineWidth),i=this.calculateX(a-(this.offsetGridLines?.5:0))+b(this.lineWidth),n=this.xLabelRotation>0;e.beginPath(),a>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),e.moveTo(i,this.endPoint),e.lineTo(i,this.startPoint-3),e.stroke(),e.closePath(),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(i,this.endPoint),e.lineTo(i,this.endPoint+5),e.stroke(),e.closePath(),e.save(),e.translate(o,n?this.endPoint+12:this.endPoint+8),e.rotate(-1*$(this.xLabelRotation)),e.font=this.font,e.textAlign=n?"right":"center",e.textBaseline=n?"middle":"top",e.fillText(t,0,0),e.restore()},this))}}),a.RadialScale=a.Element.extend({initialize:function(){this.size=v([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(e){var t=this.drawingArea/(this.max-this.min);return(e-this.min)*t},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var e=g(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(C(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var e,t,a,o,i,n,s,r,c,l,u,d,p=v([this.height/2-this.pointLabelFontSize-5,this.width/2]),h=this.width,f=0;for(this.ctx.font=D(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t=0;t<this.valuesCount;t++)e=this.getPointPosition(t,p),a=this.ctx.measureText(C(this.templateString,{value:this.labels[t]})).width+5,0===t||t===this.valuesCount/2?(o=a/2,e.x+o>h&&(h=e.x+o,i=t),e.x-o<f&&(f=e.x-o,s=t)):t<this.valuesCount/2?e.x+a>h&&(h=e.x+a,i=t):t>this.valuesCount/2&&e.x-a<f&&(f=e.x-a,s=t);c=f,l=Math.ceil(h-this.width),n=this.getIndexAngle(i),r=this.getIndexAngle(s),u=l/Math.sin(n+Math.PI/2),d=c/Math.sin(r+Math.PI/2),u=m(u)?u:0,d=m(d)?d:0,this.drawingArea=p-(d+u)/2,this.setCenterPoint(d,u)},setCenterPoint:function(e,t){var a=this.width-t-this.drawingArea,o=e+this.drawingArea;this.xCenter=(o+a)/2,this.yCenter=this.height/2},getIndexAngle:function(e){var t=2*Math.PI/this.valuesCount;return e*t-Math.PI/2},getPointPosition:function(e,t){var a=this.getIndexAngle(e);return{x:Math.cos(a)*t+this.xCenter,y:Math.sin(a)*t+this.yCenter}},draw:function(){if(this.display){var e=this.ctx;if(i(this.yLabels,function(t,a){if(a>0){var o,i=a*(this.drawingArea/this.steps),n=this.yCenter-i;if(this.lineWidth>0)if(e.strokeStyle=this.lineColor,e.lineWidth=this.lineWidth,this.lineArc)e.beginPath(),e.arc(this.xCenter,this.yCenter,i,0,2*Math.PI),e.closePath(),e.stroke();else{e.beginPath();for(var s=0;s<this.valuesCount;s++)o=this.getPointPosition(s,this.calculateCenterOffset(this.min+a*this.stepValue)),0===s?e.moveTo(o.x,o.y):e.lineTo(o.x,o.y);e.closePath(),e.stroke()}if(this.showLabels){if(e.font=D(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var r=e.measureText(t).width;e.fillStyle=this.backdropColor,e.fillRect(this.xCenter-r/2-this.backdropPaddingX,n-this.fontSize/2-this.backdropPaddingY,r+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.fontColor,e.fillText(t,this.xCenter,n)}}},this),!this.lineArc){e.lineWidth=this.angleLineWidth,e.strokeStyle=this.angleLineColor;for(var t=this.valuesCount-1;t>=0;t--){if(this.angleLineWidth>0){var a=this.getPointPosition(t,this.calculateCenterOffset(this.max));e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(a.x,a.y),e.stroke(),e.closePath()}var o=this.getPointPosition(t,this.calculateCenterOffset(this.max)+5);e.font=D(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),e.fillStyle=this.pointLabelFontColor;var n=this.labels.length,s=this.labels.length/2,r=s/2,c=r>t||t>n-r,l=t===r||t===n-r;e.textAlign=0===t?"center":t===s?"center":s>t?"left":"right",e.textBaseline=l?"middle":c?"bottom":"top",e.fillText(this.labels[t],o.x,o.y)}}}}}),o.addEvent(window,"resize",function(){var e;return function(){clearTimeout(e),e=setTimeout(function(){i(a.instances,function(e){e.options.responsive&&e.resize(e.render,!0)})},50)}}()),h?define(function(){return a}):"object"==typeof module&&module.exports&&(module.exports=a),e.Chart=a,a.noConflict=function(){return e.Chart=t,a}}.call(this),function(){"use strict";var e=this,t=e.Chart,a=t.helpers,o={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Bar",defaults:o,initialize:function(e){var o=this.options;this.ScaleClass=t.Scale.extend({offsetGridLines:!0,calculateBarX:function(e,t,a){var i=this.calculateBaseWidth(),n=this.calculateX(a)-i/2,s=this.calculateBarWidth(e);return n+s*t+t*o.barDatasetSpacing+s/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*o.barValueSpacing},calculateBarWidth:function(e){var t=this.calculateBaseWidth()-(e-1)*o.barDatasetSpacing;return t/e}}),this.datasets=[],this.options.showTooltips&&a.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getBarsAtEvent(e):[];this.eachBars(function(e){e.restore(["fillColor","strokeColor"])}),a.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),this.BarClass=t.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),a.each(e.datasets,function(t){var o={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,bars:[]};this.datasets.push(o),a.each(t.data,function(i,n){a.isNumber(i)&&o.bars.push(new this.BarClass({value:i,label:e.labels[n],datasetLabel:t.label,strokeColor:t.strokeColor,fillColor:t.fillColor,highlightFill:t.highlightFill||t.fillColor,highlightStroke:t.highlightStroke||t.strokeColor}))},this)},this),this.buildScale(e.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(e,t,o){a.extend(e,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,o,t),y:this.scale.endPoint}),e.save()},this),this.render()},update:function(){this.scale.update(),a.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachBars(function(e){e.save()}),this.render()},eachBars:function(e){a.each(this.datasets,function(t,o){a.each(t.bars,e,this,o)},this)},getBarsAtEvent:function(e){for(var t,o=[],i=a.getRelativePosition(e),n=function(e){o.push(e.bars[t])},s=0;s<this.datasets.length;s++)for(t=0;t<this.datasets[s].bars.length;t++)if(this.datasets[s].bars[t].inRange(i.x,i.y))return a.each(this.datasets,n),o;return o},buildScale:function(e){var t=this,o=function(){var e=[];return t.eachBars(function(t){e.push(t.value)}),e},i={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t=a.calculateScaleRange(o(),e,this.fontSize,this.beginAtZero,this.integersOnly);a.extend(this,t)},xLabels:e,font:a.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&a.extend(i,{calculateYRange:a.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(i)},addData:function(e,t){a.each(e,function(e,o){a.isNumber(e)&&this.datasets[o].bars.push(new this.BarClass({value:e,label:t,x:this.scale.calculateBarX(this.datasets.length,o,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[o].strokeColor,fillColor:this.datasets[o].fillColor}))},this),this.scale.addXLabel(t),this.update()},removeData:function(){this.scale.removeXLabel(),a.each(this.datasets,function(e){e.bars.shift()},this),this.update()},reflow:function(){a.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var e=a.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var t=e||1;this.clear(),this.chart.ctx,this.scale.draw(t),a.each(this.datasets,function(e,o){a.each(e.bars,function(e,a){e.base=this.scale.endPoint,e.transition({x:this.scale.calculateBarX(this.datasets.length,o,a),y:this.scale.calculateY(e.value),width:this.scale.calculateBarWidth(this.datasets.length)},t).draw()},this)},this)}})}.call(this),function(){"use strict";var e=this,t=e.Chart,a=t.helpers,o={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Doughnut",defaults:o,initialize:function(e){this.segments=[],this.outerRadius=(a.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=t.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&a.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];a.each(this.segments,function(e){e.restore(["fillColor"])}),a.each(t,function(e){e.fillColor=e.highlightColor}),this.showTooltip(t)}),this.calculateTotal(e),a.each(e,function(e,t){this.addData(e,t,!0)},this),this.render()},getSegmentsAtEvent:function(e){var t=[],o=a.getRelativePosition(e);return a.each(this.segments,function(e){e.inRange(o.x,o.y)&&t.push(e)},this),t},addData:function(e,t,a){var o=t||this.segments.length;this.segments.splice(o,0,new this.SegmentArc({value:e.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:e.color,highlightColor:e.highlight||e.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(e.value),label:e.label})),a||(this.reflow(),this.update())},calculateCircumference:function(e){return 2*Math.PI*(e/this.total)},calculateTotal:function(e){this.total=0,a.each(e,function(e){this.total+=e.value},this)},update:function(){this.calculateTotal(this.segments),a.each(this.activeElements,function(e){e.restore(["fillColor"])}),a.each(this.segments,function(e){e.save()}),this.render()},removeData:function(e){var t=a.isNumber(e)?e:this.segments.length-1;this.segments.splice(t,1),this.reflow(),this.update()},reflow:function(){a.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(a.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,a.each(this.segments,function(e){e.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(e){var t=e?e:1;this.clear(),a.each(this.segments,function(e,a){e.transition({circumference:this.calculateCircumference(e.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},t),e.endAngle=e.startAngle+e.circumference,e.draw(),0===a&&(e.startAngle=1.5*Math.PI),a<this.segments.length-1&&(this.segments[a+1].startAngle=e.endAngle)},this)}}),t.types.Doughnut.extend({name:"Pie",defaults:a.merge(o,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var e=this,t=e.Chart,a=t.helpers,o={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Line",defaults:o,initialize:function(e){this.PointClass=t.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(e){return Math.pow(e-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&a.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),a.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),a.each(e.datasets,function(t){var o={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,points:[]};this.datasets.push(o),a.each(t.data,function(i,n){a.isNumber(i)&&o.points.push(new this.PointClass({value:i,label:e.labels[n],datasetLabel:t.label,strokeColor:t.pointStrokeColor,fillColor:t.pointColor,highlightFill:t.pointHighlightFill||t.pointColor,highlightStroke:t.pointHighlightStroke||t.pointStrokeColor}))},this),this.buildScale(e.labels),this.eachPoints(function(e,t){a.extend(e,{x:this.scale.calculateX(t),y:this.scale.endPoint}),e.save()},this)},this),this.render()},update:function(){this.scale.update(),a.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachPoints(function(e){e.save()}),this.render()},eachPoints:function(e){a.each(this.datasets,function(t){a.each(t.points,e,this)},this)},getPointsAtEvent:function(e){var t=[],o=a.getRelativePosition(e);return a.each(this.datasets,function(e){a.each(e.points,function(e){e.inRange(o.x,o.y)&&t.push(e)})},this),t},buildScale:function(e){var o=this,i=function(){var e=[];return o.eachPoints(function(t){e.push(t.value)}),e},n={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t=a.calculateScaleRange(i(),e,this.fontSize,this.beginAtZero,this.integersOnly);a.extend(this,t)},xLabels:e,font:a.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&a.extend(n,{calculateYRange:a.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new t.Scale(n)},addData:function(e,t){a.each(e,function(e,o){a.isNumber(e)&&this.datasets[o].points.push(new this.PointClass({value:e,label:t,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[o].pointStrokeColor,fillColor:this.datasets[o].pointColor}))},this),this.scale.addXLabel(t),this.update()},removeData:function(){this.scale.removeXLabel(),a.each(this.datasets,function(e){e.points.shift()},this),this.update()},reflow:function(){var e=a.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var t=e||1;this.clear();var o=this.chart.ctx;this.scale.draw(t),a.each(this.datasets,function(e){a.each(e.points,function(e,a){e.transition({y:this.scale.calculateY(e.value),x:this.scale.calculateX(a)},t)},this),this.options.bezierCurve&&a.each(e.points,function(t,o){t.controlPoints=0===o?a.splineCurve(t,t,e.points[o+1],0):o>=e.points.length-1?a.splineCurve(e.points[o-1],t,t,0):a.splineCurve(e.points[o-1],t,e.points[o+1],this.options.bezierCurveTension)},this),o.lineWidth=this.options.datasetStrokeWidth,o.strokeStyle=e.strokeColor,o.beginPath(),a.each(e.points,function(t,a){a>0?this.options.bezierCurve?o.bezierCurveTo(e.points[a-1].controlPoints.outer.x,e.points[a-1].controlPoints.outer.y,t.controlPoints.inner.x,t.controlPoints.inner.y,t.x,t.y):o.lineTo(t.x,t.y):o.moveTo(t.x,t.y)},this),o.stroke(),this.options.datasetFill&&(o.lineTo(e.points[e.points.length-1].x,this.scale.endPoint),o.lineTo(this.scale.calculateX(0),this.scale.endPoint),o.fillStyle=e.fillColor,o.closePath(),o.fill()),a.each(e.points,function(e){e.draw()})},this)}})}.call(this),function(){"use strict";var e=this,t=e.Chart,a=t.helpers,o={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"PolarArea",defaults:o,initialize:function(e){this.segments=[],this.SegmentArc=t.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:e.length}),this.updateScaleRange(e),this.scale.update(),a.each(e,function(e,t){this.addData(e,t,!0)},this),this.options.showTooltips&&a.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];a.each(this.segments,function(e){e.restore(["fillColor"])}),a.each(t,function(e){e.fillColor=e.highlightColor}),this.showTooltip(t)}),this.render()},getSegmentsAtEvent:function(e){var t=[],o=a.getRelativePosition(e);return a.each(this.segments,function(e){e.inRange(o.x,o.y)&&t.push(e)},this),t},addData:function(e,t,a){var o=t||this.segments.length;this.segments.splice(o,0,new this.SegmentArc({fillColor:e.color,highlightColor:e.highlight||e.color,label:e.label,value:e.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(e.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),a||(this.reflow(),this.update())},removeData:function(e){var t=a.isNumber(e)?e:this.segments.length-1;this.segments.splice(t,1),this.reflow(),this.update()},calculateTotal:function(e){this.total=0,a.each(e,function(e){this.total+=e.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(e){var t=[];a.each(e,function(e){t.push(e.value)});var o=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:a.calculateScaleRange(t,a.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);a.extend(this.scale,o,{size:a.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),a.each(this.segments,function(e){e.save()}),this.render()},reflow:function(){a.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),a.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),a.each(this.segments,function(e){e.update({outerRadius:this.scale.calculateCenterOffset(e.value)})},this)},draw:function(e){var t=e||1;this.clear(),a.each(this.segments,function(e,a){e.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(e.value)},t),e.endAngle=e.startAngle+e.circumference,0===a&&(e.startAngle=1.5*Math.PI),a<this.segments.length-1&&(this.segments[a+1].startAngle=e.endAngle),e.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var e=this,t=e.Chart,a=t.helpers;t.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(e){this.PointClass=t.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(e),this.options.showTooltips&&a.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),a.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),a.each(e.datasets,function(t){var o={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,points:[]};this.datasets.push(o),a.each(t.data,function(i,n){if(a.isNumber(i)){var s;this.scale.animation||(s=this.scale.getPointPosition(n,this.scale.calculateCenterOffset(i))),o.points.push(new this.PointClass({value:i,label:e.labels[n],datasetLabel:t.label,x:this.options.animation?this.scale.xCenter:s.x,y:this.options.animation?this.scale.yCenter:s.y,strokeColor:t.pointStrokeColor,fillColor:t.pointColor,highlightFill:t.pointHighlightFill||t.pointColor,highlightStroke:t.pointHighlightStroke||t.pointStrokeColor}))}},this)},this),this.render()},eachPoints:function(e){a.each(this.datasets,function(t){a.each(t.points,e,this)},this)},getPointsAtEvent:function(e){var t=a.getRelativePosition(e),o=a.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},t),i=2*Math.PI/this.scale.valuesCount,n=Math.round((o.angle-1.5*Math.PI)/i),s=[];return(n>=this.scale.valuesCount||0>n)&&(n=0),o.distance<=this.scale.drawingArea&&a.each(this.datasets,function(e){s.push(e.points[n])}),s},buildScale:function(e){this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:e.labels,valuesCount:e.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(e.datasets),this.scale.buildYLabels()},updateScaleRange:function(e){var t=function(){var t=[];return a.each(e,function(e){e.data?t=t.concat(e.data):a.each(e.points,function(e){t.push(e.value)})}),t}(),o=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:a.calculateScaleRange(t,a.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);a.extend(this.scale,o)},addData:function(e,t){this.scale.valuesCount++,a.each(e,function(e,o){if(a.isNumber(e)){var i=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(e));this.datasets[o].points.push(new this.PointClass({value:e,label:t,x:i.x,y:i.y,strokeColor:this.datasets[o].pointStrokeColor,fillColor:this.datasets[o].pointColor}))}},this),this.scale.labels.push(t),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),a.each(this.datasets,function(e){e.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(e){e.save()}),this.reflow(),this.render()},reflow:function(){a.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:a.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(e){var t=e||1,o=this.chart.ctx;this.clear(),this.scale.draw(),a.each(this.datasets,function(e){a.each(e.points,function(e,a){e.transition(this.scale.getPointPosition(a,this.scale.calculateCenterOffset(e.value)),t)},this),o.lineWidth=this.options.datasetStrokeWidth,o.strokeStyle=e.strokeColor,o.beginPath(),a.each(e.points,function(e,t){0===t?o.moveTo(e.x,e.y):o.lineTo(e.x,e.y)},this),o.closePath(),o.stroke(),o.fillStyle=e.fillColor,o.fill(),a.each(e.points,function(e){e.draw()})},this)}})}.call(this),function(e){var t,a;return a="undefined"!=typeof window&&null!==window?window:global,a.BarRating=t=function(){function t(){this.show=function(){var t,a,o,i,n=e(this.elem),s=this.options;n.data("barrating")||(i=s.initialRating?e('option[value="'+s.initialRating+'"]',n):e("option:selected",n),n.data("barrating",{currentRatingValue:i.val(),currentRatingText:i.text(),originalRatingValue:i.val(),originalRatingText:i.text()}),t=e("<div />",{"class":"br-widget"}).insertAfter(n),n.find("option").each(function(){var a,o,i,n;a=e(this).val(),a&&(o=e(this).text(),i=e("<a />",{href:"#","data-rating-value":a,"data-rating-text":o}),n=e("<span />",{text:s.showValues?o:""}),t.append(i.append(n)))}),s.showSelectedRating&&t.append(e("<div />",{text:"","class":"br-current-rating"})),n.data("barrating").deselectable=n.find("option:first").val()?!1:!0,o=s.reverse?"nextAll":"prevAll",s.reverse&&t.addClass("br-reverse"),s.readonly&&t.addClass("br-readonly"),t.on("ratingchange",function(t,a,o){a=a?a:n.data("barrating").currentRatingValue,o=o?o:n.data("barrating").currentRatingText,n.find('option[value="'+a+'"]').prop("selected",!0),s.showSelectedRating&&e(this).find(".br-current-rating").text(o)}).trigger("ratingchange"),t.on("updaterating",function(){e(this).find('a[data-rating-value="'+n.data("barrating").currentRatingValue+'"]').addClass("br-selected br-current")[o]().addClass("br-selected")}).trigger("updaterating"),a=t.find("a"),a.on("touchstart",function(t){t.preventDefault(),t.stopPropagation(),e(this).click()}),s.readonly&&a.on("click",function(e){e.preventDefault()}),s.readonly||(a.on("click",function(i){var r,c,l=e(this);return i.preventDefault(),a.removeClass("br-active br-selected"),l.addClass("br-selected")[o]().addClass("br-selected"),r=l.attr("data-rating-value"),c=l.attr("data-rating-text"),l.hasClass("br-current")&&n.data("barrating").deselectable?(l.removeClass("br-selected br-current")[o]().removeClass("br-selected br-current"),r="",c=""):(a.removeClass("br-current"),l.addClass("br-current")),n.data("barrating").currentRatingValue=r,n.data("barrating").currentRatingText=c,t.trigger("ratingchange"),s.onSelect.call(this,n.data("barrating").currentRatingValue,n.data("barrating").currentRatingText),!1}),a.on({mouseenter:function(){var i=e(this);a.removeClass("br-active").removeClass("br-selected"),i.addClass("br-active")[o]().addClass("br-active"),t.trigger("ratingchange",[i.attr("data-rating-value"),i.attr("data-rating-text")])
}}),t.on({mouseleave:function(){a.removeClass("br-active"),t.trigger("ratingchange").trigger("updaterating")}})),n.hide())},this.clear=function(){var t=e(this.elem),a=t.next(".br-widget");a&&t.data("barrating")&&(a.find("a").removeClass("br-selected br-current"),t.data("barrating").currentRatingValue=t.data("barrating").originalRatingValue,t.data("barrating").currentRatingText=t.data("barrating").originalRatingText,a.trigger("ratingchange").trigger("updaterating"),this.options.onClear.call(this,t.data("barrating").currentRatingValue,t.data("barrating").currentRatingText))},this.destroy=function(){var t=e(this.elem),a=t.next(".br-widget");if(a&&t.data("barrating")){var o=t.data("barrating").currentRatingValue,i=t.data("barrating").currentRatingText;t.removeData("barrating"),a.off().remove(),t.show(),this.options.onDestroy.call(this,o,i)}}}return t.prototype.init=function(t,a){var o;return o=this,o.elem=a,o.options=e.extend({},e.fn.barrating.defaults,t)},t}(),e.fn.barrating=function(a,o){return this.each(function(){var i=new t;return e(this).is("select")||e.error("Sorry, this plugin only works with select fields."),i.hasOwnProperty(a)?(i.init(o,this),i[a]()):"object"!=typeof a&&a?(e.error("Method "+a+" does not exist on jQuery.barrating"),void 0):(o=a,i.init(o,this),i.show())})},e.fn.barrating.defaults={initialRating:null,showValues:!1,showSelectedRating:!0,reverse:!1,readonly:!1,onSelect:function(){},onClear:function(){},onDestroy:function(){}}}(jQuery);