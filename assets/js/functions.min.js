function getMapas(e){var a=$.parseJSON(e);creaMapa(a)}function creaMapa(e){function a(){var e=new google.maps.LatLngBounds;$.each(r,function(a,o){e.extend(o.position)}),i.fitBounds(e)}function o(e){var a,o;return null!==typeof e&&(e.indexOf("mapa:")>-1?(a=e.split("mapa:"),o=a[1]+","+a[2]):(a=e.split("&"),$.each(a,function(e,a){a.indexOf("sll=")>-1&&(o=a.replace("sll=",""))}))),"undefined"==typeof o?-1:o}var t=[];$.each(e,function(e,a){var n=[],i=o(a.url_ubicacion),s="<h3>"+a.nombre+"</h3><h3>Dirección</h3><br /><p>"+a.calle_numero+"<br />Col. "+a.colonia+"<br />Del. "+a.delegacion+", "+a.cp+"</p><h3>Teléfonos</h3><p>"+a.telefonos+"</p>";if(-1!=i){var r=i.split(",");n.push(s),n.push(r[0]),n.push(r[1]),t.push(n)}});for(var n,i=new google.maps.Map(document.getElementById("map"),{zoom:20,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,streetViewControl:!1,panControl:!1,scrollwheel:!1,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_BOTTOM}}),s=new google.maps.InfoWindow({maxWidth:400}),r=new Array,c=0;c<t.length;c++)n=new google.maps.Marker({position:new google.maps.LatLng(t[c][1],t[c][2]),map:i}),r.push(n),google.maps.event.addListener(n,"click",function(e,a){return function(){s.setContent(t[a][0]),s.open(i,e)}}(n,c));a()}function busquedaTS(e){var a,o=$.parseJSON(e),t=[],n={};$.each(o,function(e,a){t.push(a.nombre_ts),n[a.nombre_ts]=a.id_tramite_servicio}),$('.main-search-header input[type="search"]').autocomplete({source:t,select:function(e,o){$("#ts_id").val(n[o.item.value]),a=$("#ts_id").attr("value"),window.open("http://localhost:8888/directorio/index.php/tramites_servicios/muestraInfo/"+a,"_self")},appendTo:".main-search-header"}),$('.main-search-home input[type="search"]').autocomplete({source:t,select:function(e,o){$("#ts_home_id").val(n[o.item.value]),a=$("#ts_home_id").attr("value"),window.open("http://localhost:8888/directorio/index.php/tramites_servicios/muestraInfo/"+a,"_self")},appendTo:".main-search-home"}),$(".main-search button").on("click",function(e){e.preventDefault(),a=$("#ts_id").val(),window.open("http://localhost:8888/directorio/index.php/tramites_servicios/muestraInfo/"+a,"_self")})}function agregarTS(e,a,o){var t=$.parseJSON(e),n=[],i={};$.each(t,function(e,a){o.indexOf(a.id_tramite_servicio)<0&&(n.push(a.nombre_ts),i[a.nombre_ts]=a.id_tramite_servicio)}),$('.main-search-cms input[type="search"]').autocomplete({source:n,select:function(e,o){$("#ts_cms_id").val(i[o.item.value]);var t=$("#ts_cms_id").attr("value"),n=o.item.value;agregarTSSolicitado(t,n,a)},appendTo:".main-search-cms"}),$(".main-search button").on("click",function(e){e.preventDefault();var o=$("#ts_cms_id").val(),t=$('input[type="search"]').val();agregarTSSolicitado(o,t,a)})}function toggleUrlAviso(){$('.crea-aviso input[name="link_aviso"]').change(function(){$(this).is(":checked")?($(".url_aviso").removeClass("hide"),$(".url_aviso input").val(""),$(".url_aviso input").focus()):($(".url_aviso").addClass("hide"),$(".url_aviso input").val("-"))})}function agregarTSSolicitado(e,a,o){var t={};t.id_ts=e,$.post(o+"index.php/gestor_contenidos/agregar_ts_solicitado",t,function(o){var t=$.parseJSON(o);if($(".success, .error").addClass("hide"),"success"==t.estatus){$(".success").text(t.msg),$(".success").removeClass("hide");var n='<div class="fila"> 									<p class="columna xmall-10">'+a+'</p> 									<a href="" data-ts="'+e+'" class="text-center block columna xmall-2">Eliminar</a> 								</div>';$(n).appendTo(".tabla-ts")}else $(".error").text(t.msg),$(".error").removeClass("hide")})}function eliminarTSSolicitado(e){$(".fila a").on("click",function(a){a.preventDefault();var o=$(this).data("ts"),t={};t.id_ts=o,$.post(e+"index.php/gestor_contenidos/eliminar_ts_solicitado",t,function(e){var a=$.parseJSON(e);$(".success, .error").addClass("hide"),$(".success").text(a.msg),$(".success").removeClass("hide")}),$(this).parent().remove()})}function toggleUrlAnuncio(){$('.crea-anuncio input[name="link_anuncio"]').change(function(){$(this).is(":checked")?($(".url_anuncio").removeClass("hide"),$(".url_anuncio input").val(""),$(".url_anuncio input").focus()):($(".url_anuncio").addClass("hide"),$(".url_anuncio input").val("-"))})}function toggleSubirImagen(){$('input[name="subir_img"]').change(function(){$(this).is(":checked")?($(".cargar_img").removeClass("hide"),$(".img_actual").addClass("hide")):($(".cargar_img").addClass("hide"),$(".img_actual").removeClass("hide"))})}function votoPregunta(e){$(".pregunta a").on("click",function(a){a.preventDefault(),console.log(e);var o={};o.pregunta=$(this).data("pregunta"),o.respuesta=$(this).data("respuesta"),$.post(e+"index.php/inicio/set_voto",o,function(){$(".pregunta").empty(),$(".pregunta").html('<h2 class="text-center highlight">¡Gracias!</h2><h4 class="text-center">Tu opinión es muy importante para nosotros.</h4>')})})}function scrollHeader(e){var a=$(window).scrollTop();if($(e).length>0){var o=$(e).offset().top,t=$(e).height(),n=o+t;a>n?$(".when-scrolled").addClass("after-scrolled"):$(".when-scrolled").removeClass("after-scrolled")}}function numRespuestasSiNo(e,a){console.log("chart");var o={labels:["Si","No"],datasets:[{label:"Respuestas",fillColor:"rgba(236, 35, 131, 0.5)",strokeColor:"rgba(236, 35, 131, 1)",pointColor:"rgba(162, 43, 56, 1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(162, 43, 56, 1)",data:[e,a]}]},t=$("#chartRespuestas").get(0).getContext("2d");new Chart(t).Bar(o)}function porcentajeRespuestasSiNo(e,a){console.log(e),console.log(a);var o=[{value:parseFloat(e),color:"rgba(236, 35, 131, 0.2)",highlight:"rgba(236, 35, 131, 0.3)",label:"Si(%)"},{value:parseFloat(a),color:"rgba(236, 35, 131, 0.7)",highlight:"rgba(236, 35, 131, 0.8)",label:"No(%)"}],t=$("#donaRespuestas").get(0).getContext("2d");new Chart(t).Doughnut(o)}!function(e){"use strict";function a(e,a){a.slideToggle("fast")}function o(a){var o=a.data("tab");e(".tabs a").removeClass("active"),a.addClass("active"),e(".tab-content").addClass("hide"),e("."+o).removeClass("hide")}function t(a){var o=a.parent(".directorio-item").find("ul");o.hasClass("hide")?(e(".directorio-item").find("ul").addClass("hide"),o.removeClass("hide")):e(".directorio-item").find("ul").addClass("hide")}function n(a,o){e.each(a,function(){var a=e(this).find(o).length;console.log(a),e(this).find("h2").find("span").html("("+a+")")})}function i(){c(),h()}function s(){r(),m()}function r(){e(".transform h2").addClass("boton solid hero")}function c(){e(".transform h2").removeClass("boton solid hero")}function l(a){a.parent().data("content");var o=a.parent().find(".modal-to-be").html();e(".modal-content").html(o,function(){}),e(".modal-wrapper").fadeIn("fast",function(){e(this).removeClass("hide")})}function u(a){var o=a.parent().parent();o.fadeOut("fast",function(){e(this).addClass("hide")})}function d(){e(".overlay-wrapper").fadeIn("fast",function(){e(this).removeClass("hide")})}function p(a){var o=a.parent();o.fadeOut("fast",function(){e(this).addClass("hide")})}function h(){var a=e(".masonry-container");new Masonry(a[0],{itemSelector:".item"})}function m(){var a=e(".masonry-container"),o=new Masonry(a[0]);o.destroy()}function f(a){var o=a.data("seccion");console.log(o);var t=e("article[data-seccion='"+o+"']").offset().top;t-=100,e("html, body").animate({scrollTop:t},400)}function v(){e("html, body").animate({scrollTop:0},400)}function g(a){e(a).marquee({duration:12e3,pauseOnHover:!0})}e(function(){e(".mensaje p").removeClass("hide"),g(".mensaje p"),e(".masonry-container").length>0&&h(),n(e(".letra"),"li"),e(".tabs a").on("click",function(){o(e(this))}),e("body").on("click",".directorio-item > .boton",function(a){a.preventDefault(),t(e(this))}),e("body").on("click",".transform .boton",function(){l(e(this))}),e("body").on("click",".modal .cerrar",function(){u(e(this))}),e("body").on("click",".js-overlay-opener",function(){d(e(this))}),e("body").on("click",".overlay-wrapper .cerrar",function(){p(e(this))}),e("body").on("click",".scrollTo",function(){f(e(this))}),e("body").on("click",".back-to-top",function(){v()}),e(".menu").on("click",function(){a(e(this),e("nav"))}),mediaCheck({media:"(min-width: 1025px)",entry:function(){i()},exit:function(){s()},both:function(){}}),e(".js-login-form").validate(),e(".js-validate-aviso").validate({rules:{aviso:{maxlength:140},vigencia:{date:!0}}}),e(".js-validate-pregunta").validate({rules:{vigencia:{date:!0}}}),e(".js-validate-anuncio").validate({rules:{vigencia:{date:!0}}}),e.datepicker.regional.es={closeText:"Cerrar",prevText:"<",nextText:">",currentText:"Hoy",monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],dayNamesShort:["Dom","Lun","Mar","Mié","Juv","Vie","Sáb"],dayNamesMin:["Do","Lu","Ma","Mi","Ju","Vi","Sá"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.datepicker.setDefaults(e.datepicker.regional.es)})}(jQuery);