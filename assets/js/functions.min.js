function getMapas(n){var o=$.parseJSON(n);creaMapa(o)}function creaMapa(n){function o(){var n=new google.maps.LatLngBounds;$.each(c,function(o,e){n.extend(e.position)}),a.fitBounds(n)}function e(n){var o,e;return null!==typeof n&&(n.indexOf("mapa:")>-1?(o=n.split("mapa:"),e=o[1]+","+o[2]):(o=n.split("&"),$.each(o,function(n,o){o.indexOf("sll=")>-1&&(e=o.replace("sll=",""))}))),"undefined"==typeof e?-1:e}var t=[];$.each(n,function(n,o){var i=[],a=e(o.url_ubicacion),s="<h3>"+o.nombre+"</h3><h3>Dirección</h3><br /><p>"+o.calle_numero+"<br />Col. "+o.colonia+"<br />Del. "+o.delegacion+", "+o.cp+"</p><h3>Teléfonos</h3><p>"+o.telefonos+"</p>";if(-1!=a){var c=a.split(",");i.push(s),i.push(c[0]),i.push(c[1]),t.push(i)}});for(var i,a=new google.maps.Map(document.getElementById("map"),{zoom:20,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,streetViewControl:!1,panControl:!1,scrollwheel:!1,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_BOTTOM}}),s=new google.maps.InfoWindow({maxWidth:400}),c=new Array,r=0;r<t.length;r++)i=new google.maps.Marker({position:new google.maps.LatLng(t[r][1],t[r][2]),map:a}),c.push(i),google.maps.event.addListener(i,"click",function(n,o){return function(){s.setContent(t[o][0]),s.open(a,n)}}(i,r));o()}function busquedaTS(n){var o,e=$.parseJSON(n),t=[],i={};$.each(e,function(n,o){t.push(o.nombre_ts),i[o.nombre_ts]=o.id_tramite_servicio}),$('.main-search-header input[type="search"]').autocomplete({source:t,select:function(n,e){$("#ts_id").val(i[e.item.value]),o=$("#ts_id").attr("value"),window.open("http://localhost:8888/directorio/index.php/inicio/muestraTramiteServicio/"+o,"_self")},appendTo:".main-search-header"}),$('.main-search-home input[type="search"]').autocomplete({source:t,select:function(n,e){$("#ts_home_id").val(i[e.item.value]),o=$("#ts_home_id").attr("value"),window.open("http://localhost:8888/directorio/index.php/inicio/muestraTramiteServicio/"+o,"_self")},appendTo:".main-search-home"}),$(".main-search button").on("click",function(n){n.preventDefault(),o=$("#ts_id").val(),window.open("http://localhost:8888/directorio/index.php/inicio/muestraTramiteServicio/"+o,"_self")})}function agregarTS(n,o){var e,t=$.parseJSON(n),i=[],a={};$.each(t,function(n,o){i.push(o.nombre_ts),a[o.nombre_ts]=o.id_tramite_servicio}),$('.main-search-cms input[type="search"]').autocomplete({source:i,select:function(n,t){$("#ts_cms_id").val(a[t.item.value]),e=$("#ts_cms_id").attr("value"),agregarTSSolicitado(e,o)},appendTo:".main-search-cms"}),$(".main-search button").on("click",function(n){n.preventDefault(),e=$("#ts_cms_id").val(),agregarTSSolicitado(e,o)})}function toggleUrlAviso(){$('.crea-aviso input[name="link_aviso"]').change(function(){$(this).is(":checked")?($(".url_aviso").removeClass("hide"),$(".url_aviso input").val(""),$(".url_aviso input").focus()):($(".url_aviso").addClass("hide"),$(".url_aviso input").val("-"))})}function toggleUrlAnuncio(){$('.crea-anuncio input[name="link_anuncio"]').change(function(){$(this).is(":checked")?($(".url_anuncio").removeClass("hide"),$(".url_anuncio input").val(""),$(".url_anuncio input").focus()):($(".url_anuncio").addClass("hide"),$(".url_anuncio input").val("-"))})}function votoPregunta(n){$(".pregunta a").on("click",function(o){o.preventDefault(),console.log(n);var e={};e.pregunta=$(this).data("pregunta"),e.respuesta=$(this).data("respuesta"),$.post(n+"index.php/inicio/set_voto",e,function(){$(".pregunta").empty(),$(".pregunta").html('<h2 class="text-center highlight">¡Gracias!</h2><h4 class="text-center">Tu opinión es muy importante para nosotros.</h4>')})})}function agregarTSSolicitado(n,o){var e={};e.id_ts=n,$.post(o+"index.php/gestor_contenidos/agregar_ts_solicitado",e,function(){console.log("success")})}!function(n){"use strict";function o(n,o){o.slideToggle("fast")}function e(o){var e=o.data("tab");n(".tabs a").removeClass("active"),o.addClass("active"),n(".tab-content").addClass("hide"),n("."+e).removeClass("hide")}function t(o){var e=o.parent(".directorio-item").find("ul");e.hasClass("hide")?(n(".directorio-item").find("ul").addClass("hide"),e.removeClass("hide")):n(".directorio-item").find("ul").addClass("hide")}function i(o,e){n.each(o,function(){var o=n(this).find(e).length;console.log(o),n(this).find("h2").find("span").html("("+o+")")})}function a(){r()}function s(){c()}function c(){n(".transform h2").addClass("boton solid hero")}function r(){n(".transform h2").removeClass("boton solid hero")}function l(o){o.parent().data("content");var e=o.parent().find(".modal-to-be").html();n(".modal-content").html(e,function(){}),n(".modal-wrapper").fadeIn("fast",function(){n(this).removeClass("hide")})}function u(o){var e=o.parent().parent();e.fadeOut("fast",function(){n(this).addClass("hide")})}function d(){n(".overlay-wrapper").fadeIn("fast",function(){n(this).removeClass("hide")})}function p(o){var e=o.parent();e.fadeOut("fast",function(){n(this).addClass("hide")})}function h(){var o=n(".masonry-container");new Masonry(o[0],{itemSelector:".item"})}function f(){var o=n(window).scrollTop();if(n("aside .busqueda").length>0){var e=n("aside .busqueda").offset().top,t=n("aside .busqueda").height(),i=e+t;o>i?(console.log("ya"),n(".when-scrolled").addClass("after-scrolled")):(console.log("ya no"),n(".when-scrolled").removeClass("after-scrolled"))}}function m(o){var e=o.data("seccion");console.log(e);var t=n("article[data-seccion='"+e+"']").offset().top;t-=100,n("html, body").animate({scrollTop:t},400)}function v(){n("html, body").animate({scrollTop:0},400)}function g(o){n(o).marquee({duration:12e3,pauseOnHover:!0})}n(function(){n(".mensaje p").removeClass("hide"),g(".mensaje p"),n(".masonry-container").length>0&&h(),i(n(".letra"),"li"),f(),n(".tabs a").on("click",function(){e(n(this))}),n("body").on("click",".directorio-item > .boton",function(o){o.preventDefault(),t(n(this))}),n("body").on("click",".transform .boton",function(){l(n(this))}),n("body").on("click",".modal .cerrar",function(){u(n(this))}),n("body").on("click",".overlay-opener",function(){d(n(this))}),n("body").on("click",".overlay-wrapper .cerrar",function(){p(n(this))}),n("body").on("click",".scrollTo",function(){m(n(this))}),n("body").on("click",".back-to-top",function(){v()}),n(window).scroll(function(){f()}),n(".menu").on("click",function(){o(n(this),n("nav"))}),mediaCheck({media:"(min-width: 1025px)",entry:function(){a()},exit:function(){s()},both:function(){}})})}(jQuery);