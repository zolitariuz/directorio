function getMapas(e){var t=$.parseJSON(e);creaMapa(t)}function creaMapa(e){function t(){var e=new google.maps.LatLngBounds;$.each(s,function(t,n){e.extend(n.position)}),a.fitBounds(e)}function n(e){var t,n;return null!==typeof e&&(e.indexOf("mapa:")>-1?(t=e.split("mapa:"),n=t[1]+","+t[2]):(t=e.split("&"),$.each(t,function(e,t){t.indexOf("sll=")>-1&&(n=t.replace("sll=",""))}))),"undefined"==typeof n?-1:n}var i=[];$.each(e,function(e,t){var o=[],a=n(t.url_ubicacion),r="<h3>"+t.nombre+"</h3><h3>Dirección</h3><br /><p>"+t.calle_numero+"<br />Col. "+t.colonia+"<br />Del. "+t.delegacion+", "+t.cp+"</p><h3>Teléfonos</h3><p>"+t.telefonos+"</p>";if(-1!=a){var s=a.split(",");o.push(r),o.push(s[0]),o.push(s[1]),i.push(o)}});for(var o,a=new google.maps.Map(document.getElementById("map"),{zoom:20,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,streetViewControl:!1,panControl:!1,scrollwheel:!1,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_BOTTOM}}),r=new google.maps.InfoWindow({maxWidth:400}),s=new Array,c=0;c<i.length;c++)o=new google.maps.Marker({position:new google.maps.LatLng(i[c][1],i[c][2]),map:a}),s.push(o),google.maps.event.addListener(o,"click",function(e,t){return function(){r.setContent(i[t][0]),r.open(a,e)}}(o,c));t()}function busquedaTS(e){var t,n=$.parseJSON(e),i=[],o={};$.each(n,function(e,t){i.push(t.nombre_ts),o[t.nombre_ts]=t.id_tramite_servicio}),$('.main-search-header input[type="search"]').autocomplete({source:i,select:function(e,n){$("#ts_id").val(o[n.item.value]),t=$("#ts_id").attr("value"),window.open("http://localhost:8888/directorio/index.php/inicio/muestraTramiteServicio/"+t,"_self")},appendTo:".main-search-header"}),$('.main-search-home input[type="search"]').autocomplete({source:i,select:function(e,n){$("#ts_home_id").val(o[n.item.value]),t=$("#ts_home_id").attr("value"),window.open("http://localhost:8888/directorio/index.php/inicio/muestraTramiteServicio/"+t,"_self")},appendTo:".main-search-home"}),$(".main-search button").on("click",function(e){e.preventDefault(),t=$("#ts_id").val(),window.open("http://localhost:8888/directorio/index.php/inicio/muestraTramiteServicio/"+t,"_self")})}function agregarTS(e,t){var n,i=$.parseJSON(e),o=[],a={};$.each(i,function(e,t){o.push(t.nombre_ts),a[t.nombre_ts]=t.id_tramite_servicio}),$('.main-search-cms input[type="search"]').autocomplete({source:o,select:function(e,i){$("#ts_cms_id").val(a[i.item.value]),n=$("#ts_cms_id").attr("value"),agregarTSSolicitado(n,t)},appendTo:".main-search-cms"}),$(".main-search button").on("click",function(e){e.preventDefault(),n=$("#ts_cms_id").val(),agregarTSSolicitado(n,t)})}function toggleUrlAviso(){$('.crea-aviso input[name="link_aviso"]').change(function(){$(this).is(":checked")?($(".url_aviso").removeClass("hide"),$(".url_aviso input").val(""),$(".url_aviso input").focus()):($(".url_aviso").addClass("hide"),$(".url_aviso input").val("-"))})}function toggleUrlAnuncio(){$('.crea-anuncio input[name="link_anuncio"]').change(function(){$(this).is(":checked")?($(".url_anuncio").removeClass("hide"),$(".url_anuncio input").val(""),$(".url_anuncio input").focus()):($(".url_anuncio").addClass("hide"),$(".url_anuncio input").val("-"))})}function votoPregunta(e){$(".pregunta a").on("click",function(t){t.preventDefault(),console.log(e);var n={};n.pregunta=$(this).data("pregunta"),n.respuesta=$(this).data("respuesta"),$.post(e+"index.php/inicio/set_voto",n,function(){$(".pregunta").empty(),$(".pregunta").html('<h2 class="text-center highlight">¡Gracias!</h2><h4 class="text-center">Tu opinión es muy importante para nosotros.</h4>')})})}function agregarTSSolicitado(e,t){var n={};n.id_ts=e,$.post(t+"index.php/gestor_contenidos/agregar_ts_solicitado",n,function(){console.log("success")})}function scrollHeader(e){var t=$(window).scrollTop();if($(e).length>0){var n=$(e).offset().top,i=$(e).height(),o=n+i;t>o?$(".when-scrolled").addClass("after-scrolled"):$(".when-scrolled").removeClass("after-scrolled")}}!function(e){"use strict";function t(e,t){t.slideToggle("fast")}function n(t){var n=t.data("tab");e(".tabs a").removeClass("active"),t.addClass("active"),e(".tab-content").addClass("hide"),e("."+n).removeClass("hide")}function i(t){var n=t.parent(".directorio-item").find("ul");n.hasClass("hide")?(e(".directorio-item").find("ul").addClass("hide"),n.removeClass("hide")):e(".directorio-item").find("ul").addClass("hide")}function o(t,n){e.each(t,function(){var t=e(this).find(n).length;console.log(t),e(this).find("h2").find("span").html("("+t+")")})}function a(){c()}function r(){s()}function s(){e(".transform h2").addClass("boton solid hero")}function c(){e(".transform h2").removeClass("boton solid hero")}function l(t){t.parent().data("content");var n=t.parent().find(".modal-to-be").html();e(".modal-content").html(n,function(){}),e(".modal-wrapper").fadeIn("fast",function(){e(this).removeClass("hide")})}function u(t){var n=t.parent().parent();n.fadeOut("fast",function(){e(this).addClass("hide")})}function d(){e(".overlay-wrapper").fadeIn("fast",function(){e(this).removeClass("hide")})}function h(t){var n=t.parent();n.fadeOut("fast",function(){e(this).addClass("hide")})}function p(){var t=e(".masonry-container");new Masonry(t[0],{itemSelector:".item"})}function f(t){var n=t.data("seccion");console.log(n);var i=e("article[data-seccion='"+n+"']").offset().top;i-=100,e("html, body").animate({scrollTop:i},400)}function m(){e("html, body").animate({scrollTop:0},400)}function v(t){e(t).marquee({duration:12e3,pauseOnHover:!0})}e(function(){e(".mensaje p").removeClass("hide"),v(".mensaje p"),e(".masonry-container").length>0&&p(),o(e(".letra"),"li"),e(".tabs a").on("click",function(){n(e(this))}),e("body").on("click",".directorio-item > .boton",function(t){t.preventDefault(),i(e(this))}),e("body").on("click",".transform .boton",function(){l(e(this))}),e("body").on("click",".modal .cerrar",function(){u(e(this))}),e("body").on("click",".js-overlay-opener",function(){d(e(this))}),e("body").on("click",".overlay-wrapper .cerrar",function(){h(e(this))}),e("body").on("click",".scrollTo",function(){f(e(this))}),e("body").on("click",".back-to-top",function(){m()}),e(".js-login-form").validate(),e(".menu").on("click",function(){t(e(this),e("nav"))}),mediaCheck({media:"(min-width: 1025px)",entry:function(){a()},exit:function(){r()},both:function(){}})})}(jQuery);